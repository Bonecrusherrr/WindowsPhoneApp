if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-view'); }
// Copyright (C) Microsoft Corporation. All rights reserved.
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Gallery/Client/Controls/AcquireItemWizardError/AcquireItemWizardError.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.AcquireItemWizardErrorView=r});
define("Gallery/Client/Controls/AcquireItemWizardError/AcquireItemWizardError.ViewModel",["require","exports","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Adapters/Knockout"],function(n,t,i,r){var u=function(n){function t(t){var r=n.call(this)||this;return r._errorMessage="",r._header=i.SomethingGoneWrong,r._errorMessage=t.message,r}return __extends(t,n),t}(r.TemplateViewModel);t.AcquireItemWizardErrorViewModel=u});
define("VSS/Contributions/Contracts",["require","exports","VSS/Gallery/Contracts"],function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a,v,y;(function(n){n[n.None=0]="None";n[n.Me=1]="Me";n[n.All=2]="All"})(r=t.AcquisitionAssignmentType||(t.AcquisitionAssignmentType={})),function(n){n[n.Disallow=0]="Disallow";n[n.Allow=1]="Allow";n[n.Completed=3]="Completed"}(u=t.AcquisitionOperationState||(t.AcquisitionOperationState={})),function(n){n[n.Get=0]="Get";n[n.Install=1]="Install";n[n.Buy=2]="Buy";n[n.Try=3]="Try";n[n.Request=4]="Request";n[n.None=5]="None"}(f=t.AcquisitionOperationType||(t.AcquisitionOperationType={})),function(n){n[n.OnlyIfLicensed=0]="OnlyIfLicensed";n[n.OnlyIfUnlicensed=1]="OnlyIfUnlicensed";n[n.AlwaysInclude=2]="AlwaysInclude"}(e=t.ContributionLicensingBehaviorType||(t.ContributionLicensingBehaviorType={})),function(n){n[n.Unknown=0]="Unknown";n[n.String=1]="String";n[n.Uri=2]="Uri";n[n.Guid=4]="Guid";n[n.Boolean=8]="Boolean";n[n.Integer=16]="Integer";n[n.Double=32]="Double";n[n.DateTime=64]="DateTime";n[n.Dictionary=128]="Dictionary";n[n.Array=256]="Array";n[n.Object=512]="Object"}(o=t.ContributionPropertyType||(t.ContributionPropertyType={})),function(n){n[n.None=0]="None";n[n.IncludeSelf=16]="IncludeSelf";n[n.IncludeChildren=32]="IncludeChildren";n[n.IncludeSubTree=96]="IncludeSubTree";n[n.IncludeAll=112]="IncludeAll";n[n.IgnoreConstraints=256]="IgnoreConstraints"}(s=t.ContributionQueryOptions||(t.ContributionQueryOptions={})),function(n){n[n.BuiltIn=1]="BuiltIn";n[n.Trusted=2]="Trusted"}(h=t.ExtensionFlags||(t.ExtensionFlags={})),function(n){n[n.Open=0]="Open";n[n.Accepted=1]="Accepted";n[n.Rejected=2]="Rejected"}(c=t.ExtensionRequestState||(t.ExtensionRequestState={})),function(n){n[n.Created=1]="Created";n[n.Approved=2]="Approved";n[n.Rejected=3]="Rejected";n[n.Deleted=4]="Deleted"}(l=t.ExtensionRequestUpdateType||(t.ExtensionRequestUpdateType={})),function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.BuiltIn=2]="BuiltIn";n[n.MultiVersion=4]="MultiVersion";n[n.UnInstalled=8]="UnInstalled";n[n.VersionCheckError=16]="VersionCheckError";n[n.Trusted=32]="Trusted";n[n.Error=64]="Error";n[n.NeedsReauthorization=128]="NeedsReauthorization";n[n.AutoUpgradeError=256]="AutoUpgradeError";n[n.Warning=512]="Warning"}(a=t.ExtensionStateFlags||(t.ExtensionStateFlags={})),function(n){n[n.Installed=1]="Installed";n[n.Uninstalled=2]="Uninstalled";n[n.Enabled=3]="Enabled";n[n.Disabled=4]="Disabled";n[n.VersionUpdated=5]="VersionUpdated";n[n.ActionRequired=6]="ActionRequired";n[n.ActionResolved=7]="ActionResolved"}(v=t.ExtensionUpdateType||(t.ExtensionUpdateType={})),function(n){n[n.Warning=0]="Warning";n[n.Error=1]="Error"}(y=t.InstalledExtensionStateIssueType||(t.InstalledExtensionStateIssueType={}));t.TypeInfo={AcquisitionAssignmentType:{enumValues:{none:0,me:1,all:2}},AcquisitionOperation:{},AcquisitionOperationState:{enumValues:{disallow:0,allow:1,completed:3}},AcquisitionOperationType:{enumValues:{get:0,install:1,buy:2,"try":3,request:4,none:5}},AcquisitionOptions:{},ContributionLicensingBehaviorType:{enumValues:{onlyIfLicensed:0,onlyIfUnlicensed:1,alwaysInclude:2}},ContributionNodeQuery:{},ContributionPropertyDescription:{},ContributionPropertyType:{enumValues:{unknown:0,string:1,uri:2,guid:4,boolean:8,integer:16,double:32,dateTime:64,dictionary:128,array:256,object:512}},ContributionQueryOptions:{enumValues:{none:0,includeSelf:16,includeChildren:32,includeSubTree:96,includeAll:112,ignoreConstraints:256}},ContributionType:{},ExtensionAcquisitionRequest:{},ExtensionAuditLog:{},ExtensionAuditLogEntry:{},ExtensionEvent:{},ExtensionFlags:{enumValues:{builtIn:1,trusted:2}},ExtensionLicensing:{},ExtensionManifest:{},ExtensionRequest:{},ExtensionRequestEvent:{},ExtensionRequestState:{enumValues:{open:0,accepted:1,rejected:2}},ExtensionRequestUpdateType:{enumValues:{created:1,approved:2,rejected:3,deleted:4}},ExtensionState:{},ExtensionStateFlags:{enumValues:{none:0,disabled:1,builtIn:2,multiVersion:4,unInstalled:8,versionCheckError:16,trusted:32,error:64,needsReauthorization:128,autoUpgradeError:256,warning:512}},ExtensionUpdateType:{enumValues:{installed:1,uninstalled:2,enabled:3,disabled:4,versionUpdated:5,actionRequired:6,actionResolved:7}},InstalledExtension:{},InstalledExtensionState:{},InstalledExtensionStateIssue:{},InstalledExtensionStateIssueType:{enumValues:{warning:0,error:1}},LicensingOverride:{},RequestedExtension:{}};t.TypeInfo.AcquisitionOperation.fields={operationState:{enumType:t.TypeInfo.AcquisitionOperationState},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.AcquisitionOptions.fields={defaultOperation:{typeInfo:t.TypeInfo.AcquisitionOperation},operations:{isArray:!0,typeInfo:t.TypeInfo.AcquisitionOperation}};t.TypeInfo.ContributionNodeQuery.fields={queryOptions:{enumType:t.TypeInfo.ContributionQueryOptions}};t.TypeInfo.ContributionPropertyDescription.fields={type:{enumType:t.TypeInfo.ContributionPropertyType}};t.TypeInfo.ContributionType.fields={properties:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributionPropertyDescription}};t.TypeInfo.ExtensionAcquisitionRequest.fields={assignmentType:{enumType:t.TypeInfo.AcquisitionAssignmentType},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.ExtensionAuditLog.fields={entries:{isArray:!0,typeInfo:t.TypeInfo.ExtensionAuditLogEntry}};t.TypeInfo.ExtensionAuditLogEntry.fields={auditDate:{isDate:!0}};t.TypeInfo.ExtensionEvent.fields={extension:{typeInfo:i.TypeInfo.PublishedExtension},updateType:{enumType:t.TypeInfo.ExtensionUpdateType}};t.TypeInfo.ExtensionLicensing.fields={overrides:{isArray:!0,typeInfo:t.TypeInfo.LicensingOverride}};t.TypeInfo.ExtensionManifest.fields={contributionTypes:{isArray:!0,typeInfo:t.TypeInfo.ContributionType},licensing:{typeInfo:t.TypeInfo.ExtensionLicensing}};t.TypeInfo.ExtensionRequest.fields={requestDate:{isDate:!0},requestState:{enumType:t.TypeInfo.ExtensionRequestState},resolveDate:{isDate:!0}};t.TypeInfo.ExtensionRequestEvent.fields={extension:{typeInfo:i.TypeInfo.PublishedExtension},request:{typeInfo:t.TypeInfo.ExtensionRequest},updateType:{enumType:t.TypeInfo.ExtensionRequestUpdateType}};t.TypeInfo.ExtensionState.fields={flags:{enumType:t.TypeInfo.ExtensionStateFlags},installationIssues:{isArray:!0,typeInfo:t.TypeInfo.InstalledExtensionStateIssue},lastUpdated:{isDate:!0},lastVersionCheck:{isDate:!0}};t.TypeInfo.InstalledExtension.fields={contributionTypes:{isArray:!0,typeInfo:t.TypeInfo.ContributionType},flags:{enumType:t.TypeInfo.ExtensionFlags},installState:{typeInfo:t.TypeInfo.InstalledExtensionState},lastPublished:{isDate:!0},licensing:{typeInfo:t.TypeInfo.ExtensionLicensing}};t.TypeInfo.InstalledExtensionState.fields={flags:{enumType:t.TypeInfo.ExtensionStateFlags},installationIssues:{isArray:!0,typeInfo:t.TypeInfo.InstalledExtensionStateIssue},lastUpdated:{isDate:!0}};t.TypeInfo.InstalledExtensionStateIssue.fields={type:{enumType:t.TypeInfo.InstalledExtensionStateIssueType}};t.TypeInfo.LicensingOverride.fields={behavior:{enumType:t.TypeInfo.ContributionLicensingBehaviorType}};t.TypeInfo.RequestedExtension.fields={extensionRequests:{isArray:!0,typeInfo:t.TypeInfo.ExtensionRequest}}});
define("VSS/Contributions/Services",["require","exports","q","VSS/Common/Constants/Platform","VSS/WebApi/Constants","VSS/Context","VSS/Common/Contracts/Platform","VSS/Contributions/Contracts","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Locations","VSS/Resources/VSS.Resources.Platform","VSS/Serialization","VSS/Service","VSS/Telemetry/Services","VSS/Utils/File","VSS/Utils/String","VSS/VSS","VSS/Navigation/HubsService"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function et(n,t){return b.requireModules(["VSS/Contributions/RestClient"]).spread(function(i){return n.getHttpClient(i.ContributionsHttpClient,t)})}var ft,d,ot,g,nt,it,rt,ut,tt;(function(n){n.CONTRIBUTIONS_AREA="Microsoft.VisualStudio.Services.Contributions";n.CONTRIBUTIONS_USAGE_FEATURE="ContributionUsage";n.CONTRIBUTIONS_ACTION="Action";n.CONTRIBUTIONS_ACTION_EXECUTE="Execute"})(ft=t.CustomerIntelligenceConstants||(t.CustomerIntelligenceConstants={})),function(n){n.ServiceInstanceTypeProperty="::ServiceInstanceType";n.AttributesProperty="::Attributes";n.BaseUriProperty="::BaseUri";n.FallbackBaseUriProperty="::FallbackBaseUri";n.VersionProperty="::Version";n.RegistrationIdProperty="::RegistrationId"}(d=t.ContributionReservedProperties||(t.ContributionReservedProperties={})),function(n){n[n.BuiltIn=1]="BuiltIn";n[n.MultiVersion=2]="MultiVersion";n[n.Paid=4]="Paid";n[n.Preview=8]="Preview";n[n.Public=16]="Public";n[n.System=32]="System";n[n.Trusted=64]="Trusted"}(ot=t.ContributionReservedAttributeValue||(t.ContributionReservedAttributeValue={})),function(n){n[n.IncludeRoot=1]="IncludeRoot";n[n.IncludeDirectTargets=2]="IncludeDirectTargets";n[n.IncludeRecursiveTargets=4]="IncludeRecursiveTargets";n[n.IncludeAll=7]="IncludeAll";n[n.LocalOnly=8]="LocalOnly"}(g=t.ContributionQueryOptions||(t.ContributionQueryOptions={})),function(n){n[n.None=0]="None";n[n.Include=1]="Include";n[n.Recurse=2]="Recurse";n[n.IncludeAndRecurse=3]="IncludeAndRecurse"}(nt=t.ContributionQueryCallbackResult||(t.ContributionQueryCallbackResult={}));it=function(n){function t(){var t=n.call(this)||this;return t._clearCachedContributionData(),t}return __extends(t,n),t.prototype._clearCachedContributionData=function(){this._contributionsById={};this._contributionsByTargetId={};this._targetsByUnresolvedContributionId={};this._loadedContributionTargets={};this._contributionQueryPromises={}},t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._webPageDataService=this.getConnection().getService(ut);f.getDefaultWebContext()===t.getWebContext()&&this._processJsonIsland()},t.prototype.registerContributions=function(n){var t=this,e,i,r,u,f,o;if(n)for(e=function(n){i._loadedContributionTargets[n.id]=!0;i._contributionsById[n.id]=n;r=i._targetsByUnresolvedContributionId[n.id];r&&r.length>0&&(r.forEach(function(i){t._registerContributionTarget(n,i)}),delete i._targetsByUnresolvedContributionId[n.id]);n.targets&&n.targets.forEach(function(i){t._registerContributionTarget(n,i)});n.includes&&n.includes.forEach(function(i){var u=t._contributionsById[i],r;u?t._registerContributionTarget(u,n.id):(r=t._targetsByUnresolvedContributionId[i],r||(r=[],t._targetsByUnresolvedContributionId[i]=r),r.push(n.id))});n.properties||(n.properties={})},i=this,u=0,f=n;u<f.length;u++)o=f[u],e(o)},t.prototype.getContribution=function(n){return this.getContributions([n],!0,!1).then(function(t){if(t.length===0)throw w.format("Contribution with id '{0}' could not be found.",n);else return t[0]})},t.prototype.getContributionsForTarget=function(n,t){return this.getContributions([n],!1,!0,!1,t)},t.prototype.getContributionsForTargets=function(n,t){return this.getContributions(n,!1,!0,!1,t)},t.prototype.getContributions=function(n,t,i,r,u){r===void 0&&(r=!1);u===void 0&&(u=null);var f=0;return t&&(f|=g.IncludeRoot),i&&(f|=g.IncludeDirectTargets),r&&(f|=g.IncludeRecursiveTargets),this.queryContributions(n,f,u)},t.prototype.queryContributions=function(n,u,f,e){var s=this,c,a;if(h.FeatureAvailabilityService.isFeatureEnabled(t._testExecutionFeatureFlag,!1))return i.resolve([]);c=(u&g.LocalOnly)!=0?[]:this._getUnqueriedContributions(n);var l=i.defer(),v=this._getPendingLoadPromises(n),y=function(){v.length>0?i.all(v).then(function(){s._resolveContributions(s._getLoadedContributions(n,u,f,e)).then(l.resolve,l.reject)},l.reject):s._resolveContributions(s._getLoadedContributions(n,u,f,e)).then(l.resolve,l.reject)};return c=c.filter(function(n){return n!==undefined&&n!==null}),c.length>0?(a=et(this.getConnection()).then(function(n){if(h.FeatureAvailabilityService.isFeatureEnabled(r.WebPlatformFeatureFlags.QueryContributionNodes)){var t={contributionIds:c,includeProviderDetails:!0,queryOptions:o.ContributionQueryOptions.IncludeAll};return n.queryContributionNodes(t).then(function(n){var r=[],t,i;if(n&&n.nodes)for(t in n.nodes)n.nodes.hasOwnProperty(t)&&r.push(n.nodes[t].contribution);if(n&&n.providerDetails)for(i in n.providerDetails)n.providerDetails.hasOwnProperty(i)&&s._registerContributionProviderDetails(n.providerDetails[i]);return r})}return n.getInstalledExtensions(c,!1).then(function(n){var t=[];return n&&n.length>0&&n.forEach(function(n){var i={};i.displayName=n.publisherName;i.name=n.publisherId+"."+n.extensionId;i.properties={};i.properties[d.BaseUriProperty]=n.baseUri;i.properties[d.FallbackBaseUriProperty]=n.fallbackBaseUri;i.properties[d.VersionProperty]=n.version;i.properties[d.RegistrationIdProperty]=n.registrationId;s._registerContributionProviderDetails(i);t=t.concat(n.contributions)}),t})}),$.each(c,function(n,t){s._contributionQueryPromises[t]=a}),a.then(function(n){$.each(c,function(n,t){s._loadedContributionTargets[t]=!0});s.registerContributions(n);$.each(c,function(n,t){delete s._contributionQueryPromises[t]});y()},function(n){$.each(c,function(n,t){delete s._contributionQueryPromises[t]});l.reject(n)})):y(),l.promise},t.prototype.isExtensionActive=function(n){var t=n.split(".");return et(this.getConnection()).then(function(n){return n.getInstalledExtensionByName(t[0],t[1]).then(function(n){return n!==null},function(){return!1})})},t.prototype._getProviderIdentifier=function(n){var t=n.id.split(".");return t[0]+"."+t[1]},t.prototype._getProviderDetails=function(n){var t=this._getProviderIdentifier(n);return this._contributionProviderDetailsMap?this._contributionProviderDetailsMap[t]:null},t.prototype.getProviderDisplayName=function(n){var t=this._getProviderDetails(n);return t?t.displayName:null},t.prototype.getVersion=function(n){var t=this._getProviderDetails(n);return t&&t.properties?t.properties[d.VersionProperty]:null},t.prototype.getRegistrationId=function(n){var t=this._getProviderDetails(n);return t&&t.properties?t.properties[d.RegistrationIdProperty]:null},t.prototype.getBaseUri=function(n){var t=this._getProviderDetails(n);return t&&t.properties?t.properties[d.BaseUriProperty]:null},t.prototype.getFallbackUri=function(n){var t=this._getProviderDetails(n);return t&&t.properties?t.properties[d.FallbackBaseUriProperty]:null},t.prototype.getServiceInstanceType=function(n){var t=this._getProviderDetails(n);return t&&t.properties?t.properties[d.ServiceInstanceTypeProperty]:null},t.prototype._resolveContributions=function(n){if(!n.length)return i.resolve(n);var t=this._getLoadedContributions(n.map(function(n){return n.id}),g.IncludeAll,r.DataProviderConstants.DataProviderContributionTypeId);return t.length?this._webPageDataService.ensureDataProvidersResolved(t).then(function(){return n}):i.resolve(n)},t.prototype._getUnqueriedContributions=function(n){var t=this;return $.grep(n,function(n){return t._loadedContributionTargets[n]||t._contributionQueryPromises[n]?!1:!0})},t.prototype._getPendingLoadPromises=function(n){var i=this,t=[];return $.each(n,function(n,r){var u=i._contributionQueryPromises[r];u&&t.push(u)}),t},t.prototype._getLoadedContributions=function(n,t,i,r){var e=this,u=[],f={},o=[],s;return $.each(n,function(n,s){var c=e._contributionsById[s],h;c&&!f[s]&&(h=nt.None,r==null?((t&g.IncludeRoot)!=0&&(h|=nt.Include),((t&g.IncludeDirectTargets)!=0||(t&g.IncludeRecursiveTargets)!=0)&&(h|=nt.Recurse)):h=r(c),f[s]=!0,(h&nt.Include)!=0&&(!i||tt.isContributionOfType(c,i))&&u.push(c),(h&nt.Recurse)!=0&&o.push(s))}),s=r==null?(t&g.IncludeRecursiveTargets)!=0?function(){return nt.IncludeAndRecurse}:function(){return nt.Include}:r,$.each(o,function(n,t){e._fetchTargetingContributions(t,u,f,s,i)}),u},t.prototype._fetchTargetingContributions=function(n,t,i,r,u){var e=this,f=this._contributionsByTargetId[n];f&&$.each(f,function(n,f){var o=f.id,s;i[o]||(i[o]=!0,s=r(f),(s&nt.Include)!=0&&(!u||tt.isContributionOfType(f,u))&&t.push(f),(s&nt.Recurse)!=0&&e._fetchTargetingContributions(o,t,i,r,u))})},t.prototype._processJsonIsland=function(){var n=a.deserializeJsonIsland($(".vss-contribution-data"),null);n&&this.registerContributionData(n)},t.prototype.registerContributionData=function(n,t){var i,r,u;if(t&&this._clearCachedContributionData(),n.contributions&&n.contributions.length&&this.registerContributions(n.contributions),n.queriedContributionIds)for(i=0,r=n.queriedContributionIds;i<r.length;i++)u=r[i],this._loadedContributionTargets[u]=!0;n.providerDetails&&(this._contributionProviderDetailsMap=n.providerDetails)},t.prototype._registerContributionTarget=function(n,t){var i=this._contributionsByTargetId[t];i||(i=[],this._contributionsByTargetId[t]=i);i.indexOf(n)<0&&i.push(n)},t.prototype._registerContributionProviderDetails=function(n){this._contributionProviderDetailsMap||(this._contributionProviderDetailsMap={});this._contributionProviderDetailsMap[n.name]=n},t.prototype.getLoadedContributionsOfType=function(n){var i=[],r,t;for(r in this._contributionsById)t=this._contributionsById[r],w.equals(n,t.type)&&i.push(t);return this._resolveContributions(i)},t}(v.VssService);it._testExecutionFeatureFlag="VisualStudio.Services.Contribution.TestExecution";t.ExtensionService=it,function(n){n[n.JsonIsland=0]="JsonIsland";n[n.RestCall=1]="RestCall";n[n.LocalStorage=2]="LocalStorage"}(rt=t.WebPageDataSource||(t.WebPageDataSource={}));ut=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._localDataSource={},t._resolvedProviders={},t._contributionPromises={},t._contributionIdsByDataType={},t}return __extends(t,n),t.prototype._ensureInitialized=function(){var n;if(!this._initializationPromise)if(this._localData={},n=a.deserializeJsonIsland($(".vss-web-page-data"),null),n){var t=[],u=a.deserializeJsonIsland($(".vss-contribution-data"),null),f=u?u.contributions:[];f.forEach(function(n){w.equals(n.type,r.DataProviderConstants.DataProviderContributionTypeId,!0)&&t.push(n)});this._initializationPromise=this._handleDataProviderResult(n,t,rt.JsonIsland)}else this._initializationPromise=i.resolve(null);return this._initializationPromise},t.prototype.registerProviderData=function(n,t,i){var o=[],u,f,e;if(t)for(u=0,f=t;u<f.length;u++)e=f[u],w.equals(e.type,r.DataProviderConstants.DataProviderContributionTypeId,!0)&&o.push(e);return i&&this._clearCachedDataProviders(),this._handleDataProviderResult(n,o,rt.JsonIsland)},t.prototype._clearCachedDataProviders=function(){this._resolvedProviders={};this._localData={};this._localDataSource={};this._contributionIdsByDataType={};this._contributionPromises={}},t.prototype._handleDataProviderResult=function(n,u,f){var e=this,h,c,o,a,v;if(n.resolvedProviders&&n.resolvedProviders.forEach(function(n){e._resolvedProviders[n.id]=n;n.error&&s.logWarning(w.format(l.DataProviderFailureMessageFormat,n.id,n.error))}),h=[],n.data){for(c={},o=0,a=u;o<a.length;o++)v=a[o],c[v.id]=v;$.each(n.data,function(n,u){var v,l,o,y,a=c[n],s,p;a&&a.properties&&(o=a.properties[r.DataProviderConstants.ContributionDataTypeProperty],y=a.properties.caching);o&&(s=e._contributionIdsByDataType[o],s||(s=[],e._contributionIdsByDataType[o]=s),s.push(n),v=t._resolveDataPlugins[o]);e._localDataSource[n]=f;v&&(l=v(n,u));i.isPromise(l)?(p=l.then(function(t){e._storeDataProviderData(n,u,t,y)}),h.push(p)):e._storeDataProviderData(n,u,l,y)})}return i.allSettled(h)},t.prototype._storeDataProviderData=function(n,t,i,r){var u=typeof i=="undefined"?t:i;r&&this._setCachedDataProviderValue(n,u,r);this._localData[n]=u},t.prototype._getLocalStorageCacheScope=function(n){if(n&&n.mode==="localStorage"){var t=this.getWebContext(),i="";switch(n.scope){case"team":i=t.team?t.team.id:"";break;case"project":i=t.project?t.project.id:"";break;case"collection":i=t.collection?t.collection.id:""}if(i)return{scopeId:i,storageEntryName:"dataProviderCache-"+n.scope}}return null},t.prototype._getLocalStorageCacheEntry=function(n){var i,t;try{t=window.localStorage.getItem(n);t&&(i=JSON.parse(t))}catch(r){s.logWarning('Could not parse DataProvider localStorage entry "'+t+'": '+r.message)}return i},t.prototype._isDataExpired=function(n){var u=n.properties.caching,t,i,f,r,e,o;return u&&(t=u.maxCacheLifetimeMinutes||0,t>0&&(t=t*6e4,i=this._getLocalStorageCacheScope(u),i&&(f=this._getLocalStorageCacheEntry(i.storageEntryName),f&&(r=f[i.scopeId],r&&r.dataLastAccessed&&(e=r.dataLastAccessed[n.id],e)))))?(o=(new Date).getTime(),o-e>t):!0},t.prototype._getCachedDataProviderValue=function(n){var u=n.properties.caching,t,r,i;return u&&(t=this._getLocalStorageCacheScope(u),t&&(r=this._getLocalStorageCacheEntry(t.storageEntryName),r&&(i=r[t.scopeId],i&&i.data)))?i.data[n.id]:null},t.prototype._setCachedDataProviderValue=function(n,i,r){var e=this._getLocalStorageCacheScope(r),f,u,h,c,y,o,l,a,v;if(e){if(f=this._getLocalStorageCacheEntry(e.storageEntryName),f||(f={}),u=f[e.scopeId],!u){if(u={},h=Object.keys(f),h.length>=t.MAX_CACHE_SCOPES)for(c=h.map(function(n){return{id:n,value:f[n]||{}}}),c.sort(function(n,t){return(t.value.lastAccess||0)-(n.value.lastAccess||0)}),y=c.slice(0,t.MAX_CACHE_SCOPES-1),f={},o=0,l=y;o<l.length;o++)a=l[o],f[a.id]=a.value;f[e.scopeId]=u}u.data||(u.data={});v=(new Date).getTime();u.lastAccess=v;u.data[n]=i;r&&r.maxCacheLifetimeMinutes&&(u.dataLastAccessed||(u.dataLastAccessed={}),typeof i=="undefined"?delete u.dataLastAccessed[n]:u.dataLastAccessed[n]=v);try{window.localStorage.setItem(e.storageEntryName,JSON.stringify(f))}catch(p){s.logWarning("Could not write to localStorage. Key="+e.storageEntryName+". Error="+p+".")}}},t.addResolutionPlugin=function(n,i){t._resolveDataPlugins[n]=i},t.removeResolutionPlugin=function(n){delete t._resolveDataPlugins[n]},t.prototype.getPageData=function(n,t){this._ensureInitialized();var i=this._localData[n];return i&&t?a.ContractSerializer.deserialize(i,t,!1):i},t.prototype.getPageDataSource=function(n){return this._localDataSource[n]},t.prototype.getPageDataByDataType=function(n,t){var e={},r,i,u,f;if(this._ensureInitialized(),r=this._contributionIdsByDataType[n],r)for(i=0,u=r;i<u.length;i++)f=u[i],e[f]=this.getPageData(f,t);return e},t.prototype.ensureDataProvidersResolved=function(n,t,u){var f=this;return this._ensureInitialized().then(function(){var o={},e;return t||(n=n.filter(function(n){return!f._resolvedProviders[n.id]})),e=[],n.forEach(function(n){var h=t&&f._isDataExpired(n),c=!h&&f._contributionPromises[n.id],u,s,i;c?e.push(c):(u=!h&&f._getCachedDataProviderValue(n),u?(f._localData[n.id]=u,f._localDataSource[n.id]=rt.LocalStorage,f._resolvedProviders[n.id]={id:n.id}):(s=(n.properties[r.DataProviderConstants.ContributionInstanceTypeProperty]||"").toLowerCase(),i=o[s],i||(i=[],o[s]=i),i.push(n)))}),$.each(o,function(n,t){var i=f.fetchPageDataForService(n,t,u);t.forEach(function(n){f._contributionPromises[n.id]=i});e.push(i)}),i.allSettled(e)})},t.prototype.fetchPageDataForService=function(n,t,i){var o=this,r=f.getPageContext(),u=v.getLocalService(k.HubsService),s={contributionPaths:r.moduleLoaderConfig.contributionPaths?Object.keys(r.moduleLoaderConfig.contributionPaths):null,diagnostics:r.diagnostics,navigation:r.navigation,project:r.webContext.project,selectedHubGroupId:u.getSelectedHubGroupId(),selectedHubId:u.getSelectedHubId(),team:r.webContext.team,url:window.location.href},e;return i=i||{},i.pageSource=s,e={contributionIds:t.map(function(n){return n.id}),context:{properties:i}},et(this.getConnection(),n).then(function(n){return n.queryDataProviders(e).then(function(n){return o._handleDataProviderResult(n,t,rt.RestCall)})})},t.prototype.getCachedPageData=function(n,t,i,r,u){i===void 0&&(i=!0);var e,f;return t&&(f=this.getPageData(t,r),f&&(e=this.getPageDataSource(t))),f||(f=this.getPageData(n,r),e=this.getPageDataSource(n)),i&&e===rt.LocalStorage&&this.reloadCachedProviderData(n,u),f},t.prototype.reloadCachedProviderData=function(n,t,i){var r=this,u=v.getService(it),f=function(n,t){if(n||t)if(n&&t)try{return JSON.stringify(n)===JSON.stringify(t)}catch(i){return!1}else return!1;else return!0},e=this.getPageData(n);u.getContribution(n).then(function(u){r.ensureDataProvidersResolved([u],!0,i).then(function(){var i=r.getPageData(n);t&&!f(e,i)&&t()})})},t.prototype.invalidateCachedProviderData=function(n,t){var i=this,r;return t===void 0&&(t=!1),r=v.getService(it),r.getContribution(n).then(function(n){var r=n.properties.caching;return r&&r.mode=="localStorage"&&i._setCachedDataProviderValue(n.id,undefined,r),t?i.ensureDataProvidersResolved([n],!0):null})},t}(v.VssService);ut.MAX_CACHE_SCOPES=20;ut._resolveDataPlugins={};t.WebPageDataService=ut;ut.addResolutionPlugin(r.ContributedServiceContextData.ContributedServiceDataProviderType,function(n,t){if(t){var i=a.ContractSerializer.deserialize(t,e.TypeInfo.ContributedServiceContext);return f.processContributedServiceContext(i)}});tt=function(){function n(){}return n.getFullContributionId=function(n){return n.id},n.getExtensionId=function(n){return n.id.split(".")[1]},n.getPublisherId=function(n){return n.id.split(".")[0]},n.isContributionOfType=function(n,t){return w.equals(n.type,t,!0)},n.isContributionTrusted=function(n){var t=n.properties[d.AttributesProperty];return t&&(t&ot.Trusted)!=0},n.hasInternalContent=function(t){return n.isContributionTrusted(t)&&!!t.properties.content},n.hasContent=function(t,i){return i===void 0&&(i="uri"),!!t.properties[i]||n.hasInternalContent(t)},n._registerHandlebarHelpers=function(t){t.registerHelper("ServiceUrl",function(t,i){var o,r=f.getDefaultWebContext(),l=r.host.hostType,h=function(n){return w.localeIgnoreCaseComparer(n,"Deployment")===0?e.ContextHostType.Deployment:w.localeIgnoreCaseComparer(n,"Application")===0?e.ContextHostType.Organization:w.localeIgnoreCaseComparer(n,"ProjectCollection")===0?e.ContextHostType.ProjectCollection:undefined},s;return i&&typeof i=="string"?i=h(i):t&&typeof t=="string"?(i=h(t),i&&(t=undefined)):(t=undefined,i=undefined),i=i||l,t=t||this[u.ExtensionTemplateContextItemNames.ServiceInstanceType],o=t&&f.getPageContext().webAccessConfiguration.isHosted?c.getCachedServiceLocation(t,i,r)||"":i===e.ContextHostType.ProjectCollection&&r.collection?n.resolveDefaultHostUri(r,r.collection):i===e.ContextHostType.Organization&&r.account?n.resolveDefaultHostUri(r,r.account):n.resolveDefaultHostUri(r,r.host),o?o:(s=n._asyncReplacementCounter++,n._asyncReplacementPromises[s]=v.VssConnection.getConnection().beginGetServiceUrl(t,i,!0),n._asyncReplacementIndicator+s+";")})},n.resolveDefaultHostUri=function(n,t){return f.getPageContext().webAccessConfiguration.isHosted||window.top!==window.self?t.uri:p.combinePaths(window.location.protocol+"//"+window.location.host,encodeURI(t.relativeUri))},n.handleAsyncReplacements=function(t,i,r,u){i===r?u.resolve(t):n._asyncReplacementPromises[i].then(function(f){t=t.replace(n._asyncReplacementIndicator+i+";",f);n.handleAsyncReplacements(t,i+1,r,u)},function(){u.resolve(t)})},n.resolveTemplateString=function(t,r){var u=i.defer();return t?(r||(r={}),r&&t.indexOf("{{")>=0?b.using(["handlebars"],function(i){n._handlebarHelpersRegistered||(n._handlebarHelpersRegistered=!0,n._registerHandlebarHelpers(i));var f=n._asyncReplacementCounter;try{t=i.compile(t)(r)}catch(e){}n.handleAsyncReplacements(t,f,n._asyncReplacementCounter,u)}):u.resolve(t),u.promise):i.resolve(t)},n.resolveUriTemplate=function(t,r,u){var f=i.defer();return this.resolveTemplateString(t,r).then(function(t){n._httpUrlRegex.test(t)||!u?f.resolve(t):n.resolveTemplateString(u,r).then(function(n){f.resolve(p.combinePaths(n,t))},f.reject)},f.reject),f.promise},n.resolveUriTemplateProperty=function(t,r,f,e){var o;if(f===void 0&&(f="uri"),e===void 0&&(e=null),o=t.properties[f],typeof o=="undefined")return i.resolve(null);var s=v.getService(it),h=s.getServiceInstanceType(t),c=s.getBaseUri(t);return h&&(r=r||{},r[u.ExtensionTemplateContextItemNames.ServiceInstanceType]=h),n.resolveUriTemplate(o,r,e||c)},n.publishTraceData=function(t,i,r){t?n.publishData(t,i):r&&v.getService(it).getContribution(r).then(function(t){t&&n.publishData(t,i)})},n.publishData=function(t,i){var r=n.getPublisherId(t),u={Action:ft.CONTRIBUTIONS_ACTION_EXECUTE,PublisherId:r,ExtensionId:r+"."+n.getExtensionId(t),ContributionId:t.id,ContributionData:i,Type:t.type};y.publishEvent(new y.TelemetryEventData(ft.CONTRIBUTIONS_AREA,ft.CONTRIBUTIONS_USAGE_FEATURE,u))},n}();tt._httpUrlRegex=/^[a-z][a-z0-9+.-]*:/i;tt._handlebarHelpersRegistered=!1;tt._asyncReplacementIndicator="__AsyncReplacement__";tt._asyncReplacementCounter=0;tt._asyncReplacementPromises={};t.ExtensionHelper=tt;b.tfsModuleLoaded("VSS.Contributions",t)});
define("VSS/Controls/Notifications",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){var y=e.delegate,h=s.domElem,c,a,l,v,p,w;(function(n){n[n.None=0]="None";n[n.Info=1]="Info";n[n.Warning=2]="Warning";n[n.Error=3]="Error"})(c=t.MessageAreaType||(t.MessageAreaType={}));a=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({closeable:!0,expanded:!1,showIcon:!1,showDetailsLink:!0,showHeader:!0,noHeaderNoLinkJustIcon:!1},t))},t.prototype.initialize=function(){var n,e=this,r,t,u;this.getElement().addClass("message-area-control");this.getElement().addClass("bowtie");r=this._options.message?this._options.message.type:this._options.type;this._options.showIcon&&(this._iconDiv=$(h("div")).appendTo(this.getElement()).addClass("message-icon"),$("<span>").addClass("bowtie-icon").appendTo(this._iconDiv),this._setMessageTypeIcon(r));this._options.showHeader&&(n=$(h("div")).appendTo(this.getElement()).addClass("message-header"),this._errorHeader=$(h("span")).appendTo(n));t=""+i.getId();this._errorContent=$(h("div")).attr("id",t).appendTo(this.getElement());this._options.noHeaderNoLinkJustIcon||this._errorContent.addClass("error-content");this._options.showDetailsLink&&(this._showErrorLink=$(h("a")).appendTo(n).addClass("linkAction show-details-action").attr({href:"#",role:"button","aria-controls":t}).click(function(){return e._toggle(),!1}));u=$(h("div")).appendTo(this.getElement()).addClass("close-action bowtie-icon bowtie-navigate-close ").attr({title:f.MessageAreaControl_CrossIconTooltip,role:"button"}).click(y(this,this._onCloseIconClicked));s.accessible(u,y(this,this._onCloseIconClicked));this.getElement().hide();this._messageType=c.None;this._options.message&&this.setMessage(this._options.message);this._options.fillVertical&&this.getElement().css("height","100%")},t.prototype.setMessage=function(n,t){(typeof n=="string"||n&&n.jquery)&&(n={header:n});n.type||(n.type=t||c.Error);this._setDisplayMessage(n)},t.prototype.setError=function(n,t){(typeof n=="string"||n&&n.jquery)&&(n={header:n});n.type=c.Error;!n.click&&$.isFunction(t)&&(n.click=t);this.setMessage(n)},t.prototype.getMessageType=function(){return this._messageType},t.prototype.clear=function(){this._clear(!0)},t.prototype._setDisplayMessage=function(n){var i=this,t;this._options.closeable?this.getElement().addClass("closeable"):this.getElement().removeClass("closeable");this._clear(!1);this._messageType=this._options.message&&this._options.message.type?this._options.message.type:n.type;this._options.showHeader&&(n.header&&n.header.jquery?this._errorHeader.append(n.header):this._errorHeader.text(n.header));n.content?(n.content.jquery?this._errorContent.append(n.content):this._errorContent.text(n.content),this._options.showDetailsLink&&(this.setErrorDetailsVisibility(this._options.expanded),this._showErrorLink.show())):(this._errorContent.hide(),this._options.showDetailsLink&&this._showErrorLink.hide());switch(this._messageType){case c.Info:this.getElement().addClass("info-message");break;case c.Warning:this.getElement().addClass("warning-message");break;case c.Error:this.getElement().addClass("error-message")}this._setMessageTypeIcon(this._messageType);this._options.hidden||(this.getElement().addClass("visible"),this.getElement().show());n.click&&(t=function(){n.click();i.clear()},this._errorHeader.addClass("clickable"),this._errorHeader.click(t),this._errorHeader.keydown(function(n){if(n.keyCode===s.KeyCode.ENTER)return t(),!1}));this._raiseDisplayComplete()},t.prototype._onCloseIconClicked=function(){this.clear();this._fire(l.EVENT_CLOSE_ICON_CLICKED)},t.prototype._setMessageTypeIcon=function(n){if(this._options.showIcon)if(n===c.None)this._iconDiv.hide();else{var t=$(".bowtie-icon",this._iconDiv);t.toggleClass("bowtie-status-info-outline",n===c.Info);t.toggleClass("bowtie-status-warning",n===c.Warning);t.toggleClass("bowtie-status-failure",n===c.Error);this._iconDiv.show()}},t.prototype._toggle=function(){this._errorContent.is(":visible")?(this.setErrorDetailsVisibility(!1),this._fire(l.ERROR_DETAILS_TOGGLED,{show:!1})):(this.setErrorDetailsVisibility(!0),this._fire(l.ERROR_DETAILS_TOGGLED,{show:!0}));this._raiseDisplayComplete()},t.prototype.setErrorDetailsVisibility=function(n){n?(this._showErrorLink.text(f.HideDetails).attr("aria-expanded","true"),this._errorContent.show()):(this._showErrorLink.text(f.ShowDetails).attr("aria-expanded","false"),this._errorContent.hide())},t.prototype._clear=function(n){if(this._options.showHeader){if(this._errorHeader.text().length===0)return;this._errorHeader.text("");this._errorHeader.unbind("click");this._errorHeader.removeClass("clickable")}switch(this._messageType){case c.Info:this.getElement().removeClass("info-message");break;case c.Warning:this.getElement().removeClass("warning-message");break;case c.Error:this.getElement().removeClass("error-message")}this._messageType=c.None;this._errorContent.text("");this.getElement().removeClass("visible");this.getElement().hide();n&&this._raiseDisplayComplete();this._fire(l.EVENT_DISPLAY_CLEARED);u.getService().fire(l.EVENT_DISPLAY_CLEARED)},t.prototype._raiseDisplayComplete=function(){this._fire(l.EVENT_DISPLAY_COMPLETE)},t}(i.Control);a.EVENT_CLOSE_ICON_CLICKED="event-close-icon-clicked";a.EVENT_DISPLAY_COMPLETE="event-display-complete";a.EVENT_DISPLAY_CLEARED="event-display-cleared";a.ERROR_DETAILS_TOGGLED="error-details-toggled";t.MessageAreaControlO=a;l=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(a);t.MessageAreaControl=l;v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){t&&(this._collapsed=!!t.collapsed);n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"information-area-control",expandedIconClass:"content-expanded",collapsedIconClass:"content-collapsed"},t))},t.prototype.initialize=function(){var n=this,i=this,t=$(h("div","information-header")).appendTo(this.getElement()).click(function(){n._updateCollapsedState(!n._collapsed)});this._$collapseIndicator=$(h("div","icon collapse-indicator")).appendTo(t);this._$caption=$(h("div","information-caption")).appendTo(t).text(this._options.caption);this._$content=$(h("div","information-content")).appendTo(this.getElement());this._updateCollapsedState(this._collapsed)},t.prototype.appendDetailHeaderContent=function(n){$(h("div","detail-header")).appendTo(this._$content).append(n)},t.prototype.appendDetailContent=function(n){$(h("div","detail-content")).appendTo(this._$content).append(n)},t.prototype.appendCodeContent=function(n){$(h("div","code-content")).appendTo(this._$content).append(n)},t.prototype.appendDetailHeaderHtml=function(n){$(h("div","detail-header")).appendTo(this._$content).html(n)},t.prototype.appendDetailHtml=function(n){$(h("div","detail-content")).appendTo(this._$content).html(n)},t.prototype.appendCodeHtml=function(n){$(h("div","code-content")).appendTo(this._$content).html(n)},t.prototype._updateCollapsedState=function(n){n?(this._$collapseIndicator.removeClass(this._options.expandedIconClass),this._$collapseIndicator.addClass(this._options.collapsedIconClass),this._$content.hide()):(this._$collapseIndicator.removeClass(this._options.collapsedIconClass),this._$collapseIndicator.addClass(this._options.expandedIconClass),this._$content.show());this._collapsed=n},t}(i.Control);t.InformationAreaControlO=v;p=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(v);t.InformationAreaControl=p;w=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initialize=function(){var t=this,n=this.getElement(),r;n.hide();this._processOptions();r=$("<div>").appendTo(n);this._messageArea=i.Enhancement.enhance(l,r,{closeable:!1,fillVertical:!0});this._toasting=!1;this._bind(n,"mouseover",function(){t._delayedFunction.cancel();n.stop(!0);n.fadeIn(0)});this._bind(n,"mouseout",function(){t._delayedFunction=e.delay(t,t._toastTime,function(){n.fadeOut(t._fadeOutTime,function(){t._toasting=!1})})})},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"toast-notification"},t))},t.prototype._processOptions=function(){var n=this._getOptions(),t=this.getElement();t.width(n.width);t.css("min-height",n.minHeight);this._fadeInTime=n.fadeInTime;this._fadeOutTime=n.fadeOutTime;this._toastTime=n.toastTime},t.prototype._getOptions=function(){return $.extend(this._getDefaultOptions(),this._options)},t.prototype._getDefaultOptions=function(){return{width:280,fadeInTime:1e3,fadeOutTime:1e3,toastTime:5e3}},t.prototype.toast=function(n,t){var r=this,i;t===void 0&&(t=c.Info);this._ensureNoActiveToast();this._toasting=!0;this._messageArea.setMessage(n,t);i=this.getElement();i.fadeIn(this._fadeInTime);this._delayedFunction=e.delay(this,this._toastTime,function(){i.fadeOut(r._fadeOutTime,function(){r._toasting=!1})})},t.prototype._ensureNoActiveToast=function(){this._toasting&&(this.getElement().stop().hide(),this._delayedFunction.cancel())},t}(i.BaseControl);t.ToastNotification=w});
define("VSS/SDK/Host",["require","exports","VSS/Context","VSS/Contributions/Services","VSS/Service","VSS/VSS"],function(n,t,i,r,u,f){var e=function(){function n(n){this._serviceOptions=n}return n.prototype.getContribution=function(n){return u.getService(r.ExtensionService).getContribution(n)},n.prototype.getContributionsForTarget=function(n){return u.getService(r.ExtensionService).getContributionsForTarget(n)},n.prototype.getServiceContribution=function(n){var t=this;return this.getContribution(n).then(function(n){return $.extend({getInstance:function(i,r){return t.getBackgroundContributionInstance(n,i,r)}},n)})},n.prototype.getServiceContributions=function(n){var t=this;return this.getContributionsForTarget(n).then(function(n){return $.map(n,function(n){return $.extend({getInstance:function(i,r){return t.getBackgroundContributionInstance(n,i,r)}},n)})})},n.prototype.getBackgroundContributionInstance=function(n,t,r){var u=this;return f.requireModules(["VSS/Contributions/Controls"]).spread(function(f){return f.getBackgroundInstance(n,t||n.id,$.extend(r,{hostManagementServiceOptions:u._serviceOptions}),i.getPageContext().webContext)})},n}();t.HostManagementService=e});
define("VSS/Utils/Accessibility",["require","exports","VSS/Diag","VSS/Utils/Core"],function(n,t,i,r){function v(){var n=document.getElementById(e);return n||(n=document.createElement("div"),n.id=e,n.classList.add("visually-hidden"),document.body.appendChild(n)),n}function f(n,t){var y;if(t===void 0&&(t=!1),n){var s=t?"assertive":"polite",h=v(),o=h.getElementsByClassName(s),u=o.length>0?o[o.length-1]:null;!u||u.childElementCount>=c?(u=document.createElement("div"),u.id=e+a++,u.setAttribute("aria-live",s),u.classList.add(s),u.setAttribute("aria-relevant","additions"),h.appendChild(u),o.length>l&&h.removeChild(o[0]),r.delay(this,10,function(){f(n,t)})):(i.log(i.LogVerbosity.Info,"announce ("+s+"): "+n),y=document.createElement("p"),y.textContent=n,u.appendChild(y))}}var c=10,l=2,e="utils-accessibility-announce",o=1e3,a=0,u,s,h;t.announce=f,function(n){n[n.Idle=0]="Idle";n[n.WaitingForStartAnnouncement=1]="WaitingForStartAnnouncement";n[n.Running=2]="Running";n[n.WaitingForEndAnnouncement=3]="WaitingForEndAnnouncement"}(u||(u={}));s=function(){function n(n){this._state=u.Idle;this._options=n}return n.prototype.update=function(){var n=this._options.getActiveCount();switch(this._state){case u.Idle:n>0&&(this._startAnnounceTimer(this._options.announceStartDelay,this._options.announceStartMessage,u.Running),this._state=u.WaitingForStartAnnouncement);break;case u.WaitingForStartAnnouncement:n===0&&(this._cancelAnnounceTimer(),this._state=u.Idle);break;case u.Running:n===0&&(this._startAnnounceTimer(this._options.announceEndDelay,this._options.announceEndMessage,u.Idle),this._state=u.WaitingForEndAnnouncement);break;case u.WaitingForEndAnnouncement:n>0&&(this._cancelAnnounceTimer(),this._state=u.Running)}},n.prototype._startAnnounceTimer=function(n,t,i){var u=this;this._announceDelay&&this._cancelAnnounceTimer();this._announceDelay=r.delay(this,n!==undefined?n:o,function(){f(t);u._state=i;u._announceDelay=null})},n.prototype._cancelAnnounceTimer=function(){this._announceDelay.cancel();this._announceDelay=null},n}();t.MultiProgressAnnouncer=s;h=function(){function n(n){this._startAnnounced=!1;this._completed=!1;this._options=n;this._start()}return n.forPromise=function(t,i){var r=new n(i);t.then(function(){r.announceCompleted()},function(){r.announceError()})},n.prototype._start=function(){var n=this;this._announceDelay=r.delay(this,this._options.announceStartDelay!==undefined?this._options.announceStartDelay:o,function(){f(n._options.announceStartMessage);n._startAnnounced=!0})},n.prototype.announceCompleted=function(){this._completed||(this._completed=!0,this._startAnnounced?f(this._options.announceEndMessage):this._announceDelay.cancel())},n.prototype.announceError=function(){this._completed||(this._completed=!0,f(this._options.announceErrorMessage),this._startAnnounced||this._announceDelay.cancel())},n}();t.ProgressAnnouncer=h});
define("VSS/Controls/StatusIndicator",["require","exports","VSS/Controls","VSS/Diag","VSS/Locations","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Accessibility","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h){var l=o.delegate,v=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._active=!1,t}return __extends(t,n),t.getActiveCount=function(){for(var i,r=0,n=0,u=t._allIndicators;n<u.length;n++)i=u[n],i.isActive()&&i._options.announceProgress!==!1&&r++;return r},t.prototype.isActive=function(){return this._active&&this._element.is(":visible")},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"status-indicator"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.center===!0&&this.getElement().addClass("center");this._throttleMinTime=this._options.throttleMinTime||100;this._bindEvents();t._allIndicators.push(this)},t.prototype._dispose=function(){var i=t._allIndicators.indexOf(this);i>=0&&t._allIndicators.splice(i,1);t._announcer.update();this._clearTimeout();n.prototype._dispose.call(this)},t.prototype.start=function(n){this._clearTimeout();$.extend(this._options,n);this._start()},t.prototype.delayStart=function(n){this._delayStart&&this._delayStart.cancel();this._delayStart=o.delay(this,n,this._start)},t.prototype.complete=function(){this._delayStart&&(this._delayStart.cancel(),this._delayStart=null);this._clearTimeout();this.hideElement();this._active=!1;t._announcer.update()},t.prototype.error=function(n){this._lastError=n;this._clearTimeout();this.hideElement()},t.prototype.setMessage=function(n){var t=this.getElement().find("#indicator_message");t.text(n)},t.prototype.showElement=function(){this.getElement().css("display","")},t.prototype.hideElement=function(){this.getElement().css("display","none")},t.prototype._draw=function(){var n=this.getElement(),t;if(this.hideElement(),n.empty(),this._statusDiv=$("<div />").appendTo(n).addClass("status").attr("aria-busy","true"),this._options.center){var r=$("<table />").appendTo(this._statusDiv),u=$("<tr />").appendTo(r),i=$("<td />").appendTo(u);this._image=$("<span />").appendTo(i);t=i}else this._statusDiv.addClass("status-inline"),n.addClass("inline"),this._image=$("<span />").appendTo(n),t=n;this._setImageClass();this._options.message&&$("<span id='indicator_message' />").appendTo(t).text(this._options.message)},t.prototype._start=function(){this._statusDiv?this._setImageClass():this._draw();this._active=!0;this.showElement();t._announcer.update()},t.prototype._onClick=function(){this._lastError&&alert(this._lastError)},t.prototype._setImageClass=function(){this._image.removeClass();this._options.imageClass?(this._image.addClass("icon"),this._image.addClass(this._options.imageClass)):this._image.addClass("status-progress")},t.prototype._bindEvents=function(){var n=this._options.eventTarget||window;this._options.statusStartEvent&&this._bind(n,this._options.statusStartEvent,l(this,this._startHandler),!0);this._options.statusCompleteEvent&&this._bind(n,this._options.statusCompleteEvent,l(this,this.complete),!0);this._options.statusErrorEvent&&this._bind(n,this._options.statusErrorEvent,l(this,this.error),!0);this._bind("click",l(this,this._onClick))},t.prototype._error=function(n,t,i,r){this._lastError=r;this.hideElement()},t.prototype._startHandler=function(n,t){this.delayExecute("start",this._throttleMinTime,!0,function(){this.start(n,t)})},t.prototype._clearTimeout=function(){this.cancelDelayedFunction("start")},t}(i.Control),p,w,c,y,a;v.enhancementTypeName="tfs.statusIndicator";v._allIndicators=[];v._announcer=new e.MultiProgressAnnouncer({announceStartMessage:f.ContentLoading,announceEndMessage:f.ContentLoaded,getActiveCount:v.getActiveCount});t.StatusIndicatorO=v;p=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(v);t.StatusIndicator=p;i.Enhancement.registerJQueryWidget(p,"statusIndicator");w=function(){function n(n,t){this._$rootElement=$(n);this._options=t||{};this._initialize()}return n.prototype.beginOperation=function(n){var t=this.getCancellableOperation();this._cancelable=t;$.isFunction(this._options.beginOperationCallback)&&this._options.beginOperationCallback();this._waitControl.startWait(t);o.delay(this,100,function(){n(t)})},n.prototype.createWaitControl=function(n){return i.create(a,this._$rootElement[0]._element,n)},n.prototype.getCancellableOperation=function(){return new o.Cancelable(this)},n.prototype.getWaitControl=function(){return this._waitControl},n.prototype.endOperation=function(){this._waitControl.endWait();$.isFunction(this._options.endOperationCallback)&&this._options.endOperationCallback()},n.prototype.isCancelled=function(){return this._cancelled},n.prototype.cancelOperation=function(){this._options&&this._options.cancellable&&(this._cancelled=!0);this.endOperation()},n.prototype._initialize=function(){this._state={message:this._options&&this._options.message?this._options.message:f.DefaultWaitMessage,target:this._$rootElement[0]._element,cancellable:this._options&&this._options.cancellable,showDelay:this._options&&this._options.showDelay!==null?this._options.showDelay:null};this._waitControl=this.createWaitControl(this._state)},n}();t.LongRunningOperation=w,function(n){n[n.NotStarted=0]="NotStarted";n[n.Waiting=1]="Waiting";n[n.Ending=2]="Ending";n[n.Ended=3]="Ended";n[n.Cancelling=4]="Cancelling";n[n.Cancelled=5]="Cancelled"}(c=t.WaitingState||(t.WaitingState={}));y=function(n){function t(t){var i=n.call(this,t)||this;return i._state=c.NotStarted,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({image:u.urlHelper.getVersionedContentUrl("big-progress.gif"),showDelay:a.DefaultShowDelay},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.startWait=function(n){this._canStartWait()&&(this._context={instanceId:"waitControl_"+a._instanceIdSeed++,cancellable:n,options:{wait:this._options}},this._startWait())},t.prototype.endWait=function(){this._canEndWait()&&(this._state=c.Ending,this._tryEndWait())},t.prototype.cancelWait=function(){this._canCancelWait()&&(this._state=c.Cancelling,this._tryCancelWait())},t.prototype.setMessage=function(n){if(this._context){var t=this._context.options.wait;t.messageElement&&(t.messageElement.find(".wait-message-text").text(n),this._resizeWait(),t.cancellable&&h.tryFocus(t.messageElement.find("#"+t.cancelLinkId)))}},t.prototype.isCancelled=function(){return this._state===c.Cancelled},t.prototype._canStartWait=function(){return this._state===c.NotStarted||this._state===c.Ended||this._state===c.Cancelled},t.prototype._canEndWait=function(){return this._context&&(this._state===c.Waiting||this._state===c.Ending)},t.prototype._canCancelWait=function(){return this._context&&this._context.options.wait.cancellable&&(this._state===c.Waiting||this._state===c.Cancelling)},t.prototype._startWait=function(){var n=this._context.options.wait;this._state=c.Waiting;n.showDelay===null&&(n.showDelay=a.DefaultShowDelay);n.target||(n.entireWindow=!0,n.target=$("body"),n.extraStyles="height:100%; width:100%;");n.target.children(".wait-element").hide();n.target.children(".wait-box").hide();n.showDelay?this._context.showTimer=o.delay(this,n.showDelay,this._showWait):this._showWait()},t.prototype._tryEndWait=function(){var n=this._context.options.wait;this._state!==c.Ending||n.minLifeSpanBlocking||(this._state=c.Ended,this._reset())},t.prototype._tryCancelWait=function(){var t=this._context.options.wait,i=t.cancelCallback,n=this._context.cancellable;this._state!==c.Cancelling||t.minLifeSpanBlocking||(this._state=c.Cancelled,this._reset(),i&&i(),n&&n.cancel&&$.isFunction(n.cancel)&&n.cancel())},t.prototype._reset=function(){this._unbindKeydownEvent();this._removeWaitElement();this._originalFocusElement&&(this._originalFocusElement.focus(),this._originalFocusElement=null);this._removeShowTimer();this._context=null},t.prototype.updateWaitElements=function(n){n.messageElement=n.target.children(".wait-box").first()},t.prototype._showWait=function(){var t="",n=this._context.options.wait,f=n.extraStyles||"",i=this,u;n.image&&(t+=s.format('<img class="wait-image" src="{0}" />',n.image));u=this._getWaitMessage(n);u&&(t+=s.format('<div class="wait-message">{0}<\/div>',u));t.length>0&&(n.target.prepend(s.format('<div class="wait-box">{0}<\/div>',t)),this.updateWaitElements(n));n.backgroundColor&&(f+=s.format("background-color:{0};",n.backgroundColor));n.target.prepend(s.format('<div class="wait-element" style="{0}"><\/div>',f));n.element=n.target.children(".wait-element").first();this._resizeWait();$(window).bind(this._getResizeEventId(this._context.instanceId),l(this,this._resizeWait));n.cancellable&&(this._bindKeydownEvent(n.cancelLinkId),$("#"+n.cancelLinkId).click(l(this,this._handleCancelEvent)),this._originalFocusElement=$(document.activeElement),$("#"+n.cancelLinkId).focus());n.minLifetime||(n.minLifetime=a.MinLifeTime);n.minLifeSpanBlocking=!0;o.delay(this,n.minLifetime,function(){n.minLifeSpanBlocking=!1;i._state===c.Ending?i._tryEndWait():i._state===c.Cancelling&&i._tryCancelWait()})},t.prototype.getWaitingState=function(){return this._state},t.prototype.getWaitingContext=function(){return this._context},t.prototype._resizeWait=function(){var n,t,i;if(n=this._context.options.wait,n.entireWindow||(n.element.css("margin-top",-parseInt(n.target.css("padding-top"),10)),n.element.css("margin-left",-parseInt(n.target.css("padding-left"),10)),n.element.height(n.target.outerHeight()-2),n.element.width(n.target.outerWidth()-2)),n.messageElement){t=parseInt(n.element.css("margin-top"),10);i=parseInt(n.element.css("margin-left"),10);(!t||isNaN(t))&&(t=0);(!i||isNaN(i))&&(i=0);var e=n.element.outerHeight(),f=n.element.outerWidth(),o=n.messageElement.outerHeight(),u=n.messageElement.outerWidth();u>f&&(u=f-4,n.messageElement.outerWidth(u));n.messageElement.css("top",n.element.position().top+(e-o)/2+t);n.messageElement.css("left",n.element.position().left+(f-u)/2+i)}},t.prototype._onKeyDown=function(n){var t=h.KeyCode;if(n.keyCode===t.ESCAPE)return this._handleCancelEvent(n),!1},t.prototype._handleCancelEvent=function(){return this._unbindKeydownEvent(),this.cancelWait(),!1},t.prototype._bindKeydownEvent=function(n){this._keyDownEventHandler||(this._keyDownEventHandler=l(this,this._onKeyDown),$("#"+n).keydown(this._keyDownEventHandler))},t.prototype._unbindKeydownEvent=function(){if(this._context){var n=this._context.options.wait;this._keyDownEventHandler&&n.cancelLinkId&&($("#"+n.cancelLinkId).unbind("keydown",this._keyDownEventHandler),this._keyDownEventHandler=null)}},t.prototype._removeWaitElement=function(){function t(n){n.element&&(n.element.remove(),n.element=null)}function i(n){n.messageElement&&(n.messageElement.remove(),n.messageElement=null)}if(this._context){var n=this._context.options.wait;n.element&&(n.fade!==!1?(n.element.fadeOut("fast",function(){t(n)}),n.messageElement.fadeOut("fast",function(){i(n)})):(t(n),i(n)),$(window).unbind(this._getResizeEventId(this._context.instanceId)))}},t.prototype._removeShowTimer=function(){this._context&&this._context.showTimer&&(this._context.showTimer.cancel(),delete this._context.showTimer)},t.prototype._getResizeEventId=function(n){return"resize."+n},t.prototype._getWaitMessage=function(n){var i,t;return i="",n.cancellable&&(n.cancelLinkId="cancelLink_"+this._context.instanceId,i=s.format(n.cancelTextFormat||f.CancelWaitAdvice,s.format('<a href="" class="wait-link" tabindex="0" id="{0}">ESC<\/a>',n.cancelLinkId))),t="",n.message?(t=s.format('<span class="wait-message-text">{0}<\/span>',n.message),t=n.cancellable?s.format(this.getWaitMessageFormatString(),t,i):t):n.cancellable&&(t=i),t},t.prototype.getWaitMessageFormatString=function(){return this._options.messageFormat||"{0}({1})"},t}(i.Control);y._instanceIdSeed=1;y.DefaultShowDelay=250;y.MinLifeTime=100;t.WaitControlO=y;a=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(y);t.WaitControl=a});
define("VSS/Contributions/Controls",["require","exports","q","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","VSS/Common/Constants/Platform","VSS/Contributions/Services","VSS/Controls","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Locations","VSS/Controls/Notifications","VSS/Resources/VSS.Resources.Platform","VSS/SDK/Host","VSS/SDK/Shim","VSS/SDK/XDM","VSS/Service","VSS/Controls/StatusIndicator","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/File","VSS/Utils/String","VSS/Utils/UI","VSS/Utils/Url","VSS/Resources/VSS.Resources.Platform","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){function bt(n,t,i,r,u,f){return r===void 0&&(r=null),f===void 0&&(f=null),u||(u="__contributedControlInstance"+at++,i=$.extend({},i,{contributedControlInstanceId:u})),vt(n,t,i||{},r,null,null,"uri",!1,f).then(function(n){return n.getRegisteredInstance(u)})}function vt(n,t,i,r,f,e,s,h,c){r===void 0&&(r=null);e===void 0&&(e=null);s===void 0&&(s="uri");h===void 0&&(h=!1);c===void 0&&(c=null);r||(r=u.getDefaultWebContext());e||(e=r);var l=function(t){return o.ExtensionHelper.resolveUriTemplateProperty(t,e,s).then(function(r){var u=b.getService(o.ExtensionService).getFallbackUri(t);return u?o.ExtensionHelper.resolveUriTemplateProperty(t,e,s,u).then(function(u){return ct(n,r,t,i,f,h,c,u)}):ct(n,r,t,i,f,h,c)})};return typeof t=="string"?b.getService(o.ExtensionService,r).getContribution(t).then(function(n){return l(n)}):l(t)}function ct(n,t,i,r,f,e,o,s){return e===void 0&&(e=!1),o===void 0&&(o=null),s===void 0&&(s=null),lt(n,i,t,s,r,f,!1,e,o,u.getDefaultWebContext())}function yt(n,t,i,r){t===void 0&&(t=null);i===void 0&&(i=null);r===void 0&&(r="uri");t||(t=u.getDefaultWebContext());i||(i=t);var f=function(n){return o.ExtensionHelper.resolveUriTemplateProperty(n,i,r).then(function(u){var f=b.getService(o.ExtensionService).getFallbackUri(n);return f?o.ExtensionHelper.resolveUriTemplateProperty(n,i,r,f).then(function(i){return lt(null,n,u,i,null,null,!0,!1,null,t)}):lt(null,n,u,null,{host:{background:!0}},null,!0,!1,null,t)})};return typeof n=="string"?b.getService(o.ExtensionService,t).getContribution(n).then(function(n){return f(n)}):f(n)}function kt(n,t,r,u,f,e,o,s){u===void 0&&(u=null);o===void 0&&(o=null);s===void 0&&(s="uri");var h=yt(n,u,o,s).then(function(n){return n.getRegisteredInstance(t,r)});return f>0&&(h=i.timeout(h,f,e)),h}function lt(n,t,i,r,u,f,e,h,c,l){var v=o.ExtensionHelper.isContributionTrusted(t),a=!1;if(v&&(t.properties.content||!i))a=!0;else if(!i)throw new Error('No uri was specified for contribution "'+t.id+'". Cannot create extension host.');return e?wt.getHost(i,r,t,a,u,f):a?new ht(t,u,n,l):s.create(et,n,{uri:i,fallbackUri:r,contribution:t,interactive:!t.properties.external,initialConfig:u,postContent:f,contributionHostBehavior:c})}var st,ot,et,ht,at,pt,wt;(function(n){n[n.Default=0]="Default";n[n.FixedHeight=2]="FixedHeight";n[n.FixedWidth=4]="FixedWidth"})(st=t.ResizeOptions||(t.ResizeOptions={})),function(n){n.SLOW_LOAD_WARNING="external-content-host-slow-load-warning";n.EXTENSION_MESSAGE_RESIZED="external-content-host-message-resized";n.EXTENSION_HOST_RESIZED="external-content-host-resized"}(ot=t.ExternalContentHostEvents||(t.ExternalContentHostEvents={}));et=function(n){function t(i){var r=n.call(this,i)||this;return r._usingFallback=!1,r.setEnhancementOptions({coreCssClass:"external-content-host"}),r._contributions=[],r._contributionHostBehavior={showErrorIndicator:!0,showLoadingIndicator:!0,slowWarningDurationMs:t.DEFAULT_SLOW_LOAD_DURATION,resizeOptions:st.Default},r}return __extends(t,n),t.prototype.getLoadPromise=function(){return this._loadedDeferred.promise},t.prototype.initialize=function(){var t=this,n;this._srcUri=this._options.uri;c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.UseGalleryCdn)&&this._options.fallbackUri&&this._isGalleryCdnDisabled()?(this._srcUri=this._options.fallbackUri,this._usingFallback=!0):this._deleteFallbackCookie();n=this._options.contributionHostBehavior;n&&(n.showErrorIndicator!==undefined&&n.showErrorIndicator!==null&&(this._contributionHostBehavior.showErrorIndicator=n.showErrorIndicator),n.showLoadingIndicator!==undefined&&n.showLoadingIndicator!==null&&(this._contributionHostBehavior.showLoadingIndicator=n.showLoadingIndicator),n.slowWarningDurationMs!==undefined&&n.slowWarningDurationMs!==null&&(this._contributionHostBehavior.slowWarningDurationMs=n.slowWarningDurationMs),n.resizeOptions!==undefined&&n.resizeOptions!==null&&(this._contributionHostBehavior.resizeOptions=n.resizeOptions));this._$container=$("<div />").addClass("external-content-host-container").appendTo(this._element);this._loadedDeferred=i.defer();u.getPageContext().webAccessConfiguration.isHosted||!it.BrowserCheckUtils.isLessThanOrEqualToIE9()||c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.VisualStudioServicesContributionUnSecureBrowsers,!1)?this._getInDomPromise().then(function(){t._finishInitialization()}):this._showExtensionMessage(a.MessageAreaType.Warning,ut.ExtensionsNotAvailableOnpremOldIE,!1,null,!1)},t.prototype._finishInitialization=function(){var n=this,r,i;this.isDisposed()||(i="externalContentHost"+s.getId(),this._options.postContent&&(r=$("<form />").attr("method","post").attr("target",i).attr("action",this._srcUri).appendTo(this._$container),$("<input />").attr("type","hidden").attr("name","requestJson").attr("value",JSON.stringify(this._options.postContent)).appendTo(r)),this._$iframe=$("<iframe frameborder='0' />").addClass("external-content-iframe").attr("id",i).attr("name",i).appendTo(this._$container),this._options.interactive&&(this._$iframe.hide(),this._$iframe.addClass("loading"),this._contributionHostBehavior.showLoadingIndicator&&(this._$statusContainer=$("<div />").addClass("status-container").appendTo(this._$container),this._statusControl=s.BaseControl.createIn(k.StatusIndicator,this._$statusContainer,{center:!0,imageClass:"big-status-progress",message:v.ExternalControlLoading}),this._statusControl.start()),this._contributionHostBehavior.slowWarningDurationMs>0&&this.delayExecute("slowLoadTimeout",this._contributionHostBehavior.slowWarningDurationMs,!0,function(){n._disposed||n._loadFailed||n._receivedLoadedEvent||(n._shouldAttemptFallback()?n._loadFallback():n._showExtensionMessage(a.MessageAreaType.Warning,v.ExternalContentSlowLoadFormat,!0))})),this._$iframe.load(function(){n._options.interactive?n._receivedHandshake||n._receivedLoadedEvent||n._loadFailed||n._disposed||n.delayExecute("waitForHandshake",t.MAX_WAIT_FOR_HANDSHAKE_EVENT,!0,function(){this._receivedHandshake||this._receivedLoadedEvent||this._loadFailed||this._disposed||(this._shouldAttemptFallback()?this._loadFallback():this._handleLoadError(null))}):n._loadedDeferred.resolve(null)}),u.getPageContext().webAccessConfiguration.isHosted||!rt.isSameOrigin(this._srcUri,window.location.href)||c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.VisualStudioServicesContributionUnSecureBrowsers,!1)&&it.BrowserCheckUtils.isLessThanOrEqualToIE9()||(this._$iframe.attr("sandbox","allow-forms allow-modals allow-pointer-lock allow-popups allow-scripts allow-top-navigation"),this._sandboxedIframe=!0),this._options.postContent?r[0].submit():this._$iframe.attr("src",this._srcUri),this._options.interactive&&(this._xdmChannel=null,this.ensureXdmChannelIntialized()))},t.prototype._shouldAttemptFallback=function(){return!this._usingFallback&&this._options.fallbackUri&&c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.UseGalleryCdn)},t.prototype._loadFallback=function(){this._enableFallbackCookie();this._usingFallback=!0;this._srcUri=this._options.fallbackUri;this._$iframe.remove();this._hideLoadingIndicator();this._finishInitialization()},t.prototype._isGalleryCdnDisabled=function(){var n=this._getCookie("GALLERY-CDN");return n&&n==="disabled"},t.prototype._enableFallbackCookie=function(){var n,t;u.getPageContext().webAccessConfiguration.isHosted&&(n=this._getCookie("GALLERY-CDN"),n||(t=3600,this._setFallbackCookie(t,"disabled")))},t.prototype._deleteFallbackCookie=function(){if(u.getPageContext().webAccessConfiguration.isHosted){var n=this._getCookie("GALLERY-CDN");n&&this._setFallbackCookie(0,"")}},t.prototype._setFallbackCookie=function(n,t){if(u.getPageContext().webAccessConfiguration.isHosted){var i="";window.location.protocol.indexOf("https")!==-1&&(i=";secure");document.cookie="GALLERY-CDN="+t+";max-age="+n+";path=/"+i}},t.prototype._getCookie=function(n){var t,i;return u.getPageContext().webAccessConfiguration.isHosted&&document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""},t.prototype._handleLoadSuccess=function(){this._receivedLoadedEvent=!0;this._hideLoadingIndicator();this._loadedDeferred.resolve(null)},t.prototype._handleLoadError=function(n){if(this._loadFailed=!0,this._hideLoadingIndicator(),this._loadedDeferred.reject(n),this._contributionHostBehavior.showErrorIndicator){var t=n&&n.message?n.message:n;this._showExtensionMessage(a.MessageAreaType.Error,v.ExternalContentErrorFormat,!1,t)}},t.prototype._hideLoadingIndicator=function(){this._$iframe.removeClass("loading");this._statusControl&&(this._statusControl.dispose(),this._$statusContainer.remove(),this._statusControl=null,this._$statusContainer=null)},t.prototype._getExtensionUrl=function(){if(!this._galleryUrlPromise){var n=this._options.contribution,t=i.defer();this._galleryUrlPromise=t.promise;ft.using(["VSS/Gallery/RestClient"],function(i){l.beginGetServiceLocation(i.GalleryHttpClient.serviceInstanceId,f.ContextHostType.Deployment).then(function(i){var r=u.getPageContext().webAccessConfiguration.isHosted?i:nt.combinePaths(i,"_gallery");t.resolve(nt.combinePaths(r,"items/"+o.ExtensionHelper.getPublisherId(n)+"."+o.ExtensionHelper.getExtensionId(n)))})})}return this._galleryUrlPromise},t.prototype._showExtensionMessage=function(n,t,i,r,u){var f=this,h,e,c,l;u===void 0&&(u=!0);h=tt.format(v.ExtensionDisplayNameFormat,o.ExtensionHelper.getExtensionId(this._options.contribution),o.ExtensionHelper.getPublisherId(this._options.contribution));e=$("<div />");$("<span />").appendTo(e).text(tt.format(t,h));u&&this._getExtensionUrl().then(function(n){var t=$("<span />").addClass("help-text").appendTo(e).html(v.ExternalContentErrorLearnMoreContent);t.find("a").attr("href",n).attr("target","_blank");f._handleMessageAreaResize()});this._showingErrorDetails=!!r;this._showingErrorDetails&&(c=$("<div />").text(r));l={type:n,header:e,content:c};this._messageArea&&this._messageArea.dispose();this._messageArea=s.Enhancement.enhance(a.MessageAreaControl,$("<div />").prependTo(this._element),{closeable:i,showIcon:!0,expanded:!!r,showDetailsLink:!1,message:l});this._handleMessageAreaResize();this._messageArea._bind(a.MessageAreaControl.EVENT_DISPLAY_COMPLETE,function(){f._handleMessageAreaResize();f._fire(ot.EXTENSION_MESSAGE_RESIZED,[f])});this._messageArea._bind(a.MessageAreaControl.EVENT_DISPLAY_CLEARED,function(){f._messageArea=null;f._handleMessageAreaResize();f._fire(ot.EXTENSION_MESSAGE_RESIZED,[f])});this._fire(ot.EXTENSION_MESSAGE_RESIZED,[this]);this._errorResizeDelegate||(this._errorResizeDelegate=function(){f._handleMessageAreaResize()},$(window).bind("resize",this._errorResizeDelegate))},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._$iframe&&(it.BrowserCheckUtils.isIEVersion(11)&&this._$iframe.attr("src","about:blank"),this._$iframe=null);this._errorResizeDelegate&&$(window).unbind("resize",this._errorResizeDelegate);this._xdmChannel&&(w.channelManager.removeChannel(this._xdmChannel),this._xdmChannel=null);this._$container=null},t.prototype._handleMessageAreaResize=function(){var n="0";this._messageArea&&(n=this._messageArea._element.outerHeight()+(this._showingErrorDetails?20:0)+"px");this._$container.css("padding-top",n);this._$statusContainer&&this._$statusContainer.css("top",n)},t.prototype.getXdmChannel=function(){return this.ensureXdmChannelIntialized(),this._xdmChannel},t.prototype.ensureXdmChannelIntialized=function(){if(!this._xdmChannel){var n=b.getService(o.ExtensionService),t=n.getFallbackUri(this._options.contribution),i=n.getBaseUri(this._options.contribution);this._xdmChannel=w.channelManager.addChannel(this._$iframe[0].contentWindow,this._srcUri);this._xdmChannel.getObjectRegistry().register("VSS.HostControl",this.getHostControl());this._xdmChannel.getObjectRegistry().register("vss.hostManagement",new y.HostManagementService({baseUri:this._usingFallback&&t?t:i,publisherId:o.ExtensionHelper.getPublisherId(this._options.contribution),extensionId:o.ExtensionHelper.getExtensionId(this._options.contribution),version:b.getService(o.ExtensionService).getVersion(this._options.contribution),registrationId:b.getService(o.ExtensionService).getRegistrationId(this._options.contribution)}))}},t.prototype.getRegisteredInstance=function(n,t){var r=this;return this._loadedDeferred.promise.then(function(){return i.Promise(function(i,u){var f,s=!1,o,e;r.getXdmChannel().getRemoteObjectProxy(n,t).then(function(n){s=!0;f&&(f.cancel(),f=null);i(n)},function(n){s=!0;f||u(n)});o=r._options.contribution.id.split(".");e=n.split(".");o.length>=2&&e.length>=2&&o[0]===e[0]&&o[1]===e[1]&&(f=g.delay(r,250,function(){var n=e.slice(2).join(".");r.getXdmChannel().getRemoteObjectProxy(n,t).then(function(n){f&&(f=null,i(n))},function(n){f=null;s&&u(n)})}))})})},t.prototype.reuseHost=function(n){var t=this;this._loadedDeferred.promise.then(function(){t._contributions.indexOf(n)<0&&($.isFunction(t._extensionReusedCallback)&&t._extensionReusedCallback(n),t._contributions.push(n))})},t.prototype.getHostControl=function(){var n=this;return{resize:function(t,i){(n._contributionHostBehavior.resizeOptions&st.FixedHeight)==0&&n._$iframe.height(i);(n._contributionHostBehavior.resizeOptions&st.FixedWidth)==0&&n._$iframe.width(t);p.VSS.resize();var r={height:i,width:t,host:n};n._fire(ot.EXTENSION_HOST_RESIZED,r)},initialHandshake:function(i){var r,h,s;n._receivedHandshake=!0;n._$iframe.show();i&&(i.notifyLoadSucceeded&&window.setTimeout(function(){n._handleLoadSuccess()},0),n._extensionReusedCallback=i.extensionReusedCallback);r=n._options.contribution;h=u.getPageContext();n._contributions.push(r);var c=b.getService(o.ExtensionService),l=c.getFallbackUri(n._options.contribution),a=c.getBaseUri(n._options.contribution),f=o.ExtensionHelper.getPublisherId(n._options.contribution),v=o.ExtensionHelper.getExtensionId(n._options.contribution),e={pageContext:h,initialConfig:n._options.initialConfig,extensionContext:{extensionId:v,publisherId:f,version:b.getService(o.ExtensionService).getVersion(n._options.contribution),baseUri:n._usingFallback&&l?l:a},contribution:r};if(n._sandboxedIframe&&f){e.sandboxedStorage={};try{s=window.localStorage.getItem(t.SANDBOXED_STORAGE_SETTINGS_PREFIX+f);s&&(e.sandboxedStorage=JSON.parse(s))}catch(y){}}return e},notifyLoadSucceeded:function(){n._handleLoadSuccess()},notifyLoadFailed:function(t){n._handleLoadError(t)},getAccessToken:function(){var t=b.getService(o.ExtensionService).getRegistrationId(n._options.contribution),i=!o.ExtensionHelper.isContributionTrusted(n._options.contribution);return r.getToken(t,null,null,i)},getAppToken:function(){var t=b.getService(o.ExtensionService).getRegistrationId(n._options.contribution);return r.getAppToken(t)},updateSandboxedStorage:function(n){var i,r;n&&this._sandboxedIframe&&window.localStorage&&(i=o.ExtensionHelper.getPublisherId(this._options.contribution),i&&(r=JSON.stringify(n),r.length>25e4?h.logWarning("Failed to update sandboxed storage for extension publisher "+i+". The overall storage size "+r.length+" exceeds the maximum limit of "+t.SANDBOXED_STORAGE_SIZE_LIMIT+"."):window.localStorage.setItem(t.SANDBOXED_STORAGE_SETTINGS_PREFIX+i,r)))}}},t}(s.Control);et.DEFAULT_SLOW_LOAD_DURATION=1e4;et.MAX_WAIT_FOR_HANDSHAKE_EVENT=5e3;et.EXTENSION_FLAGS_TRUSTED=2;et.SANDBOXED_STORAGE_SETTINGS_PREFIX="extension-data:";et.SANDBOXED_STORAGE_SIZE_LIMIT=25e4;ht=function(){function n(n,t,i,r){var e=this,u=n.properties.content,f;u?this._loadPromise=this._loadContribution(n,u.require||[],u.initialize?[u.initialize]:[],t,i):(f=b.getService(o.ExtensionService,r),this._loadPromise=f.queryContributions([n.id],o.ContributionQueryOptions.IncludeRecursiveTargets,"ms.vss-web.module-content").then(function(r){for(var c,u,o=[],s=[],f=0,h=r;f<h.length;f++)c=h[f],u=c.properties,(!u.targetType||tt.equals(u.targetType,n.type,!0))&&(u.require&&d.addRange(o,u.require),u.initialize&&s.push(u.initialize));return e._loadContribution(n,o,s,t,i)}))}return n.prototype._loadContribution=function(n,t,r,u,f){var e=this;return this._isDisposed?i.resolve(null):(u||(u={}),this._getRequiredModules(t).then(function(){var i,o,s,t,h,n;if(!e._isDisposed)for(i=0,o=r;i<o.length;i++){if(s=o[i],f&&(t=u.ownsContainer===!0?f:$('<div class="internal-content-host" />').appendTo(f)),e._$container=t,h={$container:t,container:t?t[0]:undefined,options:u,registerInstance:e._registerLocalInstance.bind(e)},n=p.VSS.getRegisteredObject(s,h),n&&$.isFunction(n.then))return n.then(function(n){u.contributedControlInstanceId&&p.VSS.register(u.contributedControlInstanceId,n)});n&&u.contributedControlInstanceId&&p.VSS.register(u.contributedControlInstanceId,n)}}))},n.prototype._registerLocalInstance=function(n,t){this._localRegistry||(this._localRegistry=w.createObjectRegistry());this._localRegistry.register(n,t)},n.prototype._getRequiredModules=function(n){if(!n||!n.length)return i.resolve(null);var t=i.defer();return ft.using(n,function(){t.resolve(null)}),t.promise},n.prototype.dispose=function(){this._$container&&(this._$container.remove(),this._$container=null);this._isDisposed=!0},n.prototype.getLoadPromise=function(){return this._loadPromise},n.prototype.getRegisteredInstance=function(n,t){var i=this;return this._loadPromise.then(function(){var r;return i._localRegistry&&(r=i._localRegistry.getInstance(n,t)),r||(r=p.VSS.getRegisteredObject(n,t)),r})},n}();at=0;t.createContributedControl=bt;t.createExtensionHost=vt;t.createExtensionHostForContribution=ct;t.getBackgroundHost=yt;t.getBackgroundInstance=kt;pt=function(){function n(){this._hosts={}}return n.prototype.getHostsContainer=function(){return this._hostsContainer||(this._hostsContainer=$("<div/>").addClass("vs-app-hosts-container").prependTo(document.body)),this._hostsContainer},n.prototype.getHost=function(n,t,i,r,u,f){if(!n&&!r)throw new Error(tt.format("Could not resolve the uri for contribution {0}",i.id));var o=(r?"int.":"ext.")+(n||"").toLowerCase()+(t||"").toLowerCase(),e=this._hosts[o];return e?(e.reuseHost(i),e):this.createBackgroundHost(o,n,t,i,r,u,f)},n.prototype.createBackgroundHost=function(n,t,i,r,f,e,o){if(f)return new ht(r,e,this.getHostsContainer(),u.getDefaultWebContext());var h=s.create(et,this.getHostsContainer(),{uri:t,fallbackUri:i,contribution:r,interactive:!0,initialConfig:e,postContent:o});return this._hosts[n]=h,h},n}();wt=new pt});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("VSS/Controls/PopupContent",["require","exports","VSS/Diag","VSS/Utils/Core","VSS/Controls","VSS/Utils/UI"],function(n,t,i,r,u,f){function a(n){return"screenX"in n}var h=f.domElem,c=r.delegate,o=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._hasFocus=!1,t._hasMouse=!1,t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._element.addClass("popup-content-control");!this._options.openDelay&&this._$dropElement.is(":focus")?this.show():this.hide();this._onForceHideDropPopupDelegate=this.onForceHideDropPopup.bind(this)},t.prototype.onForceHideDropPopup=function(){this.hide()},t.prototype.setContent=function(n){this._$contentContainer.html(n);this._contentSet=!0},t.prototype.resetContent=function(){this._contentSet=!1},t.prototype.show=function(){this._show({useMousePosition:!1})},t.prototype.toggle=function(){this._element.is(":visible")?this.hide():this.show()},t.prototype._enhance=function(n){var t=this;this._createElement();this._$dropElement=n;this._element.appendTo(this._options.menuContainer||$(document.body));this._element.css("position","fixed");this._$contentContainer=$(h("div","popup-content-container")).attr({role:"tooltip",id:u.getId()}).appendTo(this._element);this._decorate();this._bind(n,"remove.removePopupDropElement",function(){t.dispose()})},t.prototype._decorate=function(){var n=this;this._options.openCloseOnHover?(this._bind(this._$dropElement,"mouseenter",this.onMouseEnter.bind(this)),this._bind(this._$dropElement,"mouseleave",this._onMouseLeave.bind(this)),this._bind("mouseenter",this.onMouseEnter.bind(this)),this._bind("mouseleave",this._onMouseLeave.bind(this)),this._options.showOnFocus!==!1&&(this._bind(this._$dropElement,"focus",this._onFocus.bind(this)),this._bind(this._$dropElement,"blur",this._onBlur.bind(this)))):(this._documentEventDelegate=c(this,this._handleDocumentMouseDown),this._bind(this._$dropElement,"click",function(){n._element.is(":visible")?n.hide():n.show()}));f.attachResize(this._element,c(this,this._setPosition))},t.prototype._onFocus=function(){this._hasFocus=!0;this._hasMouse||this._showDelayed()},t.prototype._onBlur=function(){this._hasFocus=!1;this._hasMouse||this.hide()},t.prototype._onMouseMove=function(n){this._mousePosition?(this._mousePosition.left=n.pageX,this._mousePosition.top=n.pageY):this._mousePosition={left:n.pageX,top:n.pageY}},t.prototype.onMouseEnter=function(n){this._options.useStrictTarget&&n.target!==this._$dropElement[0]||(this._hasMouse=!0,this._mouseMoveDelegate||(this._mouseMoveDelegate=this._onMouseMove.bind(this)),this._bind(this._$dropElement,"mousemove",this._mouseMoveDelegate),this._onMouseMove(n),this._showDelayed({useMousePosition:!0}),this._delayedHide&&this._delayedHide.cancel())},t.prototype._onMouseLeave=function(){var n=this;this._hasMouse=!1;this._hasFocus||(this._delayedHide&&this._delayedHide.cancel(),this._delayedHide=r.delay(this,100,function(){n.hide();n._delayedHide=null}))},t.prototype.showDelayed=function(){this._showDelayed({useMousePosition:!1})},t.prototype._showDelayed=function(n){var t=this;this._visible||(n=n||{useMousePosition:!1},this._options.openDelay?(this._delayedShow&&this._delayedShow.cancel(),this._delayedShow=r.delay(this,this._options.openDelay,function(){t._show(n)})):this._show(n))},t.prototype._handleDocumentMouseDown=function(n){var t=$(n.target);this._$dropElement.has(n.target).length>0||this._$dropElement[0]===n.target||this._$contentContainer.has(n.target).length>0||this._$contentContainer[0]===n.target||this._element.has(n.target).length>0||this._element[0]===n.target||this.hide()},t.prototype._setPosition=function(){this._setPositionInternal({useMousePosition:!1})},t.prototype._setPositionInternal=function(n){this._element.css({top:0,left:0});var t={elementAlign:this._options.elementAlign||"left-top",baseAlign:this._options.baseAlign||"left-bottom",overflow:this._options.overflow,supportScroll:this._options.supportScroll,leftOffsetPixels:this._options.leftOffsetPixels,topOffsetPixels:this._options.topOffsetPixels};n.useMousePosition?(t.leftOffsetPixels=this._options.mouseLeftOffsetPixels||t.leftOffsetPixels,t.topOffsetPixels=this._options.mouseTopOffsetPixels||t.topOffsetPixels,f.Positioning.positionAtLocation(this._element,this._mousePosition,t)):f.Positioning.position(this._element,this._$dropElement,t)},t.prototype._getDropElement=function(){return this._$dropElement},t.prototype._show=function(n){this.isDisposed()||this._visible||(this._visible=!0,!this._contentSet&&this._options.content&&(typeof this._options.content=="function"?this.setContent(this._options.content.call(this)):this.setContent(this._options.content),this._contentSet=!0),this._options.setAriaDescribedBy&&this._$dropElement.attr("aria-describedby",this._$contentContainer.attr("id")),this._setPositionInternal(n),this._element.show(),this._fire("popup-opened"),t._shownPopup&&t._shownPopup.hide(),t._shownPopup=this,this._documentEventDelegate&&$(document).bind("mousedown",this._documentEventDelegate),this._bind(this.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate),this._delayedShow&&this._delayedShow.cancel())},t.prototype.hide=function(){this.isDisposed()||(this._visible=!1,this._documentEventDelegate&&$(document).unbind("mousedown",this._documentEventDelegate),this._onForceHideDropPopupDelegate&&this._unbind(this.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate),this._$dropElement.removeAttr("aria-describedby"),this._element.hide(),this._fire("popup-closed"),this._delayedShow&&this._delayedShow.cancel(),this._unbind(this._$dropElement,"mousemove",this._mouseMoveDelegate),t._shownPopup===this&&(t._shownPopup=null))},t.prototype._dispose=function(){n.prototype._dispose.call(this);this._documentEventDelegate&&($(document).unbind("mousedown",this._documentEventDelegate),this._documentEventDelegate=null);this._onForceHideDropPopupDelegate&&(this._unbind(this.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate),this._onForceHideDropPopupDelegate=null);this._$dropElement&&this._$dropElement.length>=1&&(this._unbind(this._$dropElement,"click"),this._unbind(this._$dropElement,"mouseenter"),this._unbind(this._$dropElement,"mouseleave"),this._unbind(this._$dropElement,"mousemove"),this._unbind(this._$dropElement,"focus"),this._unbind(this._$dropElement,"blur"),this._unbind(this._$dropElement,"remove.removePopupDropElement"));f.detachResize(this._element)},t}(u.Control),l,e,s,v;t.PopupContentControlO=o;l=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(o);t.PopupContentControl=l;e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"rich-content-tooltip",openCloseOnHover:!0},t))},t.prototype.initialize=function(){this._options.popupTag!==!1&&(this._$popupTag=$(h("div","popup-tag")).prependTo(this._element));n.prototype.initialize.call(this);this._options.doNotHideOnBlur||this._bind(this._getDropElement(),"blur",this.hide.bind(this))},t.prototype._getPopupTooltipElement=function(){return this._$popupTag},t.prototype._setPositionInternal=function(t){var i,r,u;n.prototype._setPositionInternal.call(this,t);this._$popupTag&&(this._$popupTag.css({top:0,left:0}),i={elementAlign:"left-top",baseAlign:"left-bottom",topOffsetPixels:this._options.topOffsetPixels},t&&t.useMousePosition?(i.leftOffsetPixels=this._options.mouseLeftOffsetPixels||i.leftOffsetPixels,i.topOffsetPixels=this._options.mouseTopOffsetPixels||i.topOffsetPixels,f.Positioning.positionAtLocation(this._$popupTag,this._mousePosition,i)):f.Positioning.position(this._$popupTag,this._getDropElement(),i),r=parseInt(this._$popupTag.css("top"),10),u=parseInt(this._$popupTag.parent().css("top"),10),r>u?(this._$popupTag.css({"-moz-transform":"scaleY(-1)","-o-transform":"scaleY(-1)","-webkit-transform":"scaleY(-1)",transform:"scaleY(-1)",filter:"FlipV","-ms-filter":"FlipV"}),this._$popupTag.css("top",r-(this._getDropElement().height()+this._$popupTag.height())+"px"),this._$popupTag.parent().css("top",u-(this._$popupTag.height()-1)+"px")):this._$popupTag.css({"-moz-transform":"scaleY(1)","-o-transform":"scaleY(1)","-webkit-transform":"scaleY(1)",transform:"scaleY(1)",filter:"","-ms-filter":""}))},t.addTooltip=function(n,t,i){return u.Enhancement.enhance(s,$(t),__assign({content:n,openDelay:500,topOffsetPixels:-3,mouseTopOffsetPixels:5,coreCssClass:"rich-content-tooltip auto-width"},i))},t.addTooltipIfOverflow=function(n,i,r,u){var e,o=!1,s=u&&u.eventSource||i;return f.tooltipIfOverflow(i.jquery?i[0]:i,__assign({addTooltipDelegate:function(i,u){if(e){if(!o&&a(i)){o=!0;e.onMouseEnter(i)}}else if(e=t.addTooltip(n,s,r),a(i)){o=!0;e.onMouseEnter(i)}else e.showDelayed();e.setContent(u.titleText)}},u)),e},t}(o);t.RichContentTooltipO=e;s=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(e);t.RichContentTooltip=s;v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({openCloseOnHover:!0,showOnFocus:!0,openDelay:1e3,topOffsetPixels:5,setAriaDescribedBy:!0,coreCssClass:"rich-content-tooltip auto-width"},t))},t}(e);t.DefaultRichContentTooltip=v});
define("VSS/Controls/Menus",["require","exports","q","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Controls","VSS/Controls/PopupContent","VSS/Diag","VSS/Events/Action","VSS/Events/Handlers","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/Telemetry/Services","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function vt(n){var t;return n&&(t=n.state|g.None,n.disabled&&(t=t|g.Disabled),n.hidden&&(t=t|g.Hidden),n.toggled&&(t=t|g.Toggled)),t}function gt(n){var t=new v.StableSorter(function(n,t){var i=n.rank?n.rank:9999,r=t.rank?t.rank:9999;return i-r});return t.sort(n,!1)}var k=y.delegate,ht=p.domElem,d=p.KeyCode,kt=w.handleError,dt=w.getErrorMessage,lt,it,tt,g,nt,yt,ut,rt,ft,et,ct,ot,at,wt,st,pt,bt;t.BLUR_CLOSE_TIMEOUT=25;window.addEventListener("keydown",function(n){n.keyCode===p.KeyCode.F2&&n.shiftKey&&n.ctrlKey&&(console.log("LOOK OUT"),window.keepMenus=!window.keepMenus,n.preventDefault())}),function(n){function t(n){return Boolean(n)&&n.which===2}function i(n){return Boolean(n)&&$(n.target).is("ul.menu")}n.isMiddleClick=t;n.targetIsMenu=i}(lt||(lt={})),function(n){function t(t){return t==="vertical"?n.Vertical:n.Horizontal}n.Horizontal=0;n.Vertical=1;n.parse=t}(it||(it={})),function(n){function t(t){switch(t){case"static":return n.Static;case"popup":return n.Popup;case"dropdown":return n.DropDown;case"chevron":return n.Chevron}return n.Normal}n.None=0;n.Normal=1;n.Static=2;n.Popup=3;n.DropDown=4;n.Chevron=5;n.SubMenu=6;n.parse=t}(tt||(tt={})),function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.Hidden=2]="Hidden";n[n.Toggled=4]="Toggled"}(g=t.MenuItemState||(t.MenuItemState={})),function(n){function t(t){switch(t){case"right-bottom":return n.RightBottom;case"left-bottom":return n.LeftBottom;case"left-top":return n.LeftTop}return n.RightJustify}n.RightBottom=0;n.RightJustify=1;n.LeftBottom=2;n.LeftTop=3;n.parse=t}(nt||(nt={}));yt=function(){function n(){this._commandStates={}}return n.prototype.getCommandState=function(n,t){var i=this._commandStates&&this._commandStates[n];return $.isFunction(i)?i.call(t,n,t):i},n.prototype.updateCommandStates=function(n){var t=this;n&&$.each(n,function(n,i){t._commandStates[i.id]=vt(i)})},n.prototype.executeCommand=function(n){this._fireEvent(this._executeEvent,this,n)},n.prototype.attachExecuteCommand=function(n){this.attachEvent(this._executeEvent,n)},n.prototype.detachExecuteCommand=function(n){this.detachEvent(this._executeEvent,n)},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){var r;if(this._events&&(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r))return!1},n.prototype.attachEvent=function(n,t){this._events||(this._events=new c.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n}();w.initClassPrototype(yt,{_executeEvent:"execute-command",_commandStates:null});t.menuManager=new yt;ut=function(n){function t(t){var i=n.call(this,t)||this;return i._type=tt.parse(i._options.type),i._children=[],i}return __extends(t,n),t.prototype.getOwner=function(){return this._parent?this._parent.getOwner():this},t.prototype.getParent=function(){return this._parent},t.prototype.getParentMenu=function(){return undefined},t.prototype.getContextInfo=function(){return this._options.contextInfo},t.prototype.getActionArguments=function(){var n=this._options.arguments||this.actionArguments;return typeof n=="string"?{url:n}:$.isFunction(n)?n.call(this,this.getOwner().getContextInfo()):n},t.prototype.getMenuType=function(){return this._type},t.prototype.updateCommandStates=function(n){this._updateCommandStates(n)},t.prototype.isMenuBar=function(){return this._type===tt.Static},t.prototype._fireUpdateCommandStates=function(n){(n=n||this,typeof this._options.updateCommandStates!="function"||this._options.updateCommandStates.call(n,n)!==!1)&&this._parent&&this._parent._fireUpdateCommandStates(n)},t.prototype._clear=function(){for(var t=this._children.length,n=0;n<t;n++)this._children[n]._clear(),this._children[n].dispose();this._children=[]},t.prototype._updateCommandStates=function(n){var t=this;this._commandStates||(this._commandStates={});n&&$.each(n,function(n,i){t._commandStates[i.id]=vt(i)})},t.prototype._updateContributedMenuItems=function(n){this._children&&this._children.forEach(function(t){t._updateContributedMenuItems(n)})},t}(e.Control);t.MenuBase=ut;w.initClassPrototype(ut,{_type:null,_parent:null,_children:null,_commandStates:null,actionArguments:null});rt=function(n){function i(t){var i=n.call(this,t)||this;i._isPinFocused=!1;i._quenchMouseLeave=!1;i._blockHoverOpenSubMenu=!1;i._isHidden=!1;i._item=i._options.item||{};i.setEnhancementOptions({coreCssClass:i._item.href?"menu-item-container":"menu-item",tagName:"li"});try{i.actionArguments=i._item.arguments}catch(r){}return i._align=nt.parse(i._options.align),i}return __extends(i,n),i.getScopedCommandId=function(n,t){return t?t+"-"+n:n},i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},i.prototype.getParentMenu=function(){return this._parent instanceof et&&this._parent},i.prototype.getCommandId=function(){return i.getScopedCommandId(this._item.id,this._item.scope)},i.prototype.getAction=function(){var n=this._item.idIsAction;return n===!1?this._item.action:this._item.action||this.getCommandId()||this._item.href},i.prototype.hasAction=function(){var n=this.getAction();return n!==null&&typeof n!="undefined"},i.prototype.hasSubMenu=function(){return!this.isDefault()&&this._item.childItems},i.prototype.isDecorated=function(){return this._item.decorated===!0},i.prototype.isDefault=function(){return this._type===tt.None},i.prototype.isSeparator=function(){return this._item.separator===!0},i.prototype.isLabel=function(){return this.isSeparator()&&this._item.isLabel},i.prototype.isSelected=function(){return this._item.selected===!0},i.prototype.getCommandState=function(n,i){var r=null;return n=n||this._item.id,i=i||this,typeof this._options.getCommandState=="function"&&(r=this._options.getCommandState.call(this,n,i)),(r===null||typeof r=="undefined")&&this._parent&&$.isFunction(this._parent.getCommandState)&&(r=this._parent.getCommandState(n,i)),(r===null||typeof r=="undefined")&&(r=t.menuManager.getCommandState(n,i)),(r===null||typeof r=="undefined")&&this._item.id===n&&(r=vt(i._item)),$.isFunction(r)&&(r=r.call(this,n,this)),r},i.prototype.getIndex=function(){return this._index},i.prototype.setIndex=function(n){this._index=n},i.prototype.setIsHidden=function(n){this._isHidden=n;this._updateState()},i.prototype.isHidden=function(){if(this.isPinnable()&&this._parent&&this._parent.getMenuPinningOptions()){var n=this._parent.getMenuPinningOptions();if(n.hidePinnedItems&&this._isPinned&&!this._item.pinningOptions.neverHide||n.hideUnpinnedItems&&!this._isPinned&&!this._item.pinningOptions.neverHide)return!0}return Boolean((this.getCommandState()&g.Hidden)===g.Hidden||this._type===tt.None||this.isSeparator()&&this._item.hidden||this._isHidden)},i.prototype.isEnabled=function(){return this.isHidden()?!1:this.isSeparator()?void 0:(this.getCommandState()&(g.Disabled|g.Hidden))===g.None},i.prototype.isToggled=function(){var n=!1;return this.isSeparator()||this.isHidden()||(n=(this.getCommandState()&g.Toggled)===g.Toggled),n},i.prototype.isPinnable=function(){return this._item.pinningOptions&&this._item.pinningOptions.isPinnable},i.prototype.isPinned=function(){return this._isPinned},i.prototype.initialize=function(){var f=this,t,r,u,i;n.prototype.initialize.call(this);this.isPinnable()&&(t=this.getParentMenu(),r=t&&t.getMenuPinningOptions(),r&&r.isPinningSource?(u=t.getParentMenu(),i=v.first(u._menuItems,function(n){return n._item&&n._item.id===f._item.id}),this._isPinned=i&&i.isPinnable()?i._isPinned:!!this._item.pinningOptions.isPinned):this._isPinned=!!this._item.pinningOptions.isPinned);this._decorate()},i.prototype.update=function(n){var t=this;n!==this._item&&(Object.keys(this._item).forEach(function(n){delete t._item[n]}),$.extend(this._item,n));this._clear();this._item.decorated=!1;this._element.empty();this._unbind("click mouseenter mouseleave mousedown mouseup keydown");this._decorate()},i.prototype.updateItems=function(n){this._clear();this._item.childItems=n},i.prototype._decorate=function(){var n=this._element,i,r,f,l;!this.isDecorated()&&this._item.href&&(n=$('<a class="menu-item" tabindex="-1"/>').appendTo(n),n.attr("href",this._item.href));this._$menuItemElement=n;var w=this.getOwner()._options.showIcon===!0,a=this.hasSubMenu(),b=this._item.showText!==!1,d=this._item.showHtml!==!1,s,u,h,t,v=!1,y=!1,c=!1;n.attr({id:"mi_"+e.getId(),tabindex:"-1"});this._element.attr({role:"menuitem",tabindex:"-1"});this.isDecorated()?t=n.children(".drop").eq(0):(i=this._item.title,i||this._item.encoded||this._item.setDefaultTitle===!1||(i=this._item.text),n.addClass(this._options.cssCoreClass).addClass(this._options.cssClass),i&&(this._item.setTitleOnlyOnOverflow?o.RichContentTooltip.addTooltipIfOverflow(i,n[0],{menuContainer:this._element},{titleText:i,titleTarget:this._element[0],eventSource:this._element[0]}):this._element.attr("title",i)),this._item.id&&n.attr("command",this._item.id),this._item.cssClass&&n.addClass(this._item.cssClass),this._item.hidden&&n.addClass("invisible"),this._item.focusable===!1&&n.addClass("unfocusable"),this.isSeparator()?(n.addClass("menu-item-separator"),n.attr("role","separator"),s=this._createSeparatorElement(),this._item.text&&(s.text(this._item.text),s.removeClass("separator"),s.addClass("text-separator")),n.append(s)):(w&&!this._item.noIcon&&(typeof this._item.icon=="string"&&this._item.icon.match(/^https?:\/\//)?this._item.icon=this._getExternalIcon.bind(this,this._item.icon):typeof this._item.icon=="string"&&this._item.icon.match(/^css:\/\//)&&(this._item.icon=this._item.icon.substr(6)),r=this._createIconElement(),$.isFunction(this._item.icon)?r.append(this._item.icon.call(this,r)):this._item.icon&&r.addClass(this._item.icon),r.hasClass("bowtie-icon")&&r.removeClass("icon"),n.append(r),v=!0),b&&(u=this._createTextElement(),this._item.encoded?u[0].innerHTML=this._item.text||"":typeof this._item.text=="string"?u.text(this._item.text):$.isFunction(this._item.text)&&u.text(this._item.text.call(this)||""),this._item.textClass&&u.addClass(this._item.textClass),y=!0,n.append(u)),d&&(c=!0,h=this._createHtmlElement(),f=this._item.html,typeof f=="function"&&(f=f.call(this)),f instanceof jQuery?h.append(this._item.html):typeof f=="string"?h.html(this._item.html):c=!1,this._item.htmlClass&&h.addClass(this._item.htmlClass),n.append(h)),c||y||!v||n.addClass("icon-only"),a&&(this._element.attr("aria-haspopup","true"),this._item.hideDrop||(t=this._createDropElement(),l=this.getElement().css("display"),l!=="inline-block"&&l!=="table-cell"?n.prepend(t):n.append(t),n.addClass("drop-visible"))),this.isPinnable()&&!this._item.pinningOptions.hidePin&&(n.addClass("pin-visible"),this._pinElement=$("<i class='pin bowtie-icon' />"),this._pinElement.click(this._onPinClick.bind(this)),this._pinElement.attr({id:n.attr("id")+"_pin",role:"button",tabindex:"-1"}),n.append(this._pinElement))));this._updateState();n.toggleClass("selected",this.isSelected());this.isDefault()||this.isSeparator()?this.isSeparator()&&this._bind("click",function(n){n.stopPropagation()}):(this._bind("click",k(this,this._onClick)),this._bind("mouseenter",k(this,this._onMouseEnter)),"onpointerdown"in this._element[0]||this._bind("touchstart",k(this,this._onTouchStart)),this._bind("pointerdown",k(this,this._onPointerDown)),this._bind("pointerup",k(this,this._onPointerUp)),this._bind("mouseleave",k(this,this._onMouseLeave)),this._bind("mousedown",k(this,this._onMouseDown)),this._bind("mouseup",k(this,this._onMouseUp)),this._bind("keydown",this._onKeyDown.bind(this)),a&&t&&t.length>0&&this._bind(t,"click",k(this,this._onDropClick)));this.getOwner()._options.markUnselectable===!0&&p.makeElementUnselectable(n[0])},i.prototype._getExternalIcon=function(n){return $("<img/>").attr("src",n)},i.prototype.select=function(n,t){n===void 0&&(n=!1);t===void 0&&(t=!0);this._parent._selectItem(this,n,t);this._parent._clearTimeouts()},i.prototype.focusPin=function(n){n===void 0&&(n=!0);this._isPinFocused=n;this._pinElement&&(this._pinElement.toggleClass("focus",this._isPinFocused),n&&p.tryFocus(this._pinElement))},i.prototype.deselect=function(){this._parent._selectItem(null)},i.prototype.escaped=function(){this.select()},i.prototype.execute=function(n){n;var t=this.getOwner();return this.collapse({immediate:!0}),t.escaped(),this.deselect(),t.isMenuBar()&&n&&n.keepHighlight&&this.showHoverHighlight(),t._proceedBlur(),this.hasAction()?this.executeAction($.extend({},t.getActionArguments(),this.getActionArguments()),n?n.e:null):void 0},i.prototype.executeAction=function(n,i){var r=this.getAction(),l=this.getOwner(),e=r==="navigate"&&n.url||this._item.href,o,s,u,f;if(r){if(n.telemetry&&n.telemetry.area&&n.telemetry.feature&&b.publishEvent(new b.TelemetryEventData(n.telemetry.area,n.telemetry.feature,{CommandId:this.getCommandId()||"Unknown",GroupId:this._item.groupId})),o=i&&i.ctrlKey,$.isFunction(r)&&!(e&&o)&&(s=r.apply(this,[n,i]),!e||s===!1))return s;if(e){try{u=n.url;u||(u=this._item.href);f=null;n.target&&(f=n.target);o&&(f="_blank");f?h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:u,target:n.target}):h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:u})}catch(i){}return!1}return l?l.executeAction(new c.CommandEventArgs(r,n,this)):t.menuManager.executeCommand(new c.CommandEventArgs(r,n,this))}},i.prototype.collapse=function(n){for(var t=this._parent,i=n&&n.immediate===!0;t;)$.isFunction(t.hide)&&t.hide({immediate:i}),t=t._parent;this.getOwner().ownFocus()},i.prototype.setFocus=function(n){n===void 0&&(n=!0);var t=this._$menuItemElement;!t||this.isSeparator()||this.isDefault()||t.addClass("focus");t&&p.tryFocus(this._element)},i.prototype.removeFocus=function(){var n=this._$menuItemElement;!n||this.isSeparator()||this.isDefault()||n.removeClass("focus");this.focusPin(!1)},i.prototype.showHoverHighlight=function(){this._highlightHover=!0;this._updateState()},i.prototype.showPressedHighlight=function(){this.hasSubMenu()&&this.getSubMenu()._visible||(this._highlightPressed=!0,this._updateState())},i.prototype.removePressedHighlight=function(){this._highlightPressed&&(this._highlightPressed=!1,this._updateState())},i.prototype.removeHighlight=function(){this._highlightHover=!1;this._highlightPressed=!1;this._updateState()},i.prototype.updateTitle=function(n){var t;typeof n=="string"?t=n:this._item&&$.isFunction(this._item.attr("title"))&&(t=this._item.text.call(this));t&&(this._options.item&&this._options.item.setTitleOnlyOnOverflow||this._$menuItemElement.attr("title",t),this._options.item&&(this._options.item.title=t))},i.prototype.updateText=function(n){var t;typeof n=="string"?t=n:this._item&&$.isFunction(this._item.text)&&(t=this._item.text.call(this));t&&this._$menuItemElement.children("span.text").text(t)},i.prototype.getSubMenu=function(){var n=null,t;return this.hasSubMenu()&&(this._children.length===0?(t=this._parent&&this._parent._parent&&this._parent._parent._element||this._$menuItemElement,n=e.create(et,t,$.extend({},this._options,this._item.childOptions,{earlyInitialize:!1,items:this._item.childItems,type:"submenu",cssCoreClass:"menu sub-menu",tagName:"ul"})),n._element.addClass("menu"),n._element.attr("data-parent",this._$menuItemElement.attr("id")),n._parent=this,n._type=tt.SubMenu,this._children.push(n)):n=this._children[0]),n},i.prototype.tryShowSubMenu=function(n){var t=n&&n.immediate;return!this.isDefault()&&this.isEnabled()&&this.getSubMenu()?(this.showSubMenu({immediate:t}),!0):!1},i.prototype.showSubMenu=function(n){var i=n&&n.immediate===!0,r=n?n.showTimeout:undefined,u=n?n.callback:undefined,t=this.getSubMenu(),f=this._item.splitDropItem?this._item.splitDropItem:this,e=(n&&n.setFocus)!==!1;this._closeSubmenuOnMouseLeave=n&&n.closeOnMouseLeave;t.show({immediate:i,showTimeout:r,callback:u,element:f._$menuItemElement,align:this._align,setFocus:e})},i.prototype.hideSubMenu=function(n){var r=this,i,t;this.hasSubMenu()&&(i=n&&n.immediate===!0,t=this.getSubMenu(),t._parent===this&&t.hide({immediate:i,callback:function(){r._closeSubmenuOnMouseLeave=!1}}))},i.prototype.hideSiblings=function(n){this._parent.hideChildren(this,n)},i.prototype._attachMenuEvents=function(){},i.prototype._createIconElement=function(){return $(ht("span","icon menu-item-icon"))},i.prototype._createTextElement=function(){return $(ht("span","text"))},i.prototype._createHtmlElement=function(){return $(ht("span","html"))},i.prototype._createDropElement=function(){return $(ht("div","drop"))},i.prototype._createSeparatorElement=function(){return $(ht("div","separator"))},i.prototype._updateState=function(){var n=this._$menuItemElement,t;!n||this.isSeparator()||this.isDefault()||(t=(this._item.splitDrop||this._item.splitDropItem||{})._$menuItemElement,this.isEnabled()?(n.toggleClass("hover",this._highlightHover),n.toggleClass("pressed",this._highlightPressed),n.removeAttr("disabled"),n.attr("aria-disabled","false"),n.removeClass("disabled"),t&&t.toggleClass("split-drop-hover",this._highlightHover)):(n.attr("disabled","disabled"),n.addClass("disabled"),n.attr("aria-disabled","true"),n.removeClass("hover"),n.removeClass("pressed")),this._pinElement&&this._pinElement.toggleClass("focus",this._isPinFocused),n.toggleClass("toggle-on",this.isToggled()));n&&!this.isDefault()&&n.toggleClass("invisible",this.isHidden());this._pinElement&&(this._pinElement.toggleClass(i.PinnedIconClass,this._isPinned),this._pinElement.toggleClass(i.UnpinnedIconClass,!this._isPinned),this._pinElement.attr("title",this._isPinned?l.MenuItemUnpinButtonLabel:l.MenuItemPinButtonLabel))},i.prototype._updateContributedMenuItems=function(t){var i=[this._item],r=function(n,i,u){for(var f,o=!1,e=0,s=t;e<s.length;e++)if(f=s[e],n.id===f.id&&n.sourceExtensionId===f.sourceExtensionId){u[i]=f;o=!0;break}!o&&$.isArray(n.childItems)&&n.childItems.forEach(r)};i.forEach(r);i[0]!==this._item?this.update(i[0]):n.prototype._updateContributedMenuItems.call(this,t)},i.prototype._onPointerDown=function(n){var i=n.originalEvent;if(i.pointerType==="touch"){var r=this.hasSubMenu()&&this.getParentMenu().openSubMenuOnHover,t=this._children&&this._children[0],u=t&&t._visible;r&&(!u||t.shownTime>Date.now()-100)&&(this._handledPointerId=i.pointerId)}},i.prototype._onPointerUp=function(n){var t=n.originalEvent;t.pointerId===this._handledPointerId&&(this._blockClickUntil=Date.now()+500);this._handledPointerId=null},i.prototype._onTouchStart=function(n){!this.hasSubMenu()||!this.getParentMenu().openSubMenuOnHover||this._children&&this._children[0]&&this._children[0]._visible?this._onClick(n):(this._onMouseEnter(n),n.preventDefault())},i.prototype._onMouseEnter=function(n){var i,t,r,e,u,f;for(s.logTracePoint("MenuItem._onMouseEnter.start"),i=n.target;i&&i.tagName.toUpperCase()!=="UL";)i=i.parentElement;i===this._parent._element[0]&&(t=this.getOwner(),!this._blockHoverOpenSubMenu&&(t._active||t.openSubMenuOnHover)?(t.activate(),r=t._subMenuVisible,this.hideSiblings({immediate:this._options.immediateShowHide}),e=this._parent.isMenuBar()&&!(this._parent===t&&this._parent._active&&this._parent.getElement()[0].contains(document.activeElement)),this.select(e),(t!==this._parent||r||t.openSubMenuOnHover)&&(t._subMenuVisible=r,this.isEnabled()&&this.hasSubMenu()&&(u=this.getSubMenu(),u._parent===this&&(u._visible||(f=t.openSubMenuOnHover&&t===this._parent,this.showSubMenu({immediate:f&&!r?!1:this._options.immediateShowHide,showTimeout:f&&!r?200:undefined,closeOnMouseLeave:f,callback:function(){u.selectDefaultItem()},setFocus:!1})))))):this.showHoverHighlight())},i.prototype._onMouseLeave=function(n){var i=this.getOwner(),t;if(this._quenchMouseLeave){this._quenchMouseLeave=!1;n.stopPropagation();return}this._closeSubmenuOnMouseLeave&&this.hideSubMenu({immediate:!1,hideTimeout:200});i._active?i!==this._parent?this.hasSubMenu()?(t=this.getSubMenu(),t._parent===this?t._visible||(this.deselect(),t._clearTimeouts()):this.deselect()):this.deselect():this.hasSubMenu()&&this.getSubMenu()._visible||this.removeHighlight():this.removeHighlight()},i.prototype._onMouseDown=function(){this.showPressedHighlight()},i.prototype._onMouseUp=function(){this.removePressedHighlight()},i.prototype._onClick=function(n){var u=this,t,i,r;if(lt.targetIsMenu(n))return!1;if(!lt.isMiddleClick(n)){if(this._blockClickUntil&&Date.now()<this._blockClickUntil){n.stopPropagation();n.preventDefault();return}if(i=this.actionArguments,i||(i={}),i.clickArguments||(i.clickArguments={}),$.extend(i.clickArguments,n),this.isEnabled()){if(this.hasSubMenu()&&this._item.clickOpensSubMenu!==!1)t=this.getSubMenu(),this.select(),t._parent===this&&t._visible?(this.getOwner().activate(),this._options.clickToggles===!0?(t.hide({immediate:!0}),this._blockHoverOpenSubMenu=!0,r=function(){u._blockHoverOpenSubMenu=!1;u._unbind("mouseleave",r)},this._bind("mouseleave",r),this.select()):t.ownFocus()):(this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),t.selectDefaultItem());else if(this.hasAction())return this.select(),this.execute({e:n,keepHighlight:this._parent.getMenuType()!==tt.SubMenu})===!0}else this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.select();n.stopPropagation();n.preventDefault()}},i.prototype._onDropClick=function(){var n;return this.isEnabled()&&(this.getOwner().activate(),this.hasSubMenu()&&(n=this.getSubMenu(),n._parent===this&&n._visible?this._options.clickToggles===!0?(n.hide({immediate:!0}),this.select()):n.ownFocus():(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),n.selectDefaultItem()))),!1},i.prototype._onPinClick=function(n){n.stopPropagation();n.preventDefault();this.toggleIsPinned()},i.prototype.toggleIsPinned=function(n,t){var o,v,s,y,r,h,c,p,k,l,w,i,b;n===void 0&&(n=!this._isPinned);this._isPinned=n;this._updateState();var u=this.getParentMenu(),a=u&&u.getMenuPinningOptions()||{},f=[],e;if(a.isPinningSource)e=u.getParentMenu(),f.push(e);else if(a.isPinningTarget)for(e=u,o=0,v=this._parent._menuItems;o<v.length;o++)i=v[o],i.hasSubMenu()&&(s=i.getSubMenu(),y=s&&s.getMenuPinningOptions(),y&&y.isPinningSource&&f.push(s));if(f.length>0){for(h=void 0,c=0,p=f;c<p.length;c++){for(k=p[c],l=0,w=k._menuItems;l<w.length;l++)i=w[l],i.isPinnable()&&i._item.pinningOptions.groupId===this._item.pinningOptions.groupId&&(h=i),i._item.id===this._item.id&&(r=i);if(r)break}r&&(r._isPinned=this._isPinned,r._updateState(),h&&r.getParentMenu().getMenuPinningOptions().pinItemsToEnd&&r.getParentMenu().moveMenuItemAfter(r,h))}if(a.closeOnPin&&(!t||t.unfocus)&&(this._quenchMouseLeave=!0,this._parent.selectLeft()),e.updateSourceMenu(this._item.pinningOptions.groupId),b=this._item.pinningOptions,b.onPinnedChanged)b.onPinnedChanged(this,this._isPinned,r)},i.prototype._onKeyDown=function(n){var t=function(){return!n.ctrlKey&&!n.altKey&&!n.shiftKey};switch(n.keyCode){case d.RIGHT:if(t()&&!this._isPinFocused&&this.isPinnable()&&!this._item.pinningOptions.hidePin)return this.focusPin(),!1;break;case d.LEFT:if(t()&&this._isPinFocused)return this.focusPin(!1),this.select(),!1;break;case d.SPACE:case d.ENTER:return this.isEnabled()&&(this._isPinFocused?(this._element.focus(),this.toggleIsPinned()):this.hasSubMenu()?(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),this.getSubMenu().selectFirstItem()):this.hasAction()&&this.execute({e:n})),!1}},i}(ut);rt.enhancementTypeName="tfs.menu.item";rt.PinnedIconClass="bowtie-unpin";rt.UnpinnedIconClass="bowtie-pin-unpin";t.MenuItem=rt;w.initClassPrototype(rt,{_item:null,_align:null,_index:0,_highlightHover:!1,_highlightPressed:!1});ft=function(){function n(n,t,i,r,u,e,o){this._menu=n;this._webContext=t;this._contributionIds=i;this._contributionType=r;this._contributionQueryOptions=u||f.ContributionQueryOptions.IncludeRecursiveTargets;this._getMenuActionContext=e;this._options=o||{}}return n.prototype._immediateInstanceRequired=function(n){return n.id&&f.ExtensionHelper.hasContent(n)},n.prototype._getContributions=function(){var n=this;return this._contributionsPromise||(this._contributionsPromise=this._contributionIds&&this._contributionIds.length?a.getService(f.ExtensionService).queryContributions(this._contributionIds,this._contributionQueryOptions,this._contributionType).then(function(t){var r=i.defer(),u=[];return t.forEach(function(t){var i=n._getContributionWithSource(t);i&&u.push(i)}),i.allSettled(u).then(function(n){var t=[];n.forEach(function(n){n.state==="rejected"&&console.error(n.reason);n.state==="fulfilled"&&n.value&&t.push(n.value)});r.resolve(t)},r.reject),r.promise}):i.resolve([])),this._contributionsPromise},n.prototype._getContributionWithSource=function(t){var r=t.id||"";return this._immediateInstanceRequired(t)?u.getBackgroundInstance(t,t.properties.registeredObjectId||r,this._webContext,this._webContext,n._contributionSourceTimeout,"Timed-out waiting for menu source provider for contribution: "+r).then(function(n){return{contribution:t,source:n}}):t.type===n.ACTION_TYPE||t.type===n.HYPERLINK_ACTION_TYPE?i.resolve({contribution:t}):null},n.prototype._makeThennable=function(n){return n&&$.isFunction(n.then)?n:i.resolve(n)},n.prototype._contributionToMenuItems=function(t,r){var e=this,f=t.contribution.id||"",u;return t.source?(u=i.defer(),$.isFunction(t.source.getMenuItems)?(r=$.extend({updateMenuItems:function(n){e._updateContributedMenuItems(n,t)}},r),this._makeThennable(t.source.getMenuItems(r)).then(function(n){n&&n.length?i.all(n.map(function(n){return e._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){u.resolve(n)}):u.resolve(n)},u.reject)):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){u.resolve([n])}),i.timeout(u.promise,n._contributionGetItemsTimeout,"Timed-out waiting for getMenuItems call from contribution: "+f)):this._immediateInstanceRequired(t.contribution)?i.resolve([]):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){return[n]})},n._getMenuItemFromContributedMenuItem=function(t){var r={id:t.id,text:t.text,title:t.title,separator:t.separator,disabled:t.disabled,hidden:t.hidden,icon:t.icon,noIcon:t.noIcon,groupId:t.groupId,action:t.action,href:t.href,setDefaultTitle:!1};return t.pinningOptions&&(r.pinningOptions=t.pinningOptions),t.pinningMenuOptions&&(r.pinningMenuOptions=t.pinningMenuOptions),t.childItems&&($.isArray(t.childItems)?r.childItems=t.childItems.map(function(t){return n._getMenuItemFromContributedMenuItem(t)}):i.isPromise(t.childItems)&&(r.childItems=function(i,r,u){t.childItems.then(function(t){r((t||[]).map(function(t){return n._getMenuItemFromContributedMenuItem(t)}))},u)})),r},n.prototype._updateContributedMenuFromSource=function(t,u,e,o){var c=this,s;o===void 0&&(o=!0);s=o?n._getMenuItemFromContributedMenuItem(t):t;s.action=this._getMenuAction(u,e,s.action);var h=null,l=a.getService(f.ExtensionService).getBaseUri(u),v=f.ExtensionHelper.getPublisherId(u),y=f.ExtensionHelper.getExtensionId(u);return typeof s.icon=="string"&&(h=f.ExtensionHelper.resolveUriTemplate(s.icon,r.getDefaultWebContext(),l)),s.isContribution=!0,s.sourceExtensionId=v+"."+y,s.title&&!s.text&&s.text!==""&&(this._options.defaultTextToTitle===!1&&s.icon?(s.showText=!1,s.showHtml=!1):s.text=s.title),o&&!s.groupId&&(s.groupId=u.properties.groupId),$.isArray(s.childItems)&&s.childItems.forEach(function(n){c._updateContributedMenuFromSource(n,u,e,!1)}),h?h.then(function(n){return s.icon=n,s}):i.resolve(s)},n.prototype._getBasicMenuItemFromContribution=function(n,t,i){var e=this,o=t.properties.text||null,u=t.properties.title||null,s=this._makeThennable("");return typeof t.properties.icon=="string"&&(s=f.ExtensionHelper.resolveUriTemplateProperty(t,r.getDefaultWebContext(),"icon")),s.then(function(r){var s={id:n,text:o,title:u,icon:r,groupId:t.properties.groupId,action:e._getMenuAction(t,i,null),isContribution:!0,sourceExtensionId:f.ExtensionHelper.getPublisherId(t)+"."+f.ExtensionHelper.getExtensionId(t)};return o===null&&u&&(e._options.defaultTextToTitle===!1&&r?(s.showText=!1,s.showHtml=!1):s.text=u),s})},n.prototype._getMenuAction=function(t,i,r){var e=this,o;return!r&&t.type===n.ACTION_TYPE?function(){u.getBackgroundInstance(t,t.properties.registeredObjectId||t.id,e._webContext,e._webContext,n._contributionSourceTimeout,"Timed-out waiting for menu action: "+t.id).then(function(n){n.execute(e._getMenuActionContext())})}:$.isFunction(r)?function(){return f.ExtensionHelper.publishTraceData(t),r(e._getMenuActionContext())}:t.properties.targetUri?function(){var n=a.getService(f.ExtensionService).getBaseUri(t),i=f.ExtensionHelper.resolveUriTemplate(t.properties.targetUri,e._getMenuActionContext(),n);i.then(function(n){f.ExtensionHelper.publishTraceData(t,n);window.location.href=n})}:i&&$.isFunction(i.execute)?function(){return f.ExtensionHelper.publishTraceData(t),i.execute(e._getMenuActionContext())}:o},n.prototype._updateContributedMenuItems=function(n,t){var r=this;this._menu&&i.all(n.map(function(n){return r._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){r._menu.updateContributedMenuItems(n)})},n.prototype.getContributedMenuItems=function(n){var t=this;return this._getContributions().then(function(r){var u=[];return r.forEach(function(i){u.push(t._contributionToMenuItems(i,n))}),i.allSettled(u).then(function(n){var t=[];return n.forEach(function(n){n.value&&n.value.length&&n.value.forEach(function(n){t.push(n)})}),t})})},n}();ft.ACTION_TYPE="ms.vss-web.action";ft.HYPERLINK_ACTION_TYPE="ms.vss-web.hyperlink-action";ft._contributionSourceTimeout=5e3;ft._contributionGetItemsTimeout=2e3;t.MenuContributionProvider=ft;et=function(n){function i(t){var i=n.call(this,t)||this;return i._mouseIsDown=!1,i._shouldSelectFirstItem=!1,i.setEnhancementOptions({role:"menu",coreCssClass:"menu"+(i._options.useBowtieStyle?" bowtie-menus":""),tagName:"ul"}),i._menuItems=[],i._initializeItemsSource(),i}return __extends(i,n),Object.defineProperty(i.prototype,"shownTime",{get:function(){return this._shownTime},enumerable:!0,configurable:!0}),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this.openSubMenuOnHover=t.alwaysOpenSubMenuOnHover},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.suppressInitContributions||this.refreshContributedItems();this._decorate()},i.prototype._initializeItemsSource=function(){this._itemsSource=this._options.items},i.prototype._decorate=function(){this._element.addClass(this._options.cssCoreClass).addClass(this._options.cssClass).attr("tabindex","-1");this._bind("mousedown",k(this,this._onMouseDown));this._bind("keydown",this._onMenuKeyDown.bind(this));this._itemsSource=this.getGroupedItems();this._ensureChildren()},i.prototype.getItem=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i.getCommandId())return i;return null},i.prototype.getItems=function(){return this._menuItems},i.prototype.getItemByTag=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i._item.tag)return i;return null},i.prototype.getMenuItemSpecs=function(){return this._items},i.prototype.getParentMenu=function(){return this._parent&&this._parent._parent instanceof i&&this._parent._parent},i.prototype.getMenuPinningOptions=function(){var n=this._options.item;return n&&n.pinningMenuOptions?n.pinningMenuOptions:this._options.pinningMenuOptions},i.prototype.getCommandState=function(n,t){t=t||this;var i=null;return $.isFunction(this._options.getCommandState)&&(i=this._options.getCommandState.call(t,n,t)),(i===null||typeof i=="undefined")&&(i=this._commandStates&&this._commandStates[n]),(i===null||typeof i=="undefined")&&this._parent&&$.isFunction(this._parent.getCommandState)&&(i=this._parent.getCommandState(n,t)),$.isFunction(i)&&(i=i.call(t,n,t)),i},i.prototype.updateCommandStates=function(t){n.prototype.updateCommandStates.call(this,t);this._skipUpdateMenuItemStates||this._updateMenuItemStates()},i.prototype.updateItems=function(n){this._updateItems(n,!0)},i.prototype._updateItems=function(n,t){if(!this._disposed){var i=this._menuItems.length;this._updateItemsWithContributions(n,this._contributedItems||[]);t&&this._refreshContributedMenuItems();i===0&&this._menuItems.length>0&&this._visible&&this._parent&&this._parent._element&&this._parent._element[0]===document.activeElement&&this.selectFirstItem()}},i.prototype._updateItemsWithContributions=function(n,t){this._disposed||(this._fire("menuUpdatingContributedItems",{source:this,existingItems:n,contributedItems:t}),n||(n=[]),$.isArray(n)&&(n=$.grep(n,function(n){return!n.isContribution}),t&&t.length&&(n=n.concat(t))),this._contributedItems=t,this._updateCombinedSource(n),this._fire("menuContributedItemsUpdated",{source:this,existingItems:n,contributedItems:t}))},i.prototype._updateCombinedSource=function(n){var t,i,r;if(!this._disposed){if(i=!1,this._element[0].contains(document.activeElement)&&document.activeElement instanceof HTMLLIElement&&this._parent instanceof ut&&(i=!0,t=this._selectedItem&&this._selectedItem.getCommandId(),this._parent.focus()),this._parent instanceof ut&&n&&this._parent.getElement()[0].setAttribute("aria-haspopup",String(n.length>0)),this._asyncLoadingDelay||this._contributedItemsDelay){this._menuUpdateNeeded=!0;this._itemsSource=n;this.getOwner().focus();return}this._clear();this._itemsSource=n;this._initialized&&(this._menuUpdateNeeded=!1,this._itemsSource=this.getGroupedItems(),this._ensureChildren(),this.updateMenuItemStates(),$.isFunction(this._positioningRoutine)&&this._positioningRoutine.call(this),i&&(r=t&&this.getItem(t),r?r.select():this.selectFirstItem()),this._shouldSelectFirstItem&&(this._shouldSelectFirstItem=!1,this.selectFirstItem()))}},i.prototype.getGroupedItems=function(){var n,t,i;if(!$.isArray(this._itemsSource)||(n=[],t={__ungrouped__:[]},this._itemsSource.forEach(function(n){n.groupId&&(!n.separator||n.separator&&n.text)?t[n.groupId]?t[n.groupId].push(n):t[n.groupId]=[n]:t.__ungrouped__.push(n)}),t.__ungrouped__.length===this._itemsSource.length))return this._itemsSource;for(i=null,t.__ungrouped__=t.__ungrouped__.reduce(function(n,t,r,u){return t.separator&&!t.text&&(i&&i.separator||n.length===0||r===u.length-1)||n.push(t),i=t,n},[]),$.each(t,function(t,i){if(t==="__ungrouped__")return!0;Array.prototype.push.apply(n,i);n.push({separator:!0,isGroupSeparator:!0})}),(t.__ungrouped__.length===0||this._options.doNotSeparateUngroupedItems)&&n.splice(n.length-1,1),Array.prototype.push.apply(n,t.__ungrouped__);n.length>0&&n[n.length-1].separator;)n.splice(n.length-1,1);return n},i.prototype.appendItems=function(n){$.isArray(n)&&n.length&&this.updateItems((this._itemsSource||[]).slice(0).concat(n))},i.prototype.appendItem=function(n){this._createChildMenuItem(n);this._items.push(n)},i.prototype.moveMenuItemAfter=function(n,t){var i;if(n===t)return!0;var f=this._children.indexOf(n),r=this._menuItems.indexOf(n),e=this._items.indexOf(n._item),o=this._children.indexOf(t)+1,u=this._menuItems.indexOf(t)+1,s=this._items.indexOf(t._item)+1;if(f<0||r<0||e<0||o<0||u<0||s<0)return!1;for(v.reorder(this._children,f,o,1),v.reorder(this._menuItems,r,u,1),v.reorder(this._items,e,s,1),i=Math.min(r,u);i<this._menuItems.length;i++)this._menuItems[i].setIndex(i);return n._element.detach(),n._element.insertAfter(t._element),!0},i.prototype.removeItem=function(n){for(var i,t=0,r=this._children;t<r.length;t++)if(i=r[t],i instanceof rt&&i._item===n)return this.removeMenuItem(i);return!1},i.prototype.removeMenuItem=function(n){var t=this._children.indexOf(n),i=this._menuItems.indexOf(n),r=this._items.indexOf(n._item);return t<0||r<0?!1:(this._children.splice(t,1),i>=0&&this._menuItems.splice(i,1),this._items.splice(r,1),n.dispose(),!0)},i.prototype._updateAllSourceMenus=function(){var t=this,n=[];this._items.forEach(function(i){i.pinningOptions&&n.indexOf(i.pinningOptions.groupId)<0&&(n.push(i.pinningOptions.groupId),t.updateSourceMenu(i.pinningOptions.groupId))})},i.prototype.updateSourceMenu=function(n){var i=this.getMenuPinningOptions()||{},r,t;i.isPinningTarget&&i.hideEmptySourceMenu&&(r=v.first(this._menuItems,function(t){return t._item&&t._item.pinningOptions&&t._item.pinningOptions.groupId===n&&!t.isPinned()}),t=v.first(this._menuItems,function(t){var r=t.getSubMenu(),i=r&&r.getMenuPinningOptions();return i&&i.isPinningSource&&i.groupId===n}),t)&&t.setIsHidden(!r)},i.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._enhanceChildren()},i.prototype._getMenuItemType=function(){return rt},i.prototype.getMenuItemOptions=function(n,t){return $.extend({earlyInitialize:!1,item:n,align:this.getMenuItemAlignment(),overflow:this._options.overflow},t)},i.prototype._getFirstMenuItem=function(){return this._getNextEnabledItem(0)},i.prototype._selectItem=function(n,t,i){if((t===void 0&&(t=!1),i===void 0&&(i=!0),this._selectedItem&&this._selectedItem!==n&&(this._selectedItem.removeHighlight(),this._selectedItem.removeFocus()),this._selectedItem=n,n)&&(n.showHoverHighlight(),!t)){var r=this.getOwner();r._focusItem=n;this._selectedItem.setFocus(i)}},i.prototype.selectDefaultItem=function(){p.tryFocus(this._element)},i.prototype.selectFirstItem=function(){var n=this._getFirstMenuItem();return n?(this._selectItem(n),!0):(this._shouldSelectFirstItem=!0,!1)},i.prototype.selectLastItem=function(){var n=this._getPrevEnabledItem(-1,{rollOver:!0});n&&this._selectItem(n)},i.prototype.selectNextItem=function(){var t=0,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()+1),n=this._getNextEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectPrevItem=function(){var t=-1,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()-1),n=this._getPrevEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectDown=function(){if(this._menuItems.length>0){var n=this._getNextFocusableItem(this._selectedItem?this._selectedItem.getIndex()+1:0,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectUp=function(){if(this._menuItems.length>0){var n=this._getPrevFocusableItem(this._selectedItem?this._selectedItem.getIndex()-1:-1,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectRight=function(){return this._selectedItem&&this._selectedItem.tryShowSubMenu({immediate:!0})?(this._selectedItem.getSubMenu().selectFirstItem(),!0):this.getOwner()!==this?this.getOwner().selectRight({redirected:!0}):void 0},i.prototype.selectLeft=function(){return this._parent&&this._parent._parent!==this.getOwner()?(this.hide({immediate:!0}),this._parent.select(),!0):this.getOwner()!==this?this.getOwner().selectLeft({redirected:!0}):void 0},i.prototype.show=function(n){var f=n&&n.immediate===!0,e=n?n.showTimeout:undefined,t=n&&n.callback,i=n?n.element:null,r=n?n.align:nt.RightJustify,u=(n&&n.setFocus)!==!1;if(!i)throw new Error("options.element is required.");return f?(this._showPopup(i,r,u),t&&t()):this._startShowTimeout(i,r,u,e||this.getOwner()._options.showTimeout,t),!0},i.prototype.hide=function(n){var i=n&&n.immediate===!0,r=n?n.hideTimeout:undefined,t=n?n.callback:undefined;i?(this._hidePopup(),t&&t()):this._startHideTimeout(r||this.getOwner()._options.hideTimeout,t)},i.prototype.hideChildren=function(n,t){var i,f,r,u=this._children,e=t&&t.immediate===!0,o=n&&n._item&&n._item.splitDrop;if($.isArray(u))for(i=0,f=u.length;i<f;i++)r=u[i],r!==n&&r!==o&&r.hideSubMenu({immediate:e})},i.prototype.escape=function(){return this.hide({immediate:!0}),this._parent&&this._parent.escaped(),!0},i.prototype.ownFocus=function(){this._selectItem(this._selectedItem)},i.prototype.attach=function(n){this._parent!==n&&this._visible&&this.hide({immediate:!0});this._parent=n},i.prototype.getMenuItemAlignment=function(){return"right-justify"},i.prototype.updateMenuItemStates=function(){try{this._skipUpdateMenuItemStates=!0;this._fireUpdateCommandStates(this)}finally{this._skipUpdateMenuItemStates=!1}this._updateMenuItemStates()},i.prototype.executeAction=function(n){var i;return $.isFunction(this._options.executeAction)&&(i=this._options.executeAction.call(this,n)),i!==!1&&(i=t.menuManager.executeCommand(n)),i},i.prototype._ensureVisible=function(n){if(n&&n.getElement()){var f=n.getElement(),t=this.getElement(),r=f.outerHeight(!0),i=n.getIndex()*r,u=i+r;i<t.scrollTop()?t.scrollTop(i):u-t.height()>t.scrollTop()&&t.scrollTop(u-t.height())}},i.prototype._getItems=function(){var n=this,i,t=!1;return this._items||(this._itemsSource?$.isFunction(this._itemsSource)?(i=this._itemsSource.call(this,this.getOwner().getContextInfo(),function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=i||[];t?n._disposed||n._updateItems(n._items,!1):t=!0},function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=[{text:dt(i),icon:"icon-tfs-build-failed"}];t?n._disposed||n._updateItems(n._items,!1):t=!0;kt(i)}),t||(t=!0,i||(i=[],this._asyncLoadingDelay=y.delay(this,200,function(){n._asyncLoadingDelay=null;n._updateItems([{text:l.MenuItemsLoading}],!1)})),this._items=i)):this._items=this._itemsSource:this._items=[]),this._items},i.prototype._clear=function(){this._element[0].contains(document.activeElement)&&p.tryFocus(this._element);n.prototype._clear.call(this);this._menuItems=[];this._items=null;this._childrenCreated=!1},i.prototype._createChildMenuItem=function(n,t){var i,r;return r=this.getMenuItemOptions(n,n?n.extraOptions:undefined),i=t?e.Enhancement.enhance(this._getMenuItemType(),t,r):e.BaseControl.createIn(this._getMenuItemType(),this._element,r),i._parent=this,this._children.push(i),i._item.separator||(i.setIndex(this._menuItems.length),this._menuItems.push(i)),n.splitDropOptions&&(n.childItems||n.splitDropOptions.childItems)&&this._createSplitDropMenuItem(n,i),i.initialize(),i},i.prototype._createSplitDropMenuItem=function(n,t){var i=$.extend(n.splitDropOptions,{splitDropItem:t,childItems:n.splitDropOptions.childItems||n.childItems,showText:!1,showHtml:!1,toggled:n.toggled,disabled:n.disabled,noIcon:n.splitDropOptions.noIcon!==undefined?n.splitDropOptions.noIcon:!0,cssClass:n.splitDropOptions.cssClass||"split-drop",splitDropOptions:null});n.splitDrop=this._createChildMenuItem(i);n.childItems=null;t._element.addClass("split-drop-item")},i.prototype._ensureChildren=function(){var t=this,n;this._childrenCreated||($.each(this._getItems(),function(n,i){t._createChildMenuItem(i)}),this._childrenCreated=!0,n=this.getMenuPinningOptions(),n&&n.isPinningTarget&&this._updateAllSourceMenus())},i.prototype._enhanceChildren=function(){var n=this,t=this._getItems();this._element.children("li").each(function(i,r){n._createChildMenuItem($.extend({},t[i],{decorated:!0}),$(r))});this._childrenCreated=!0},i.prototype._getNextFocusableItem=function(n,t){return this._getNextItem(function(n){return!n.isHidden()&&n._item&&n._item.focusable!==!1},n,t)},i.prototype._getNextEnabledItem=function(n,t){return this._getNextItem(function(n){return n.isEnabled()},n,t)},i.prototype._getNextItem=function(n,t,i){function f(t,i){for(var f,r=t;r<=i;r++)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(t,u.length-1),r)?r:e&&(r=f(0,t),r)?r:null},i.prototype._getPrevFocusableItem=function(n,t){return this._getPrevItem(function(n){return!n.isHidden()&&n._item&&n._item.focusable!==!1},n,t)},i.prototype._getPrevEnabledItem=function(n,t){return this._getPrevItem(function(n){return n.isEnabled()},n,t)},i.prototype._getPrevItem=function(n,t,i){function f(t,i){for(var f,r=i;r>=t;r--)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(0,t),r)?r:e&&(r=f(t,u.length-1),r)?r:null},i.prototype._ensurePopup=function(){this._ensureInitialized()&&(this._popupElement=this._element);this._ensureChildren()},i.prototype._getPopupAlign=function(n){switch(n){case nt.RightJustify:return["left-top","right-top"];case nt.RightBottom:return["right-top","right-bottom"];case nt.LeftTop:return["left-bottom","left-top"]}return["left-top","left-bottom"]},i.prototype._showPopup=function(n,t,r){var f=this,u;this._clearTimeouts();this._ensurePopup();this._pinElement=n;y.delay(this,300,function(){f._attachAncestorScroll(n)});this.updateMenuItemStates();u=this._getPopupAlign(t);this._element.show();this._positioningRoutine=function(){var f,e,o,t,r;(this._options.alignToMarkerVertical||this._options.alignToMarkerHorizontal)&&($.isFunction(this._options.getAlignmentMarkers)?(o=this._options.getAlignmentMarkers.call(this,this._element,n),f=o.elementAlignmentMarker,e=o.baseAlignmentMarker):(f=this._element.find(".alignment-marker").first(),e=n.find(".alignment-marker:not(.sub-menu .alignment-marker)").first()));t=this._options.overflow;t||(r=this._parent&&this._parent._parent,t=!(r instanceof i)||r instanceof st||r instanceof ot?"fit-flip":"flip-flip");p.Positioning.position(this._element,n,{elementAlign:u[0],baseAlign:u[1],overflow:t,supportScroll:!0,scrollByMarker:this._options.scrollByMarker,alignToMarkerHorizontal:this._options.alignToMarkerHorizontal,alignToMarkerVertical:this._options.alignToMarkerVertical,elementAlignmentMarker:f,baseAlignmentMarker:e})};this._element[0].style.removeProperty("left");this._element[0].style.removeProperty("top");this._positioningRoutine.call(this);this._visible=!0;this._shownTime=Date.now();this.getOwner()._updateSubMenuVisibleState();r&&this.ownFocus()},i.prototype._hidePopup=function(){window.keepMenus||(this._visible&&this._options.item.dynamic&&this._clear(),this._clearTimeouts(),this._visible=!1,this._pinElement&&(this._detachAncestorScroll(this._pinElement),this._pinElement=null),this._popupElement&&this._popupElement.hide(),delete this._positioningRoutine,this.hideChildren(null,{immediate:!0}),this.getOwner()._updateSubMenuVisibleState())},i.prototype._updateMenuItemStates=function(){function e(){t&&t.isHidden()===r&&t.update($.extend(t._item,{separator:!0,hidden:!r}))}for(var n,f=this._children,t,r=!1,i=0,u=f.length;i<u;i++)n=f[i],n.isSeparator()&&!n.isLabel()?(e(),t=n,r=!1):(t&&!n.isHidden()&&(r=!0),n._updateState(),n.updateText());e()},i.prototype._startShowTimeout=function(n,t,i,r,u){var f=this;this._clearTimeouts();this.delayExecute("show",r,!0,function(){f.isDisposed()||(f._showPopup(n,t,i),u&&u())})},i.prototype._startHideTimeout=function(n,t){var i=this;this._clearTimeouts();this.delayExecute("hide",n,!0,function(){i._hidePopup();t&&t()})},i.prototype._clearTimeouts=function(){this.cancelDelayedFunction("show");this.cancelDelayedFunction("hide")},i.prototype._attachAncestorScroll=function(n){this._bind($(n).parents(),"scroll",k(this,this._onParentScroll))},i.prototype._detachAncestorScroll=function(n){this._unbind($(n).parents(),"scroll")},i.prototype._dispose=function(){this._pinElement&&this._detachAncestorScroll(this._pinElement);this._asyncLoadingDelay&&(this._asyncLoadingDelay.cancel(),this._asyncLoadingDelay=null);this._contributedItemsDelay&&(this._contributedItemsDelay.cancel(),this._contributedItemsDelay=null);this._options.executeAction=null;n.prototype._dispose.call(this)},i.prototype._onParentScroll=function(){p.BrowserCheckUtils.isEdge()&&this._mouseIsDown||this._hidePopup()},i.prototype._onMouseDown=function(){var n=this;this._blockBlurUntilTimeout();p.BrowserCheckUtils.isEdge()&&(this._mouseIsDown=!0,this._bind(window.document,"mouseup",function(){n._mouseIsDown=!1;n._unbind(window.document,"mouseup")},!0))},i.prototype._onMenuKeyDown=function(n){var t=!n.ctrlKey&&!n.altKey&&!n.shiftKey;switch(n.keyCode){case d.DOWN:if(t)return this.selectDown(),!1;break;case d.UP:if(t)return this.selectUp(),!1;break;case d.RIGHT:if(t)return this.selectRight(),!1;break;case d.LEFT:if(t)return this.selectLeft(),!1;break;case d.ESCAPE:if(this.escape())return!1;break;case d.HOME:if(t)return this.selectFirstItem(),!1;break;case d.END:if(t)return this.selectLastItem(),!1}},i.prototype._blockBlurUntilTimeout=function(){this._blockBlur=!0;this.delayExecute("blockBlur",200,!0,function(){this._blockBlur=!1})},i.prototype.setContributedItemOptions=function(n,t,i){var r=!1;(this._options.contributionIds||[]).join(";")!==n.join(";")&&(this._options.contributionIds=n,r=!0);typeof t!="undefined"&&this._options.contributionType!==t&&(this._options.contributionType=t,r=!0);typeof i!="undefined"&&this._options.contributionQueryOptions!==i&&(this._options.contributionQueryOptions=i,r=!0);r&&(this._menuContributionProvider=null,this._menuUpdateNeeded=!0,this.refreshContributedItems())},i.prototype.refreshContributedItems=function(){var n=this;!this._menuContributionProvider&&this._options.contributionIds&&(this._menuContributionProvider=new ft(this,r.getDefaultWebContext(),this._options.contributionIds,this._options.contributionType,this._options.contributionQueryOptions,this._getContributionContext.bind(this),this._contributionProviderOptions),this._contributedItemsDelay=y.delay(this,100,function(){n._contributedItemsDelay=null;n._updateItems(n._items,!1)}));this._refreshContributedMenuItems()},i.prototype._refreshContributedMenuItems=function(){var n=this;this._menuContributionProvider&&(this._contributionPromise=this._menuContributionProvider.getContributedMenuItems(this._getContributionContext()).then(function(t){n._contributedItemsDelay&&(n._contributedItemsDelay.cancel(),n._contributedItemsDelay=null);(n._menuUpdateNeeded||t&&t.length)&&n._updateItemsWithContributions(n._itemsSource,t)}))},i.prototype.updateContributedMenuItems=function(n){var t=this;this._contributionPromise.then(function(){var i=[];(function r(n){Array.prototype.push.apply(i,n);n.forEach(function(n){n.childItems&&n.childItems.length>0&&r(n.childItems)})})(n);i=i.filter(function(n){return!!n.id});t._updateContributedMenuItems(i)})},i.prototype._getContributionContext=function(){var n=this._options.contextInfo?$.extend({},this._options.contextInfo.item):{};return $.isFunction(n.getContributionContext)?n=n.getContributionContext():$.isFunction(this._options.getContributionContext)&&(n=this._options.getContributionContext()),n},i}(ut);et.enhancementTypeName="tfs.menu.menu";t.Menu=et;w.initClassPrototype(et,{_items:null,_itemsSource:null,_menuItems:null,_selectedItem:null,_focusItem:null,_childrenCreated:!1,_popupElement:null,_visible:!1,_active:!1,_blockBlur:!1,_skipUpdateMenuItemStates:!1,_positioningRoutine:null,_pinElement:null});ct=function(n){function i(t){var i=n.call(this,t)||this;return i._focusing=!1,i.setEnhancementOptions({role:"menu"}),i._align=nt.parse(i._options.align),i}return __extends(i,n),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({markUnselectable:!0,showIcon:!0,showTimeout:500,hideTimeout:500},t))},i.prototype.setShowIcon=function(n){this._options.showIcon=n},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._fire("menuInitialized",{menu:this})},i.prototype._decorate=function(){n.prototype._decorate.call(this);this._element.attr("tabIndex",this._options.inTabOrder===!1?"-1":"0");this._bind(this._element,"keydown",this._onKeyDown.bind(this));this._bind(this._element,"focus",this._onFocus.bind(this));this._element[0].addEventListener("blur",this._onChildBlur.bind(this),!0);this._element[0].addEventListener("focus",this._onChildFocus.bind(this),!0)},i.prototype.getMenuItemAlignment=function(){return this._options.popupAlign||n.prototype.getMenuItemAlignment.call(this)},i.prototype.getMenuItemOptions=function(t,i){return n.prototype.getMenuItemOptions.call(this,t,$.extend({immediateShowHide:!0,clickToggles:!0,type:"static"},i))},i.prototype.escape=function(){return!1},i.prototype.escaped=function(){},i.prototype.isActive=function(){return this._active},i.prototype.activate=function(n){if(n===void 0&&(n=!0),!this._activating){this._activating=!0;try{this._clearBlurTimeout();this._active=!0;n&&p.tryFocus(this._focusElement);$.isFunction(this._options.onActivate)&&this._options.onActivate.call(this)}finally{this._activating=!1}}},i.prototype._hide=function(){this._active&&(this.hide({immediate:!0}),this.ownFocus())},i.prototype._blur=function(){this._clearBlurTimeout();this.hide({immediate:!0});this._disposed||this._selectItem(null);this._active=!1;$.isFunction(this._options.onDeactivate)&&this._options.onDeactivate.call(this);this._disposed||this._options.inTabOrder===!1||this._element.attr("tabindex","0")},i.prototype._updateSubMenuVisibleState=function(){var n,u,t,i=this._menuItems,r;if(this._subMenuVisible=!1,$.isArray(i))for(n=0,u=i.length;n<u;n++)if(t=i[n],t.hasSubMenu()&&(r=t.getSubMenu(),r._parent===t&&r._visible)){this._subMenuVisible=!0;break}},i.prototype._onKeyDown=function(n){if(n.keyCode===d.TAB)this._immediateBlur=!0;else if(n.keyCode===d.F10&&n.shiftKey)return this._onContextMenu(n)},i.prototype._onFocus=function(){this._focusing||(this._focusing=!0,this.activate(!1),!this._selectedItem||this._selectedItem.getIndex()<0||!this._selectedItem._element?this.selectFirstItem():this._selectedItem.select(),this._focusing=!1)},i.prototype._isOwned=function(n){if(this._element[0].contains(n)){for(var t=n;t!==this._element[0]&&t!==document.body;t=t.parentElement)if(t.classList.contains("unfocusable"))return!1;return!0}return!1},i.prototype._onChildFocus=function(n){this._isOwned(n.target)&&this._element.attr("tabindex","-1")},i.prototype._onChildBlur=function(){var n=this;y.delay(this,t.BLUR_CLOSE_TIMEOUT,function(){n._disposed||n._isOwned(document.activeElement)&&document.hasFocus()||(n._options.inTabOrder!==!1&&n._element.attr("tabindex","0"),n._immediateBlur?(n._immediateBlur=!1,n._blur()):n._blockBlur?n._startBlurTimeout():n._blur())})},i.prototype._proceedBlur=function(){this._canBlur=!0},i.prototype._startBlurTimeout=function(){this.delayExecute("blur",p.Constants.BlurTimeout,!0,function(){this._canBlur?(this._canBlur=!1,this._blur()):this.activate()})},i.prototype._clearBlurTimeout=function(){this.cancelDelayedFunction("blur")},i.prototype._onParentScroll=function(){this._hide()},i.prototype._onResize=function(){this._hide()},i.prototype._onContextMenu=function(){return this.showSubMenuOnFocusedItem()},i.prototype.showSubMenuOnFocusedItem=function(){var n=this._focusItem;return n&&n.tryShowSubMenu({immediate:!0}),!1},i}(et);t.MenuOwner=ct;w.initClassPrototype(ct,{_focusItem:null,_focusElement:null,_activating:!1,_subMenuVisible:!1,_align:null,_canBlur:!1,_immediateBlur:!1});ot=function(n){function t(t){var i=n.call(this,t)||this;return i.setEnhancementOptions({role:"menubar",coreCssClass:"menu-bar"+(i._options.useBowtieStyle?" bowtie-menus":"")}),i._orientation=it.parse(i._options.orientation),i._type=tt.Static,i._contributionProviderOptions={defaultTextToTitle:!1},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype.getMenuItemAlignment=function(){return this._orientation===it.Horizontal?"left-bottom":"right-justify"},t.prototype.selectUp=function(t){return this._orientation===it.Vertical?n.prototype.selectUp.call(this):n.prototype.selectLeft.call(this,t)},t.prototype.selectDown=function(t){return this._orientation===it.Vertical?n.prototype.selectDown.call(this):n.prototype.selectRight.call(this,t)},t.prototype.selectLeft=function(){if(this._orientation===it.Vertical)return n.prototype.selectLeft.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectUp.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.prototype.selectRight=function(){if(this._orientation===it.Vertical)return n.prototype.selectRight.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectDown.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.tryActivate=function(n){var t=this._getMenuBar(n);return t?(t.focus(),!0):!1},t.tryShowSubMenu=function(n){var t=this._getMenuBar(n);return t?(t.focus(),y.delay(this,0,function(){t.showSubMenuOnFocusedItem()}),!0):!1},t.prototype.focus=function(){this.activate()},t._getMenuBar=function(n){var t=$(n);return e.Enhancement.getInstance(at,t)},t}(ct);ot.enhancementTypeName="tfs.menu.menubar";t.MenuBarO=ot;at=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(ot);t.MenuBar=at;w.initClassPrototype(ot,{_orientation:it.Horizontal});wt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.escaped=function(){n.prototype.escaped.call(this);this._parent.escaped()},t}(rt);st=function(n){function t(t){var i=n.call(this,$.extend({inTabOrder:!1},t))||this;return i.setEnhancementOptions({coreCssClass:"menu-popup"+(i._options.useBowtieStyle?" bowtie-menus":""),hidden:!0}),i._type=tt.Popup,i._hidden=i._options.hidden===!0,i._onHide=i._options.onHide,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._getMenuItemType=function(){return wt},t.prototype._decorate=function(){n.prototype._decorate.call(this);this._hidden===!0&&this._element.addClass("invisible")},t.prototype.popup=function(n,t){var r=this;if(this._escapeFocusReceiver=n,this._popupPinElement=t,this._floating=!0,this._active)this.escaped();else{var i=null,f=!1,u=function(){i&&(i.cancel(),i=null);r._active||f||(r.activate(),r._showPopupMenu(),f=!0)};this._contributionPromise?(this._contributionPromise.then(u),i=y.delay(this,500,u)):u()}},t.prototype._showPopupMenu=function(){var i=this._getFirstMenuItem(),n=i.getSubMenu(),t=this._options.setFocus!==!1;n&&(n.show({immediate:!0,element:this._popupPinElement,align:this._align,setFocus:t}),t&&n.selectDefaultItem())},t.prototype._updateItemsWithContributions=function(n,t){if(this._contributedItems=t,n&&n.length>0&&n[0].childItems){var i=$.grep(n[0].childItems,function(n){return!n.isContribution});n[0].childItems=i.concat(t)}else n=[{childItems:t}];this._updateCombinedSource(n)},t.prototype._updateCombinedSource=function(t){n.prototype._updateCombinedSource.call(this,t);this._active&&this._showPopupMenu()},t.prototype.selectUp=function(){return!0},t.prototype.selectDown=function(t){var i=t&&t.redirected;return!i&&this._align!==nt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.selectFirstItem=function(){var t=this._getFirstMenuItem(),n=t.getSubMenu();return n._visible?n.selectFirstItem():!1},t.prototype.selectLeft=function(){return!0},t.prototype.selectRight=function(t){var i=t&&t.redirected;return!i&&this._align===nt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.escaped=function(){this._floating&&(this._floating=!1,this._escapeFocusReceiver&&(this._escapeFocusReceiver.focus(),this._escapeFocusReceiver=null,$.isFunction(this._options.onPopupEscaped)&&this._options.onPopupEscaped.call(this)))},t.prototype._hidePopup=function(){this._onHide&&this._onHide(this._escapeFocusReceiver);n.prototype._hidePopup.call(this)},t}(ct);st.enhancementTypeName="tfs.menu.popup";t.PopupMenuO=st;pt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(st);t.PopupMenu=pt;w.initClassPrototype(st,{_align:nt.RightJustify,_floating:!1,_hidden:!1,_escapeFocusReceiver:null});bt=function(n){function i(t){return n.call(this,t)||this}return __extends(i,n),i.prototype.initialize=function(){var t=this._element.data();n.prototype.initialize.call(this);this._bind(t.commandAction||"click",k(this,this.onCommandExecute));t.commandCompleteEvent&&this._bind(window,t.commandCompleteEvent,k(this,this.onCommandComplete))},i.prototype.onCommandExecute=function(){var n=this._element.data();return n.commandName&&(this._element.prop("disabled",!0),this._element.prop("aria-disabled",!0),t.menuManager.executeCommand(new c.CommandEventArgs(n.commandName,n.commandArg,this))),!1},i.prototype.onCommandComplete=function(){this._element.removeAttr("disabled");this._element.prop("aria-disabled",!1)},i}(e.BaseControl);e.Enhancement.registerEnhancement(at,".menu-bar.enhance");e.Enhancement.registerEnhancement(pt,".menu-popup.enhance");e.Enhancement.registerEnhancement(bt,".single-command");t.sortMenuItems=gt;w.tfsModuleLoaded("VSS.UI.Controls.Menus",t)});
define("Gallery/Client/Controls/FilterControl/FilterControl.View",["require","exports","VSS/Controls","VSS/Adapters/Knockout","VSS/Controls/Menus","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e){var s=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._subscriptions=[],t._filterDropDowns=[],t}return __extends(t,n),t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._$element=this.getElement();this._filterViewModel=this.getViewModel();this._filterViewModel.subscribe(this._filterViewModel.filters,function(){$.each(t._subscriptions,function(n,t){t.dispose()});t._subscriptions=[];$.each(t._filterViewModel.filters(),function(n,i){var r;r=t._filterViewModel.subscribe(t._filterViewModel.filters()[n].itemsList,function(){t._renderFilterMenu(n,i)});t._subscriptions.push(r);t._renderFilterMenu(n,i);r=t._filterViewModel.subscribe(t._filterViewModel.filters()[n].selectedItemIndex,function(i){t._filterViewModel.filters()[n].filterChangeCallBack(i)});t._subscriptions.push(r)})});this._filterViewModel.filters.notifySubscribers(this._filterViewModel.filters())},t.prototype._renderFilterMenu=function(n,t){var i=this._getFilterDropDownFromId(t.filterId);i?(i.setFilterOptionsAndIndex(t,n),i.displayDropDown()):(i=new o(n,t,this._filterViewModel,this._$element),this._filterDropDowns.push(i),i.displayDropDown())},t.prototype.dispose=function(){$(window).unbind("scroll");n.prototype.dispose.call(this)},t.prototype._getFilterDropDownFromId=function(n){var t;return this._filterDropDowns.forEach(function(i){f.ignoreCaseComparer(n,i.id)===0&&(t=i)}),t},t}(r.TemplateControl),o;t.FilterControlView=s;o=function(){function n(n,t,i,r){this.$parent=r;this.filterOptions=t;this.filterViewModel=i;this._index=n;this.id=t.filterId}return n.prototype.displayDropDown=function(){var n=this,t;(this.filterOptions.itemsList().length>1||this.filterOptions.itemsList().length===1&&this.filterOptions.itemsList()[0].subFilterMenu)&&(t=this.$parent.find(".filter-menu").eq(this._index),e.BrowserCheckUtils.isEdge()?t.bind("mouseup",function(i){if($(i.target).hasClass("filter-value")||$(i.target).hasClass("dropdown"))n._createFilterPopupMenu(t,n.filterOptions);else return!0}):t.bind("click",function(){n._createFilterPopupMenu(t,n.filterOptions)}),t.bind("keydown",function(i){i.keyCode===e.KeyCode.ENTER&&n._createFilterPopupMenu(t,n.filterOptions)}),$(window).bind("scroll",function(){n.disposeDropDown()}))},n.prototype.disposeDropDown=function(){this._popupMenu&&(this._popupMenu.dispose(),delete this._popupMenu)},n.prototype.setFilterOptionsAndIndex=function(n,t){this._index=t;this.filterOptions=n},n.prototype._createFilterPopupMenu=function(n,t){if(this.disposeDropDown(),this.filterOptions.isExpanded(!0),t.isEnabled()&&this.filterViewModel.isEnabled()){var r=i.BaseControl.createIn(u.PopupMenu,n,{align:"left-bottom",showIcon:!1,items:[{childItems:this._getMenuItems(t.itemsList(),t.selectedItemIndex)}],onHide:this.onHide.bind(this)});r.getElement().addClass("menu-popup");r.popup(n,n);this._popupMenu=r}},n.prototype.onHide=function(){this.filterOptions.isExpanded(!1)},n.prototype._getMenuItems=function(n,t){var i=this,r=[];return $.each(n,function(n,u){var f={title:u.elementHoverTitle,showText:!0,action:function(){u.onClickCallback?u.onClickCallback():u.subFilterMenu||t(i._constructFilterElementIndexTree(u))}};u.elementHtml?f.html=u.elementHtml:u.elementLabel&&(f.text=u.elementLabel);u.subFilterMenu&&(f.childItems=i._getMenuItems(u.subFilterMenu,t));u.disabled&&(f.hidden=!0);r.push(f)}),r},n.prototype._constructFilterElementIndexTree=function(n,t){if(n){var i={filterIndex:n.index};return t&&(i.childIndex=t),n.parent?this._constructFilterElementIndexTree(n.parent,i):i}},n}()});
define("Gallery/Client/Controls/FilterControl/FilterControl.ViewModel",["require","exports","knockout","VSS/Adapters/Knockout","VSS/Utils/String"],function(n,t,i,r,u){var f=function(n){function t(t){var r=n.call(this)||this,u;return r.filters=i.observableArray([]),r.isEnabled=i.observable(!0),t&&t.filters&&(u=[],t.filters.forEach(function(n){n.itemsList&&u.push(r._observableFilterOptions(n))}),r.filters(u)),r}return __extends(t,n),t.prototype.addOrUpdateFilter=function(n,t){var u=this,i,r;t===void 0&&(t=-1);i=this._getFilterOptionsFromFilterId(n.filterId);!i&&n.itemsList?t===-1?this.filters.push(this._observableFilterOptions(n)):(r=this.filters.splice(t),this.filters.push(this._observableFilterOptions(n)),$.each(r,function(n,t){u.filters.push(t)})):n.itemsList&&this.filters.replace(i,this._observableFilterOptions(n))},t.prototype.getSelectedIndexForFilter=function(n){var t=null,i=this._getFilterOptionsFromFilterId(n);return i&&(t=i.selectedItemIndex()),t},t.prototype.getSelectedItemForFilter=function(n){var t=this._getFilterOptionsFromFilterId(n);return t?t.itemsList()[t.selectedItemIndex().filterIndex]:null},t.prototype.getSelectedItemLabelForFilter=function(n){var r=this._getFilterOptionsFromFilterId(n);if(r){for(var u=r.selectedItemIndex(),f=r.itemsList()[u.filterIndex].elementLabel,i=r.itemsList()[u.filterIndex].subFilterMenu,t=u.childIndex;t&&i;)if(i.length>t.filterIndex&&i[t.filterIndex]){if(i[t.filterIndex].skipWhileDisplayingSelectedOptionLabel)break;f+="/"+i[t.filterIndex].elementLabel;i=i[t.filterIndex].subFilterMenu;t=t.childIndex}else break;return f}return null},t.prototype.removeSelectedFilterOption=function(n){var t=this._getFilterOptionsFromFilterId(n);t&&this.filters.remove(t)},t.prototype._getFilterOptionsFromFilterId=function(n){var t=null;return $.each(this.filters(),function(i,r){u.ignoreCaseComparer(n,r.filterId)===0&&(t=r)}),t},t.prototype._observableFilterOptions=function(n){var t=n.filterName+" "+this.getSelectedItemLabelForFilter(n.filterId),r=null;return r=n.selectedItemIndex?n.selectedItemIndex:this._getItemIndexOfFirstLeafMenuItem(n.itemsList[0]),n.ariaLabel&&(t=n.ariaLabel),{filterId:n.filterId,filterName:i.observable(n.filterName),itemsList:i.observable(n.itemsList),selectedItemIndex:i.observable(r),isEnabled:i.observable(n.isEnabled),filterChangeCallBack:n.filterChangeCallBack,isDropDown:this.computed(function(){return n.itemsList?n.itemsList.length>1?!0:!1:!1}),isCompleteFocus:n.isCompleteFocus?i.observable(!0):i.observable(!1),ariaLabelledByIds:n.ariaLabelledByIds,ariaDescribedByIds:n.ariaDescribedByIds,ariaLabel:t,isExpanded:i.observable(!1)}},t.prototype._getItemIndexOfFirstLeafMenuItem=function(n){var t,i;if(n)return t={filterIndex:0},n.subFilterMenu&&(i=this._getItemIndexOfFirstLeafMenuItem(n.subFilterMenu[0]),t.childIndex=i),t},t}(r.TemplateViewModel);t.FilterControlViewModel=f});
define("Gallery/Client/Service/GitHubServiceProvider/GitHubServiceProvider",["require","exports","q","VSS/Utils/String"],function(n,t,i,r){var f=function(){function n(){}return n.prototype.getGitHubRepositoryDetails=function(n,t){var e=this,f=i.defer(),o=i($.ajax(r.format(u.ITEM_DETAILS_PULL_REQUEST_API_LINK,n,t))),s=i($.ajax(r.format(u.ITEM_DETAILS_REPO_DETAILS_API_LINK,n,t))),h=i($.ajax(r.format(u.ITEM_DETAILS_LAST_COMMIT_API_LINK,n,t)));return i.allSettled([o,s,h]).then(function(n){var r,t,i;if(e._areAllPromisesFulfilled(n))try{r={itemDetailsPullRequestCount:n[0].value.length?n[0].value.length:0,itemDetailsOpenIssuesCount:n[1].value.open_issues-n[0].value.length?n[1].value.open_issues-n[0].value.length:0,itemDetailsLastPushedAtDateString:n[2].value[0].commit.author.date};f.resolve(r)}catch(u){f.reject("Error : GitHub API's response format changed  "+u)}else{for(t="",i=0;i<n.length;i++)n[i].state==="rejected"&&(t!==""&&(t+=","),t+=JSON.stringify(n[i].reason));f.reject(t)}}),f.promise},n.prototype._areAllPromisesFulfilled=function(n){var t=!0;return $.each(n,function(n,i){i.state!=="fulfilled"&&(t=!1)}),t},n}(),u;t.GitHubServiceProvider=f;u=function(){function n(){}return n}();u.ITEM_DETAILS_PULL_REQUEST_LINK="https://github.com/{0}/{1}/pulls";u.ITEM_DETAILS_OPEN_ISSUES_LINK="https://github.com/{0}/{1}/issues";u.ITEM_DETAILS_LAST_COMMIT_LINK="https://github.com/{0}/{1}/commits";u.ITEM_DETAILS_PULL_REQUEST_API_LINK="https://api.github.com/repos/{0}/{1}/pulls";u.ITEM_DETAILS_REPO_DETAILS_API_LINK="https://api.github.com/repos/{0}/{1}";u.ITEM_DETAILS_LAST_COMMIT_API_LINK="https://api.github.com/repos/{0}/{1}/commits";t.ItemConstants=u});
define("Gallery/Client/Pages/Common/ItemContext",["require","exports","VSS/Gallery/Contracts","VSS/Serialization"],function(n,t,i,r){function u(){var t=r.deserializeJsonIsland($(".vss-extension"),i.TypeInfo.PublishedExtension),n;return t?(n=function(n){var t=$(n);return t.length>0?t.html():null},{extension:t,extensionToken:r.deserializeJsonIsland($(".vss-extension-token"),null),offerDetails:r.deserializeJsonIsland($(".vss-extension-offer"),null),offerMeterPrices:r.deserializeJsonIsland($(".vss-extension-offer-meter-price"),null),itemBadges:r.deserializeJsonIsland($(".vss-item-badges"),null),overviewMarkdown:n(".vss-item-overview"),itemProperties:n(".vss-item-properties"),pricingMarkdown:n(".vss-item-pricing"),licenseMarkdown:n(".vss-item-license"),changelogMarkdown:n(".vss-item-changelog"),projectCollections:r.deserializeJsonIsland($(".vss-project-collections"),null)}):null}t.getVSSJsonDataProviderInitOptions=u});
define("Gallery/Client/Service/VSSItemHelper",["require","exports","Gallery/Client/Common/ConnectedContext","Gallery/Client/Service/Item","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Service/VNext/Utility","Gallery/Client/Service/VSSItem","VSS/Context","VSS/Serialization"],function(n,t,i,r,u,f,e,o,s,h){var c=function(){function n(){}return n.isItemDownloadable=function(n){if(n){var t=s.getPageContext().webAccessConfiguration.isHosted,r=i.getConnectedContext(),e=r.hasInternetAccess,h=u.GalleryURLs.isTestCommerceEnabled(f.WindowWrapper.getQueryString());if(t&&(n.itemType===o.VSSItemType.VSSExtension||n.itemType===o.VSSItemType.VSIdeExtension||n.itemType===o.VSSItemType.VSSTfsExtension)&&!n.isBuiltIn&&!n.doNotDownload&&(!n.isPublic||!e))return o.ItemModelHelper.isFirstPartyPaidExtension(n)||o.ItemModelHelper.isThirdPartyPaidExtensionWithOfferPlans(n,n.offerDetails,h)?!1:!0}return!1},n.getWorkFlow=function(n,t,u,f){var e,c=i.getConnectedContext(),s,h;return n.itemType===o.VSSItemType.VSSOffer?e=o.VSSWorkFlow.BuyOfferWorkflow:n.itemType===o.VSSItemType.VSSHostedResource&&n.priceCategory===r.priceCategory.Paid?e=o.VSSWorkFlow.BuyResourceWorkflow:c.targetServerId&&n.priceCategory===r.priceCategory.Paid?e=o.VSSWorkFlow.BuyOnPremExtensionWorkflow:t&&n.priceCategory===r.priceCategory.Paid?e=o.VSSWorkFlow.TrialExtensionWorkflow:u&&n.priceCategory===r.priceCategory.Paid?e=o.VSSWorkFlow.FreeExtensionWorkflow:o.ItemModelHelper.isThirdPartyPaidExtension(n)?(s=n.offerDetails&&n.offerDetails.hasPublicPlans,h=n.offerDetails&&n.offerDetails.hasPlans,e=s||f&&h?o.VSSWorkFlow.BuyExtensionWorkflow:o.VSSWorkFlow.FreeExtensionWorkflow):o.ItemModelHelper.isVSSExtension(n.itemType)&&(e=n.isPreview||n.priceCategory===r.priceCategory.Free?o.VSSWorkFlow.FreeExtensionWorkflow:o.VSSWorkFlow.BuyExtensionWorkflow),e},n.isPaidItem=function(n){return n.priceCategory===r.priceCategory.Paid},n.isVSCodeExtension=function(n){return n.itemType===o.VSSItemType.VSCodeExtension},n.isVssExtensionOrResource=function(n){return n.itemType===o.VSSItemType.VSSExtension||n.itemType===o.VSSItemType.VSSHostedExtension||n.itemType===o.VSSItemType.VSSTfsExtension||n.itemType===o.VSSItemType.VSSHostedResource},n.supportsConnectedInstall=function(n){if(n){var t=s.getPageContext().webAccessConfiguration.isHosted,r=i.getConnectedContext(),u=r.hasInternetAccess;return t&&u&&(n.itemType===o.VSSItemType.VSSExtension||n.itemType===o.VSSItemType.VSSTfsExtension)&&!n.isBuiltIn&&n.isPublic}return!1},n.getGalleryItemUrl=function(n){var t=e.getGalleryEnvironment();return n&&n.id!==null&&(t=t+n.id),t},n.isItemOfferPlansSupported=function(n){return n?n.itemType===o.VSSItemType.VSSExtension||n.itemType===o.VSSItemType.VSSHostedExtension||n.itemType===o.VSSItemType.VSSIntegration||n.itemType===o.VSSItemType.VSSHostedResource||n.itemType===o.VSSItemType.VSSTfsExtension||n.itemType===o.VSSItemType.VSSHostedIntegration:!1},n.isItemPurchasableForOnPrem=function(n){if(n&&o.ItemModelHelper.isPaidExtension(n.priceCategory)){var t=s.getPageContext().webAccessConfiguration.isHosted,u=h.deserializeJsonIsland($(".is-connected-server"),!1),r=i.getConnectedContext(),e=r.hasInternetAccess;if(f.isPureHosted()||t&&e&&r.isAdmin||!t&&u)return!0}return!1},n}();t.VSSItemHelper=c});
define("Gallery/Client/Controls/ItemTile/Item.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl),r;t.ItemTileView=u;r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.ItemBannerView=r});
define("Gallery/Client/Controls/ImageControl/Image.ViewModel",["require","exports","VSS/Utils/String"],function(n,t,i){var r=function(){function n(n){this.imageVisible=!0;this.imageSrc=n.imageUrl;this.fallbackImageSrc=n.fallbackImageUrl||this.imageSrc;this._hideIfNotFound=n.hideIfNotFound;this.imageStyle=n.imageStyle;this._hideIfNotFound&&!n.imageUrl&&(this.imageVisible=!1)}return n.prototype.imageOnError=function(n,t){var r=t.srcElement,u;r||(r=t.target);r&&(u=r.getAttribute("src"),i.ignoreCaseComparer(u,this.fallbackImageSrc)!==0?r.setAttribute("src",this.fallbackImageSrc):(this._hideIfNotFound&&(this.imageVisible=!1),this.imageOnError=function(){}),this.imageVisible||r.setAttribute("style","display:none"))},n.prototype.centerImage=function(n){var t=$(n.parentElement).find("img");$(n).load(function(){setTimeout(function(){var i=$(n.parentElement).height(),r=$(n.parentElement).width(),u=$(n).height(),t,f;t=r<i?r:i;f=t>u?(t-u)/2:0;$(n).css("top",f+"px");$(n).css("visibility","visible")},0)})},n}();t.ImageViewModel=r});
define("Gallery/Client/Controls/RatingControl/RatingControl.ViewModel",["require","exports","knockout","Gallery/Client/URLHelper","VSS/Diag","VSS/Events/Services","VSS/Adapters/Knockout"],function(n,t,i,r,u,f,e){var s=function(n){function t(r){var u=n.call(this)||this,f;return u.fullStars=i.observable(0),u.halfStars=i.observable(0),u.isReadOnly=!0,u.fixedFullStars=i.observable(0),u._starType=o.DefaultStar,u.totalStars=r.totalStars,f=t.parseRating(r.rating,r.totalStars),u.fullStars(f.fullStars),u.halfStars(f.halfStars),u.emptyStars=i.computed(function(){var n=u.totalStars-u.fullStars()-u.halfStars();return n>=0?n:0}),u.hasFullStars=i.computed(function(){return u.fixedFullStars()>0}),u.fixedFullStars(f.fullStars),r.isReadOnly===!1&&(u.isReadOnly=r.isReadOnly),r.ratingStarType!==o.DefaultStar&&(u._starType=r.ratingStarType),u._setImagePath(),u}return __extends(t,n),t.prototype._setImagePath=function(){var n=r.GalleryURLs.getResourcePath();this._starType===o.DarkStar?(this.fullStarPath=n+"FullStar.svg",this.halfStarPath=n+"HalfStarDark.svg",this.emptyStarPath=n+"EmptyStarDark.svg"):this._starType===o.LightStar?(this.fullStarPath=n+"FullStarLight.svg",this.halfStarPath=n+"HalfStarLight.svg",this.emptyStarPath=n+"EmptyStar.svg"):(this.fullStarPath=n+"FullStar.svg",this.halfStarPath=n+"HalfStar.svg",this.emptyStarPath=n+"EmptyStar.svg")},t.parseRating=function(n,t){var e=0,i=0,r,s,f,h,o;return(n||(n="0.0"),r=parseFloat(n),r<=0)?{fullStars:0,halfStars:0}:r>=5?{fullStars:5,halfStars:0}:(s=r.toFixed(2),f=s.split("."),h=parseInt(f[0]),e=h,f.length===2&&(o=parseFloat(f[1])/100,o<.25?i=0:o<.75?i=1:e++),{fullStars:e,halfStars:i})},t.prototype.mouseOutRatingFullStars=function(){this.fullStars(this.fixedFullStars())},t.prototype.onKeyDown=function(n,i){f.getService().fire(t.EVENT_ON_KEY_PRESS,this,[{data:n,e:i}])},t.prototype.mouseOverRatingFullStars=function(n){this.fullStars(n)},t.prototype.mouseOverRatingEmptyStars=function(n){this.fullStars(this.fullStars()+n)},t.prototype.onClickRatingFullStars=function(n){this.fixedFullStars(n);this.fullStars(n)},t.prototype.onClickRatingEmptyStars=function(n){this.fixedFullStars(this.fullStars()+n);this.fullStars(this.fullStars()+n)},t}(e.TemplateViewModel),o;s.EVENT_ON_KEY_PRESS="VSS.Gallery.RatingControl.OnKeyPress";s.TOTAL_RATING_STARS=5;t.RatingControlViewModel=s,function(n){n[n.DefaultStar=0]="DefaultStar";n[n.DarkStar=1]="DarkStar";n[n.LightStar=2]="LightStar"}(o=t.IRatingStarType||(t.IRatingStarType={}))});
define("Gallery/Client/Controls/ItemTile/ItemTile.ViewModel",["require","exports","knockout","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","Gallery/Client/Controls/ImageControl/Image.ViewModel","Gallery/Client/Service/Item","Gallery/Client/Controls/RatingControl/RatingControl.ViewModel","Gallery/Client/Common/Telemetry","Gallery/Client/Common/Utility","Gallery/Client/Common/Utility.Common","Gallery/Client/Service/VNext/Utility","Gallery/Client/Service/VSSItem","VSS/Context","VSS/FeatureAvailability/Services","VSS/Gallery/Contracts","VSS/Adapters/Knockout","VSS/Utils/Array","VSS/Utils/String","Gallery/Client/URLHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var rt=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.HomePageProperties,it=function(n){function t(f){var e=n.call(this)||this,o,h,l,k;return e.containerName="",e.itemClassName="",e.brandingTheme="light",e.previewString=null,e.itemCss=i.observable(""),e.showRatingReview=!1,e.useDefaultIcon=!1,e.showDownloadCount=!1,o={imageUrl:"",fallbackImageUrl:"",imageStyle:"item-icon"},e.title=f.item.title,e.description=f.item.shortDescription,e.link=f.item.link,e.itemClassName=f.itemClassName?f.itemClassName:"",e.linkTarget=f.openInNewTab?"_blank":"_self",e.publisher=f.item.publisherDisplayName,e.publisherDisplay=u.Publisher_By+f.item.publisherDisplayName,e._addBranding(f),e._addPricingTag(f.item),o.imageUrl=f.item.smallIconUrl,o.fallbackImageUrl=f.item.fallbackSmallIconUrl,nt.ignoreCaseComparer(o.imageUrl,"")===0&&(o.imageUrl=f.item.imageUrl,o.fallbackImageUrl=f.item.fallbackImageUrl),e.useDefaultIcon=!o.imageUrl,e.useDefaultIcon&&(o.imageUrl=tt.GalleryURLs.getResourcePath()+"Header/default_icon.png"),e.imageViewModel=new s.ImageViewModel(o),e.itemClassName===t.VSS_ITEM_CLASS||e.itemClassName===t.VSCODE_ITEM_CLASS||e.itemClassName===t.VS_ITEM_CLASS?(h=f.item,e._itemType=h.itemType,e.installCount=w.getPageContext().webAccessConfiguration.isHosted?y.getInstallCountString(f.item.installCount):"0",e.fullyQualifiedName=p.ItemModelHelper.getFullyQualifiedNameForItem(h.publisherName,h.name),l=b.FeatureAvailabilityService.isFeatureEnabled(r.FeatureFlag.ShowRatingAndReview,!1),v.FeatureFlagUtils.isFeatureFlagEnabled(location.href,v.FeatureFlagUtils.ratingReviewFF)&&(v.FeatureFlagUtils.setFeatureFlagCookie(v.FeatureFlagUtils.ratingReviewFF),l=!0),l&&(e.showRatingReview=!0,k={rating:h.averageRating.toString(),totalStars:t.TOTAL_RATING_STARS,ratingCount:h.ratingCount},e.ratingViewModel=new c.RatingControlViewModel(k),e.averageRatingText=a.getAverageRatingText(h.averageRating,h.ratingCount),e.averageRating=h.averageRating)):e.itemClassName===""&&(e.showRatingReview=!0,e.averageRatingText="",e.averageRating=0),e.installCount!=="0"&&e.installCount!==undefined&&(e.showDownloadCount=!0),f.itemClickCallBack&&(e._itemClickCallback=f.itemClickCallBack),e.containerName=e.itemClassName+"_"+e.searchOrCategory(),e}return __extends(t,n),t.prototype._addPricingTag=function(n){var r=h.priceCategory.Free,i;if(this.itemClassName===t.VSS_ITEM_CLASS||this.itemClassName===t.VSCODE_ITEM_CLASS||this.itemClassName===t.VS_ITEM_CLASS){if(i=n,!i){this.costCategory=h.priceCategory.Free;this.pricingTag=o.Pricing_Free;return}var u=p.ItemModelHelper.isVSSExtension(i.itemType),e=p.ItemModelHelper.isVSSOffer(i.itemType),f=i.flags&&(i.flags&k.PublishedExtensionFlags.Paid)!=0||i.tags&&g.arrayContains("$IsPaid",i.tags,function(n,t){return n.toLowerCase()===t.toLowerCase()})||e,s=i.flags&&(i.flags&k.PublishedExtensionFlags.Trial)!=0||f&&u&&!i.isPreview;s?r=h.priceCategory.Trial:f&&(r=u&&i.isPreview?h.priceCategory.Trial:h.priceCategory.Paid)}this.costCategory=r;switch(this.costCategory){case h.priceCategory.Free:this.pricingTag=o.Pricing_Free;break;case h.priceCategory.Trial:this.pricingTag=o.Pricing_Trial;break;case h.priceCategory.Paid:this.pricingTag=o.Pricing_Paid}return},t.prototype.searchOrCategory=function(){return a.SearchUtils.isSearchPage(window.location.href)?f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SEARCH:f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CATEGORY},t.prototype.onItemTileClick=function(){return this._logTelemetryToCI(),this._itemClickCallback&&this._itemClickCallback(),!0},t.prototype.getScreenReaderText=function(){return nt.format(o.ItemTile_ScreenReaderText,this.title,this.publisher,this.installCount,this.averageRating,this.pricingTag)},t.prototype._logTelemetryToCI=function(){var i="",n={};switch(this.itemClassName){case t.VSS_ITEM_CLASS:i=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSTS_ITEM;n[f.CustomerIntelligenceConstants.MarketPlaceIntelligencePropertyName.PRODUCT_TYPE]=p.ItemModelHelper.getItemTypeText(this._itemType?this._itemType:p.VSSItemType.VSSExtension);break;case t.VSCODE_ITEM_CLASS:i=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_ITEM;n[f.CustomerIntelligenceConstants.MarketPlaceIntelligencePropertyName.PRODUCT_TYPE]=p.ItemModelHelper.getItemTypeText(this._itemType?this._itemType:p.VSSItemType.VSCodeExtension);break;case t.VS_ITEM_CLASS:i=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VS_ITEM;n[f.CustomerIntelligenceConstants.MarketPlaceIntelligencePropertyName.PRODUCT_TYPE]=p.ItemModelHelper.getItemTypeText(this._itemType?this._itemType:p.VSSItemType.VSIdeExtension)}i!==""&&(n[rt.Id]=this.fullyQualifiedName,n[l.CustomerIntelligenceConstants.MarketPlaceIntelligencePropertyName.CONTAINER]=this.containerName,e.TelemetryHelper.publishEvent(i,n,!0))},t.prototype._addBranding=function(n){if(n.brandingColor){var t=n.brandingColor,i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);this.brandingColor=i?t:null}else this.brandingColor=null;n.brandingTheme&&(this.brandingTheme=n.brandingTheme)},t.prototype.calculateWidthBasedOnSibling=function(n,t,i,r){var u=n.parentElement.getElementsByClassName(t)[0].offsetWidth;return u>i?r:"0px"},t.prototype.calculateMarginBasedonPubNameWithInstall=function(n){return this.isPubNameWithInstallOverflow(n)?"0px":"5px"},t.prototype.isPubNameWithInstallOverflow=function(n){var t=n.parentElement.getElementsByClassName("publisher-with-installcount")[0].offsetWidth;return t>105?!0:!1},t.prototype.highContrastInstallIcon=function(){if(a.HtmlHelper.isHighContrastMode())return"bowtie-icon bowtie-install"},t}(d.TemplateViewModel);it.VS_ITEM_CLASS="VS";it.VSS_ITEM_CLASS="VSTS";it.VSCODE_ITEM_CLASS="VSCode";it.TOTAL_RATING_STARS=5;t.ItemTileViewModel=it});
define("Gallery/Client/Controls/RatingControl/RatingControl.View",["require","exports","Gallery/Client/Controls/RatingControl/RatingControl.ViewModel","Gallery/Client/Common/Utility","VSS/Events/Services","VSS/Adapters/Knockout","VSS/Utils/Core","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o){var s=e.delegate,c=r.WindowWrapper,h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._keyPressCallback=s(this,this.onKeyPress);u.getService().attachEvent(i.RatingControlViewModel.EVENT_ON_KEY_PRESS,this._keyPressCallback)},t.prototype.onKeyPress=function(n,t){var u;if(n===this.getViewModel()){var r=this.getViewModel(),f=t[0].data,e=t[0].e,i,s=String.fromCharCode(e.which);if(e.which===o.KeyCode.ENTER)u=f.index,f.isFullStar?(r.fullStars(u),i=u):(i=r.fullStars()+u,r.fixedFullStars(i),r.fullStars(i));else switch(s){case"1":case"2":case"3":case"4":case"5":i=parseInt(s);r.fullStars(i);r.fixedFullStars(i)}this.getElement().find(".star")[i-1].focus()}},t.prototype._cleanup=function(){u.getService().detachEvent(i.RatingControlViewModel.EVENT_ON_KEY_PRESS,this._keyPressCallback);n.prototype._cleanup.call(this)},t}(f.TemplateControl);t.RatingControlView=h});
define("Gallery/Client/Controls/VSCodeCopyCommand/VSCodeCopyCommand.ViewModel",["require","exports","knockout","Gallery/Client/Common/Constants","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Common/Utility.Common","Gallery/Client/Service/VSSItem","VSS/Events/Services","VSS/FeatureAvailability/Services","VSS/Adapters/Knockout","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.VSCodeCopyCommandProperties,w=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.MarketPlaceIntelligenceCommonProperties,b=function(n){function t(t){var e=n.call(this)||this,o,a,p,c;return e.itemName=null,e.copyCommand=null,e.installTitle=null,e.installInstructions=null,e.iscopySupported=!1,e.isFlashSupported=!1,e.textAreaID=null,e.copyButtonID=null,e.copiedAnimationID=null,e.copiedAnimationText=null,e.actionButtonText=null,e.actionLink=null,e.actionLinkNewTab=!1,e.brandingTheme=null,e.copyButtonTooltip=null,e.copyButtonText=null,e.isFlahUsed=!1,e.copyCommandLength=null,e.isOneClickInstallExperienceVisible=!1,e.actionLinkInstall=null,e.actionInstallButtonText=null,e.insidersInstallLink=null,e.versionSupportedText=null,e.versionLink=null,e.findVersionText=null,e.copyInfoText=null,e.insidersInstallInfoText=null,e.clickHere=null,e.cancelButtonText=null,e.displayCopyResultText=i.observable(""),e.copyResult=i.observable(!0),e.publisherName=null,e.itemName=t.itemName,e.publisherName=t.publisherName,e.actionLink=t.actionLink,e.actionLinkNewTab=t.actionLinkNewTab,e.brandingTheme=t.brandingTheme,e.copyCommand=v.format(u.VSCODE_INSTALL_COMMAND_TEMPLATE,e.itemName),e.copyCommandLength=Math.min(e.copyCommand.length,100).toString(),e.installTitle=v.format(f.VSCodeInstallationHeader),e.copiedAnimationText=v.format(f.VSCodeCopiedAnimationText),e.copyButtonText=v.format(f.VSCodeCopyButtonText),e.copyButtonTooltip=v.format(f.VSCodeCopyButtonTooptip),o="Ctrl",navigator.appVersion.indexOf("Mac")!==-1&&(o="\u2318"),e.installInstructions=v.format(f.VSCodeInstallInstructions,o),e.actionButtonText=v.format(f.MoreInfoText),e.iscopySupported=document.queryCommandSupported("copy"),e.isFlashSupported=e._detectFlash(),e.textAreaID="vscode-command-input",e.copyButtonID="copy-to-clipboard-button",e.copiedAnimationID="copied-animation",a=l.FeatureAvailabilityService.isFeatureEnabled(r.FeatureFlag.VSCodeOneClickInstall,!1),p=s.FeatureFlagUtils.isFeatureFlagEnabled(location.href,s.FeatureFlagUtils.VSCodeOneClickInstall),e.isOneClickInstallExperienceVisible=(p||a)&&(y.BrowserCheckUtils.isWindows()||y.BrowserCheckUtils.isMacintosh()),c=h.ItemModelHelper.getFullyQualifiedNameForItem(e.publisherName,e.itemName),e.actionLinkInstall=v.format(u.GalleryUrls.VSCodeExtensionInstallLink,c),e.actionInstallButtonText=f.ItemInstall,e.versionSupportedText=f.VSCodeDirectInstallVersionInfo,e.versionLink=u.GalleryUrls.VSCodeFindVersionLink,e.findVersionText=f.VSCodeFindVersionText,e.copyInfoText=f.VSCodeCopyInfoText,e.clickHere=f.ClickHereText,e.insidersInstallLink=v.format(u.GalleryUrls.VSCodeInsidersExtensionInstallLink,c),e.insidersInstallInfoText=f.VSCodeInsidersInstallInfo,e.cancelButtonText=f.CloseButtonText,e.iscopySupported||e.isFlashSupported||e.publishTelemetryEvent_CopyButtonDisabled(),e.isFlahUsed=!e.iscopySupported&&e.isFlashSupported,e}return __extends(t,n),t.prototype._detectFlash=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(i){var n=navigator.mimeTypes,t="application/x-shockwave-flash";if(n&&n[t]&&n[t].enabledPlugin)return!0}return!1},t.prototype.logOpenCopyModalTelemetry=function(){var i=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_ONECLICKINSTALL,n={};return n[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),n[p.Action]="OpenCopyModal",n[w.ProductType]=t.VSCODE_PRODUCT_TYPE,i&&i.length>0&&o.TelemetryHelper.publishEvent(i,n,!0),!0},t.prototype.openCopyModal=function(){this.displayCopyResultText("");this.logOpenCopyModalTelemetry();c.getService().fire(t.EVENT_ON_OPEN_COPY_MODAL,this)},t.prototype.closeCopyModal=function(){c.getService().fire(t.EVENT_ON_CLOSE_COPY_MODAL,this)},t.prototype.copyOnClick=function(){c.getService().fire(t.EVENT_ON_COPY,this)},t.prototype.copyOnEnter=function(n,i){var r=i.keyCode?i.keyCode:i.which;r===y.KeyCode.ENTER&&c.getService().fire(t.EVENT_ON_COPY,this)},t.prototype.selectTextOnClick=function(n,t){t.target.select();this.publishTelemetryEvent_TextBoxClicked()},t.prototype.publishTelemetryEvent_Copy=function(n){var r=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_COPY,i={};return i[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),i[p.IsFlashUsed]=n,i[w.ProductType]=t.VSCODE_PRODUCT_TYPE,r&&r.length>0&&o.TelemetryHelper.publishEvent(r,i,!0),!0},t.prototype.logInstallTelemetry=function(){var i=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_ONECLICKINSTALL,n={};return n[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),n[p.Action]="VSCodeDirectInstall",n[w.ProductType]=t.VSCODE_PRODUCT_TYPE,i&&i.length>0&&o.TelemetryHelper.publishEvent(i,n,!0),!0},t.prototype.logInstallInsidersTelemetry=function(){var i=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_ONECLICKINSTALL,n={};return n[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),n[p.Action]="VSCodeInsidersDirectInstall",n[w.ProductType]=t.VSCODE_PRODUCT_TYPE,i&&i.length>0&&o.TelemetryHelper.publishEvent(i,n,!0),!0},t.prototype.logVersionTelemetry=function(){var i=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_ONECLICKINSTALL,n={};return n[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),n[p.Action]="FindVersionClick",n[w.ProductType]=t.VSCODE_PRODUCT_TYPE,i&&i.length>0&&o.TelemetryHelper.publishEvent(i,n,!0),!0},t.prototype.publishTelemetryEvent_MoreInfo=function(){var n=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_MORE_INFO,i={};return i[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),i[w.ProductType]=t.VSCODE_PRODUCT_TYPE,n&&n.length>0&&o.TelemetryHelper.publishEvent(n,i,!0),!0},t.prototype.publishTelemetryEvent_TextBoxClicked=function(){var n=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_COMMAND_TEXT_BOX_CLICK,i={};return i[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),i[w.ProductType]=t.VSCODE_PRODUCT_TYPE,n&&n.length>0&&o.TelemetryHelper.publishEvent(n,i,!0),!0},t.prototype.publishTelemetryEvent_CopyButtonDisabled=function(){var n=e.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_COPY_BUTTON_DISABLED,i={};return i[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this.publisherName,this.itemName),i[w.ProductType]=t.VSCODE_PRODUCT_TYPE,n&&n.length>0&&o.TelemetryHelper.publishEvent(n,i,!0),!0},t}(a.TemplateViewModel);b.EVENT_ON_FLASH_INITIALIZE="VSS.Gallery.VSCodeCommandCopy.onFlashInitialize";b.EVENT_ON_COPY="VSS.Gallery.VSCodeCommandCopy.onCopy";b.EVENT_ON_OPEN_COPY_MODAL="VSS.Gallery.VSCodeCommandCopy.openCopyModal";b.EVENT_ON_CLOSE_COPY_MODAL="VSS.Gallery.VSCodeCommandCopy.closeCopyModal";b.swfFileURL="//cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.2.0/ZeroClipboard.swf";b.VSCODE_PRODUCT_TYPE="VSCode";t.VSCodeCopyCommandViewModel=b});
/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
!function(a,b){"use strict";var c,d,e,f=a,g=f.document,h=f.navigator,i=f.setTimeout,j=f.clearTimeout,k=f.setInterval,l=f.clearInterval,m=f.getComputedStyle,n=f.encodeURIComponent,o=f.ActiveXObject,p=f.Error,q=f.Number.parseInt||f.parseInt,r=f.Number.parseFloat||f.parseFloat,s=f.Number.isNaN||f.isNaN,t=f.Date.now,u=f.Object.keys,v=f.Object.defineProperty,w=f.Object.prototype.hasOwnProperty,x=f.Array.prototype.slice,y=function(){var a=function(a){return a};if("function"==typeof f.wrap&&"function"==typeof f.unwrap)try{var b=g.createElement("div"),c=f.unwrap(b);1===b.nodeType&&c&&1===c.nodeType&&(a=f.unwrap)}catch(d){}return a}(),z=function(a){return x.call(a,0)},A=function(){var a,c,d,e,f,g,h=z(arguments),i=h[0]||{};for(a=1,c=h.length;c>a;a++)if(null!=(d=h[a]))for(e in d)w.call(d,e)&&(f=i[e],g=d[e],i!==g&&g!==b&&(i[e]=g));return i},B=function(a){var b,c,d,e;if("object"!=typeof a||null==a||"number"==typeof a.nodeType)b=a;else if("number"==typeof a.length)for(b=[],c=0,d=a.length;d>c;c++)w.call(a,c)&&(b[c]=B(a[c]));else{b={};for(e in a)w.call(a,e)&&(b[e]=B(a[e]))}return b},C=function(a,b){for(var c={},d=0,e=b.length;e>d;d++)b[d]in a&&(c[b[d]]=a[b[d]]);return c},D=function(a,b){var c={};for(var d in a)-1===b.indexOf(d)&&(c[d]=a[d]);return c},E=function(a){if(a)for(var b in a)w.call(a,b)&&delete a[b];return a},F=function(a,b){if(a&&1===a.nodeType&&a.ownerDocument&&b&&(1===b.nodeType&&b.ownerDocument&&b.ownerDocument===a.ownerDocument||9===b.nodeType&&!b.ownerDocument&&b===a.ownerDocument))do{if(a===b)return!0;a=a.parentNode}while(a);return!1},G=function(a){var b;return"string"==typeof a&&a&&(b=a.split("#")[0].split("?")[0],b=a.slice(0,a.lastIndexOf("/")+1)),b},H=function(a){var b,c;return"string"==typeof a&&a&&(c=a.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),c&&c[1]?b=c[1]:(c=a.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),c&&c[1]&&(b=c[1]))),b},I=function(){var a,b;try{throw new p}catch(c){b=c}return b&&(a=b.sourceURL||b.fileName||H(b.stack)),a},J=function(){var a,c,d;if(g.currentScript&&(a=g.currentScript.src))return a;if(c=g.getElementsByTagName("script"),1===c.length)return c[0].src||b;if("readyState"in c[0])for(d=c.length;d--;)if("interactive"===c[d].readyState&&(a=c[d].src))return a;return"loading"===g.readyState&&(a=c[c.length-1].src)?a:(a=I())?a:b},K=function(){var a,c,d,e=g.getElementsByTagName("script");for(a=e.length;a--;){if(!(d=e[a].src)){c=null;break}if(d=G(d),null==c)c=d;else if(c!==d){c=null;break}}return c||b},L=function(){var a=G(J())||K()||"";return a+"ZeroClipboard.swf"},M=function(){return null==a.opener&&(!!a.top&&a!=a.top||!!a.parent&&a!=a.parent)}(),N={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},O="11.0.0",P={},Q={},R=null,S=0,T=0,U={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},V=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],W=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],X=new RegExp("^flash-("+W.map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),Y=new RegExp("^flash-("+W.slice(1).map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:L(),trustedDomains:a.location.host?[a.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},$=function(a){if("object"==typeof a&&null!==a)for(var b in a)if(w.call(a,b))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(b))Z[b]=a[b];else if(null==N.bridge)if("containerId"===b||"swfObjectId"===b){if(!nb(a[b]))throw new Error("The specified `"+b+"` value is not valid as an HTML4 Element ID");Z[b]=a[b]}else Z[b]=a[b];{if("string"!=typeof a||!a)return B(Z);if(w.call(Z,a))return Z[a]}},_=function(){return Tb(),{browser:C(h,["userAgent","platform","appName"]),flash:D(N,["bridge"]),zeroclipboard:{version:Vb.version,config:Vb.config()}}},ab=function(){return!!(N.disabled||N.outdated||N.sandboxed||N.unavailable||N.degraded||N.deactivated)},bb=function(a,d){var e,f,g,h={};if("string"==typeof a&&a)g=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof d)for(e in a)w.call(a,e)&&"string"==typeof e&&e&&"function"==typeof a[e]&&Vb.on(e,a[e]);if(g&&g.length){for(e=0,f=g.length;f>e;e++)a=g[e].replace(/^on/,""),h[a]=!0,P[a]||(P[a]=[]),P[a].push(d);if(h.ready&&N.ready&&Vb.emit({type:"ready"}),h.error){for(e=0,f=W.length;f>e;e++)if(N[W[e].replace(/^flash-/,"")]===!0){Vb.emit({type:"error",name:W[e]});break}c!==b&&Vb.version!==c&&Vb.emit({type:"error",name:"version-mismatch",jsVersion:Vb.version,swfVersion:c})}}return Vb},cb=function(a,b){var c,d,e,f,g;if(0===arguments.length)f=u(P);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)w.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&Vb.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=P[a],g&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return Vb},db=function(a){var b;return b="string"==typeof a&&a?B(P[a])||null:B(P)},eb=function(a){var b,c,d;return a=ob(a),a&&!vb(a)?"ready"===a.type&&N.overdue===!0?Vb.emit({type:"error",name:"flash-overdue"}):(b=A({},a),tb.call(this,b),"copy"===a.type&&(d=Db(Q),c=d.data,R=d.formatMap),c):void 0},fb=function(){var a=N.sandboxed;if(Tb(),"boolean"!=typeof N.ready&&(N.ready=!1),N.sandboxed!==a&&N.sandboxed===!0)N.ready=!1,Vb.emit({type:"error",name:"flash-sandboxed"});else if(!Vb.isFlashUnusable()&&null===N.bridge){var b=Z.flashLoadTimeout;"number"==typeof b&&b>=0&&(S=i(function(){"boolean"!=typeof N.deactivated&&(N.deactivated=!0),N.deactivated===!0&&Vb.emit({type:"error",name:"flash-deactivated"})},b)),N.overdue=!1,Bb()}},gb=function(){Vb.clearData(),Vb.blur(),Vb.emit("destroy"),Cb(),Vb.off()},hb=function(a,b){var c;if("object"==typeof a&&a&&"undefined"==typeof b)c=a,Vb.clearData();else{if("string"!=typeof a||!a)return;c={},c[a]=b}for(var d in c)"string"==typeof d&&d&&w.call(c,d)&&"string"==typeof c[d]&&c[d]&&(Q[d]=c[d])},ib=function(a){"undefined"==typeof a?(E(Q),R=null):"string"==typeof a&&w.call(Q,a)&&delete Q[a]},jb=function(a){return"undefined"==typeof a?B(Q):"string"==typeof a&&w.call(Q,a)?Q[a]:void 0},kb=function(a){if(a&&1===a.nodeType){d&&(Lb(d,Z.activeClass),d!==a&&Lb(d,Z.hoverClass)),d=a,Kb(a,Z.hoverClass);var b=a.getAttribute("title")||Z.title;if("string"==typeof b&&b){var c=Ab(N.bridge);c&&c.setAttribute("title",b)}var e=Z.forceHandCursor===!0||"pointer"===Mb(a,"cursor");Rb(e),Qb()}},lb=function(){var a=Ab(N.bridge);a&&(a.removeAttribute("title"),a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px"),d&&(Lb(d,Z.hoverClass),Lb(d,Z.activeClass),d=null)},mb=function(){return d||null},nb=function(a){return"string"==typeof a&&a&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(a)},ob=function(a){var b;if("string"==typeof a&&a?(b=a,a={}):"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(b=a.type),b){b=b.toLowerCase(),!a.target&&(/^(copy|aftercopy|_click)$/.test(b)||"error"===b&&"clipboard-error"===a.name)&&(a.target=e),A(a,{type:b,target:a.target||d||null,relatedTarget:a.relatedTarget||null,currentTarget:N&&N.bridge||null,timeStamp:a.timeStamp||t()||null});var c=U[a.type];return"error"===a.type&&a.name&&c&&(c=c[a.name]),c&&(a.message=c),"ready"===a.type&&A(a,{target:null,version:N.version}),"error"===a.type&&(X.test(a.name)&&A(a,{target:null,minimumVersion:O}),Y.test(a.name)&&A(a,{version:N.version})),"copy"===a.type&&(a.clipboardData={setData:Vb.setData,clearData:Vb.clearData}),"aftercopy"===a.type&&(a=Eb(a,R)),a.target&&!a.relatedTarget&&(a.relatedTarget=pb(a.target)),qb(a)}},pb=function(a){var b=a&&a.getAttribute&&a.getAttribute("data-clipboard-target");return b?g.getElementById(b):null},qb=function(a){if(a&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)){var c=a.target,d="_mouseover"===a.type&&a.relatedTarget?a.relatedTarget:b,e="_mouseout"===a.type&&a.relatedTarget?a.relatedTarget:b,h=Nb(c),i=f.screenLeft||f.screenX||0,j=f.screenTop||f.screenY||0,k=g.body.scrollLeft+g.documentElement.scrollLeft,l=g.body.scrollTop+g.documentElement.scrollTop,m=h.left+("number"==typeof a._stageX?a._stageX:0),n=h.top+("number"==typeof a._stageY?a._stageY:0),o=m-k,p=n-l,q=i+o,r=j+p,s="number"==typeof a.movementX?a.movementX:0,t="number"==typeof a.movementY?a.movementY:0;delete a._stageX,delete a._stageY,A(a,{srcElement:c,fromElement:d,toElement:e,screenX:q,screenY:r,pageX:m,pageY:n,clientX:o,clientY:p,x:o,y:p,movementX:s,movementY:t,offsetX:0,offsetY:0,layerX:0,layerY:0})}return a},rb=function(a){var b=a&&"string"==typeof a.type&&a.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(b)},sb=function(a,b,c,d){d?i(function(){a.apply(b,c)},0):a.apply(b,c)},tb=function(a){if("object"==typeof a&&a&&a.type){var b=rb(a),c=P["*"]||[],d=P[a.type]||[],e=c.concat(d);if(e&&e.length){var g,h,i,j,k,l=this;for(g=0,h=e.length;h>g;g++)i=e[g],j=l,"string"==typeof i&&"function"==typeof f[i]&&(i=f[i]),"object"==typeof i&&i&&"function"==typeof i.handleEvent&&(j=i,i=i.handleEvent),"function"==typeof i&&(k=A({},a),sb(i,j,[k],b))}return this}},ub=function(a){var b=null;return(M===!1||a&&"error"===a.type&&a.name&&-1!==V.indexOf(a.name))&&(b=!1),b},vb=function(a){var b=a.target||d||null,f="swf"===a._source;switch(delete a._source,a.type){case"error":var g="flash-sandboxed"===a.name||ub(a);"boolean"==typeof g&&(N.sandboxed=g),-1!==W.indexOf(a.name)?A(N,{disabled:"flash-disabled"===a.name,outdated:"flash-outdated"===a.name,unavailable:"flash-unavailable"===a.name,degraded:"flash-degraded"===a.name,deactivated:"flash-deactivated"===a.name,overdue:"flash-overdue"===a.name,ready:!1}):"version-mismatch"===a.name&&(c=a.swfVersion,A(N,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Pb();break;case"ready":c=a.swfVersion;var h=N.deactivated===!0;A(N,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:h,ready:!h}),Pb();break;case"beforecopy":e=b;break;case"copy":var i,j,k=a.relatedTarget;!Q["text/html"]&&!Q["text/plain"]&&k&&(j=k.value||k.outerHTML||k.innerHTML)&&(i=k.value||k.textContent||k.innerText)?(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",i),j!==i&&a.clipboardData.setData("text/html",j)):!Q["text/plain"]&&a.target&&(i=a.target.getAttribute("data-clipboard-text"))&&(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",i));break;case"aftercopy":wb(a),Vb.clearData(),b&&b!==Jb()&&b.focus&&b.focus();break;case"_mouseover":Vb.focus(b),Z.bubbleEvents===!0&&f&&(b&&b!==a.relatedTarget&&!F(a.relatedTarget,b)&&xb(A({},a,{type:"mouseenter",bubbles:!1,cancelable:!1})),xb(A({},a,{type:"mouseover"})));break;case"_mouseout":Vb.blur(),Z.bubbleEvents===!0&&f&&(b&&b!==a.relatedTarget&&!F(a.relatedTarget,b)&&xb(A({},a,{type:"mouseleave",bubbles:!1,cancelable:!1})),xb(A({},a,{type:"mouseout"})));break;case"_mousedown":Kb(b,Z.activeClass),Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}));break;case"_mouseup":Lb(b,Z.activeClass),Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}));break;case"_click":e=null,Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)?!0:void 0},wb=function(a){if(a.errors&&a.errors.length>0){var b=B(a);A(b,{type:"error",name:"clipboard-error"}),delete b.success,i(function(){Vb.emit(b)},0)}},xb=function(a){if(a&&"string"==typeof a.type&&a){var b,c=a.target||null,d=c&&c.ownerDocument||g,e={view:d.defaultView||f,canBubble:!0,cancelable:!0,detail:"click"===a.type?1:0,button:"number"==typeof a.which?a.which-1:"number"==typeof a.button?a.button:d.createEvent?0:1},h=A(e,a);c&&d.createEvent&&c.dispatchEvent&&(h=[h.type,h.canBubble,h.cancelable,h.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget],b=d.createEvent("MouseEvents"),b.initMouseEvent&&(b.initMouseEvent.apply(b,h),b._source="js",c.dispatchEvent(b)))}},yb=function(){var a=Z.flashLoadTimeout;if("number"==typeof a&&a>=0){var b=Math.min(1e3,a/10),c=Z.swfObjectId+"_fallbackContent";T=k(function(){var a=g.getElementById(c);Ob(a)&&(Pb(),N.deactivated=null,Vb.emit({type:"error",name:"swf-not-found"}))},b)}},zb=function(){var a=g.createElement("div");return a.id=Z.containerId,a.className=Z.containerClass,a.style.position="absolute",a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px",a.style.zIndex=""+Sb(Z.zIndex),a},Ab=function(a){for(var b=a&&a.parentNode;b&&"OBJECT"===b.nodeName&&b.parentNode;)b=b.parentNode;return b||null},Bb=function(){var a,b=N.bridge,c=Ab(b);if(!b){var d=Ib(f.location.host,Z),e="never"===d?"none":"all",h=Gb(A({jsVersion:Vb.version},Z)),i=Z.swfPath+Fb(Z.swfPath,Z);c=zb();var j=g.createElement("div");c.appendChild(j),g.body.appendChild(c);var k=g.createElement("div"),l="activex"===N.pluginType;k.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(l?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+i+'"')+">"+(l?'<param name="movie" value="'+i+'"/>':"")+'<param name="allowScriptAccess" value="'+d+'"/><param name="allowNetworking" value="'+e+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+h+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',b=k.firstChild,k=null,y(b).ZeroClipboard=Vb,c.replaceChild(b,j),yb()}return b||(b=g[Z.swfObjectId],b&&(a=b.length)&&(b=b[a-1]),!b&&c&&(b=c.firstChild)),N.bridge=b||null,b},Cb=function(){var a=N.bridge;if(a){var d=Ab(a);d&&("activex"===N.pluginType&&"readyState"in a?(a.style.display="none",function e(){if(4===a.readyState){for(var b in a)"function"==typeof a[b]&&(a[b]=null);a.parentNode&&a.parentNode.removeChild(a),d.parentNode&&d.parentNode.removeChild(d)}else i(e,10)}()):(a.parentNode&&a.parentNode.removeChild(a),d.parentNode&&d.parentNode.removeChild(d))),Pb(),N.ready=null,N.bridge=null,N.deactivated=null,c=b}},Db=function(a){var b={},c={};if("object"==typeof a&&a){for(var d in a)if(d&&w.call(a,d)&&"string"==typeof a[d]&&a[d])switch(d.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":b.text=a[d],c.text=d;break;case"text/html":case"html":case"air:html":case"flash:html":b.html=a[d],c.html=d;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":b.rtf=a[d],c.rtf=d}return{data:b,formatMap:c}}},Eb=function(a,b){if("object"!=typeof a||!a||"object"!=typeof b||!b)return a;var c={};for(var d in a)if(w.call(a,d))if("errors"===d){c[d]=a[d]?a[d].slice():[];for(var e=0,f=c[d].length;f>e;e++)c[d][e].format=b[c[d][e].format]}else if("success"!==d&&"data"!==d)c[d]=a[d];else{c[d]={};var g=a[d];for(var h in g)h&&w.call(g,h)&&w.call(b,h)&&(c[d][b[h]]=g[h])}return c},Fb=function(a,b){var c=null==b||b&&b.cacheBust===!0;return c?(-1===a.indexOf("?")?"?":"&")+"noCache="+t():""},Gb=function(a){var b,c,d,e,g="",h=[];if(a.trustedDomains&&("string"==typeof a.trustedDomains?e=[a.trustedDomains]:"object"==typeof a.trustedDomains&&"length"in a.trustedDomains&&(e=a.trustedDomains)),e&&e.length)for(b=0,c=e.length;c>b;b++)if(w.call(e,b)&&e[b]&&"string"==typeof e[b]){if(d=Hb(e[b]),!d)continue;if("*"===d){h.length=0,h.push(d);break}h.push.apply(h,[d,"//"+d,f.location.protocol+"//"+d])}return h.length&&(g+="trustedOrigins="+n(h.join(","))),a.forceEnhancedClipboard===!0&&(g+=(g?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof a.swfObjectId&&a.swfObjectId&&(g+=(g?"&":"")+"swfObjectId="+n(a.swfObjectId)),"string"==typeof a.jsVersion&&a.jsVersion&&(g+=(g?"&":"")+"jsVersion="+n(a.jsVersion)),g},Hb=function(a){if(null==a||""===a)return null;if(a=a.replace(/^\s+|\s+$/g,""),""===a)return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var c=a.indexOf("/");return a=-1===c?a:-1===b||0===c?null:a.slice(0,c),a&&".swf"===a.slice(-4).toLowerCase()?null:a||null},Ib=function(){var a=function(a){var b,c,d,e=[];if("string"==typeof a&&(a=[a]),"object"!=typeof a||!a||"number"!=typeof a.length)return e;for(b=0,c=a.length;c>b;b++)if(w.call(a,b)&&(d=Hb(a[b]))){if("*"===d){e.length=0,e.push("*");break}-1===e.indexOf(d)&&e.push(d)}return e};return function(b,c){var d=Hb(c.swfPath);null===d&&(d=b);var e=a(c.trustedDomains),f=e.length;if(f>0){if(1===f&&"*"===e[0])return"always";if(-1!==e.indexOf(b))return 1===f&&b===d?"sameDomain":"always"}return"never"}}(),Jb=function(){try{return g.activeElement}catch(a){return null}},Kb=function(a,b){var c,d,e,f=[];if("string"==typeof b&&b&&(f=b.split(/\s+/)),a&&1===a.nodeType&&f.length>0)if(a.classList)for(c=0,d=f.length;d>c;c++)a.classList.add(f[c]);else if(a.hasOwnProperty("className")){for(e=" "+a.className+" ",c=0,d=f.length;d>c;c++)-1===e.indexOf(" "+f[c]+" ")&&(e+=f[c]+" ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},Lb=function(a,b){var c,d,e,f=[];if("string"==typeof b&&b&&(f=b.split(/\s+/)),a&&1===a.nodeType&&f.length>0)if(a.classList&&a.classList.length>0)for(c=0,d=f.length;d>c;c++)a.classList.remove(f[c]);else if(a.className){for(e=(" "+a.className+" ").replace(/[\r\n\t]/g," "),c=0,d=f.length;d>c;c++)e=e.replace(" "+f[c]+" "," ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},Mb=function(a,b){var c=m(a,null).getPropertyValue(b);return"cursor"!==b||c&&"auto"!==c||"A"!==a.nodeName?c:"pointer"},Nb=function(a){var b={left:0,top:0,width:0,height:0};if(a.getBoundingClientRect){var c=a.getBoundingClientRect(),d=f.pageXOffset,e=f.pageYOffset,h=g.documentElement.clientLeft||0,i=g.documentElement.clientTop||0,j=0,k=0;if("relative"===Mb(g.body,"position")){var l=g.body.getBoundingClientRect(),m=g.documentElement.getBoundingClientRect();j=l.left-m.left||0,k=l.top-m.top||0}b.left=c.left+d-h-j,b.top=c.top+e-i-k,b.width="width"in c?c.width:c.right-c.left,b.height="height"in c?c.height:c.bottom-c.top}return b},Ob=function(a){if(!a)return!1;var b=m(a,null),c=r(b.height)>0,d=r(b.width)>0,e=r(b.top)>=0,f=r(b.left)>=0,g=c&&d&&e&&f,h=g?null:Nb(a),i="none"!==b.display&&"collapse"!==b.visibility&&(g||!!h&&(c||h.height>0)&&(d||h.width>0)&&(e||h.top>=0)&&(f||h.left>=0));return i},Pb=function(){j(S),S=0,l(T),T=0},Qb=function(){var a;if(d&&(a=Ab(N.bridge))){var b=Nb(d);A(a.style,{width:b.width+"px",height:b.height+"px",top:b.top+"px",left:b.left+"px",zIndex:""+Sb(Z.zIndex)})}},Rb=function(a){N.ready===!0&&(N.bridge&&"function"==typeof N.bridge.setHandCursor?N.bridge.setHandCursor(a):N.ready=!1)},Sb=function(a){if(/^(?:auto|inherit)$/.test(a))return a;var b;return"number"!=typeof a||s(a)?"string"==typeof a&&(b=Sb(q(a,10))):b=a,"number"==typeof b?b:"auto"},Tb=function(b){var c,d,e,f=N.sandboxed,g=null;if(b=b===!0,M===!1)g=!1;else{try{d=a.frameElement||null}catch(h){e={name:h.name,message:h.message}}if(d&&1===d.nodeType&&"IFRAME"===d.nodeName)try{g=d.hasAttribute("sandbox")}catch(h){g=null}else{try{c=document.domain||null}catch(h){c=null}(null===c||e&&"SecurityError"===e.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(e.message.toLowerCase()))&&(g=!0)}}return N.sandboxed=g,f===g||b||Ub(o),g},Ub=function(a){function b(a){var b=a.match(/[\d]+/g);return b.length=3,b.join(".")}function c(a){return!!a&&(a=a.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(a)||"chrome.plugin"===a.slice(-13))}function d(a){a&&(i=!0,a.version&&(l=b(a.version)),!l&&a.description&&(l=b(a.description)),a.filename&&(k=c(a.filename)))}var e,f,g,i=!1,j=!1,k=!1,l="";if(h.plugins&&h.plugins.length)e=h.plugins["Shockwave Flash"],d(e),h.plugins["Shockwave Flash 2.0"]&&(i=!0,l="2.0.0.11");else if(h.mimeTypes&&h.mimeTypes.length)g=h.mimeTypes["application/x-shockwave-flash"],e=g&&g.enabledPlugin,d(e);else if("undefined"!=typeof a){j=!0;try{f=new a("ShockwaveFlash.ShockwaveFlash.7"),i=!0,l=b(f.GetVariable("$version"))}catch(m){try{f=new a("ShockwaveFlash.ShockwaveFlash.6"),i=!0,l="6.0.21"}catch(n){try{f=new a("ShockwaveFlash.ShockwaveFlash"),i=!0,l=b(f.GetVariable("$version"))}catch(o){j=!1}}}}N.disabled=i!==!0,N.outdated=l&&r(l)<r(O),N.version=l||"0.0.0",N.pluginType=k?"pepper":j?"activex":i?"netscape":"unknown"};Ub(o),Tb(!0);var Vb=function(){return this instanceof Vb?void("function"==typeof Vb._createClient&&Vb._createClient.apply(this,z(arguments))):new Vb};v(Vb,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Vb.config=function(){return $.apply(this,z(arguments))},Vb.state=function(){return _.apply(this,z(arguments))},Vb.isFlashUnusable=function(){return ab.apply(this,z(arguments))},Vb.on=function(){return bb.apply(this,z(arguments))},Vb.off=function(){return cb.apply(this,z(arguments))},Vb.handlers=function(){return db.apply(this,z(arguments))},Vb.emit=function(){return eb.apply(this,z(arguments))},Vb.create=function(){return fb.apply(this,z(arguments))},Vb.destroy=function(){return gb.apply(this,z(arguments))},Vb.setData=function(){return hb.apply(this,z(arguments))},Vb.clearData=function(){return ib.apply(this,z(arguments))},Vb.getData=function(){return jb.apply(this,z(arguments))},Vb.focus=Vb.activate=function(){return kb.apply(this,z(arguments))},Vb.blur=Vb.deactivate=function(){return lb.apply(this,z(arguments))},Vb.activeElement=function(){return mb.apply(this,z(arguments))};var Wb=0,Xb={},Yb=0,Zb={},$b={};A(Z,{autoActivate:!0});var _b=function(a){var b=this;b.id=""+Wb++,Xb[b.id]={instance:b,elements:[],handlers:{}},a&&b.clip(a),Vb.on("*",function(a){return b.emit(a)}),Vb.on("destroy",function(){b.destroy()}),Vb.create()},ac=function(a,d){var e,f,g,h={},i=Xb[this.id],j=i&&i.handlers;if(!i)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof a&&a)g=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof d)for(e in a)w.call(a,e)&&"string"==typeof e&&e&&"function"==typeof a[e]&&this.on(e,a[e]);if(g&&g.length){for(e=0,f=g.length;f>e;e++)a=g[e].replace(/^on/,""),h[a]=!0,j[a]||(j[a]=[]),j[a].push(d);if(h.ready&&N.ready&&this.emit({type:"ready",client:this}),h.error){for(e=0,f=W.length;f>e;e++)if(N[W[e].replace(/^flash-/,"")]){this.emit({type:"error",name:W[e],client:this});break}c!==b&&Vb.version!==c&&this.emit({type:"error",name:"version-mismatch",jsVersion:Vb.version,swfVersion:c})}}return this},bc=function(a,b){var c,d,e,f,g,h=Xb[this.id],i=h&&h.handlers;if(!i)return this;if(0===arguments.length)f=u(i);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)w.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&this.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=i[a],g&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return this},cc=function(a){var b=null,c=Xb[this.id]&&Xb[this.id].handlers;return c&&(b="string"==typeof a&&a?c[a]?c[a].slice(0):[]:B(c)),b},dc=function(a){if(ic.call(this,a)){"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(a=A({},a));var b=A({},ob(a),{client:this});jc.call(this,b)}return this},ec=function(a){if(!Xb[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");a=kc(a);for(var b=0;b<a.length;b++)if(w.call(a,b)&&a[b]&&1===a[b].nodeType){a[b].zcClippingId?-1===Zb[a[b].zcClippingId].indexOf(this.id)&&Zb[a[b].zcClippingId].push(this.id):(a[b].zcClippingId="zcClippingId_"+Yb++,Zb[a[b].zcClippingId]=[this.id],Z.autoActivate===!0&&lc(a[b]));var c=Xb[this.id]&&Xb[this.id].elements;-1===c.indexOf(a[b])&&c.push(a[b])}return this},fc=function(a){var b=Xb[this.id];if(!b)return this;var c,d=b.elements;a="undefined"==typeof a?d.slice(0):kc(a);for(var e=a.length;e--;)if(w.call(a,e)&&a[e]&&1===a[e].nodeType){for(c=0;-1!==(c=d.indexOf(a[e],c));)d.splice(c,1);var f=Zb[a[e].zcClippingId];if(f){for(c=0;-1!==(c=f.indexOf(this.id,c));)f.splice(c,1);0===f.length&&(Z.autoActivate===!0&&mc(a[e]),delete a[e].zcClippingId)}}return this},gc=function(){var a=Xb[this.id];return a&&a.elements?a.elements.slice(0):[]},hc=function(){Xb[this.id]&&(this.unclip(),this.off(),delete Xb[this.id])},ic=function(a){if(!a||!a.type)return!1;if(a.client&&a.client!==this)return!1;var b=Xb[this.id],c=b&&b.elements,d=!!c&&c.length>0,e=!a.target||d&&-1!==c.indexOf(a.target),f=a.relatedTarget&&d&&-1!==c.indexOf(a.relatedTarget),g=a.client&&a.client===this;return b&&(e||f||g)?!0:!1},jc=function(a){var b=Xb[this.id];if("object"==typeof a&&a&&a.type&&b){var c=rb(a),d=b&&b.handlers["*"]||[],e=b&&b.handlers[a.type]||[],g=d.concat(e);if(g&&g.length){var h,i,j,k,l,m=this;for(h=0,i=g.length;i>h;h++)j=g[h],k=m,"string"==typeof j&&"function"==typeof f[j]&&(j=f[j]),"object"==typeof j&&j&&"function"==typeof j.handleEvent&&(k=j,j=j.handleEvent),"function"==typeof j&&(l=A({},a),sb(j,k,[l],c))}}},kc=function(a){return"string"==typeof a&&(a=[]),"number"!=typeof a.length?[a]:a},lc=function(a){if(a&&1===a.nodeType){var b=function(a){(a||(a=f.event))&&("js"!==a._source&&(a.stopImmediatePropagation(),a.preventDefault()),delete a._source)},c=function(c){(c||(c=f.event))&&(b(c),Vb.focus(a))};a.addEventListener("mouseover",c,!1),a.addEventListener("mouseout",b,!1),a.addEventListener("mouseenter",b,!1),a.addEventListener("mouseleave",b,!1),a.addEventListener("mousemove",b,!1),$b[a.zcClippingId]={mouseover:c,mouseout:b,mouseenter:b,mouseleave:b,mousemove:b}}},mc=function(a){if(a&&1===a.nodeType){var b=$b[a.zcClippingId];if("object"==typeof b&&b){for(var c,d,e=["move","leave","enter","out","over"],f=0,g=e.length;g>f;f++)c="mouse"+e[f],d=b[c],"function"==typeof d&&a.removeEventListener(c,d,!1);delete $b[a.zcClippingId]}}};Vb._createClient=function(){_b.apply(this,z(arguments))},Vb.prototype.on=function(){return ac.apply(this,z(arguments))},Vb.prototype.off=function(){return bc.apply(this,z(arguments))},Vb.prototype.handlers=function(){return cc.apply(this,z(arguments))},Vb.prototype.emit=function(){return dc.apply(this,z(arguments))},Vb.prototype.clip=function(){return ec.apply(this,z(arguments))},Vb.prototype.unclip=function(){return fc.apply(this,z(arguments))},Vb.prototype.elements=function(){return gc.apply(this,z(arguments))},Vb.prototype.destroy=function(){return hc.apply(this,z(arguments))},Vb.prototype.setText=function(a){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData("text/plain",a),this},Vb.prototype.setHtml=function(a){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData("text/html",a),this},Vb.prototype.setRichText=function(a){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData("application/rtf",a),this},Vb.prototype.setData=function(){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData.apply(this,z(arguments)),this},Vb.prototype.clearData=function(){if(!Xb[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.clearData.apply(this,z(arguments)),this},Vb.prototype.getData=function(){if(!Xb[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.getData.apply(this,z(arguments))},"function"==typeof define&&define.amd?define("Gallery/Client/3rdParty/zeroclipboard",function(){return Vb}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Vb:a.ZeroClipboard=Vb}(function(){return this||window}());
// Copyright (C) Microsoft Corporation. All rights reserved.
define("Gallery/Client/Controls/VSCodeCopyCommand/VSCodeCopyCommand.View",["require","exports","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Controls/VSCodeCopyCommand/VSCodeCopyCommand.ViewModel","Gallery/Client/3rdParty/zeroclipboard","VSS/Events/Services","VSS/Adapters/Knockout","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o){var s=o.delegate,h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._copyCallback=s(this,this._onCopy);this._openCopyModalCallback=s(this,this._openCopyDialog);this._closeCopyModalCallback=s(this,this._closeCopyDialog);f.getService().attachEvent(r.VSCodeCopyCommandViewModel.EVENT_ON_COPY,this._copyCallback);f.getService().attachEvent(r.VSCodeCopyCommandViewModel.EVENT_ON_OPEN_COPY_MODAL,this._openCopyModalCallback);f.getService().attachEvent(r.VSCodeCopyCommandViewModel.EVENT_ON_CLOSE_COPY_MODAL,this._closeCopyModalCallback);this._onInitializeFlash()},t.prototype._closeCopyDialog=function(){var n=$("#modal-copy-command-container");n.modal("hide")},t.prototype._openCopyDialog=function(){var n=$("#modal-copy-command-container");n.modal({keyboard:!0})},t.prototype._onCopy=function(n){var u=n.textAreaID,f=n.copiedAnimationID,t=$("#"+u).get(0),r;t.select();try{r=document.execCommand("copy");r?(n.displayCopyResultText(i.VSCodeSuccessfulCopiedToClipboardMessage),n.copyResult(!0),this._copiedAnimation(f),n.publishTelemetryEvent_Copy(!1)):n.copyResult(!1)}catch(e){n.copyResult(!1)}t.focus();t.blur()},t.prototype._copiedAnimation=function(n){var t=$("#"+n);t.fadeIn(1e3);t.delay(200);t.fadeOut(10)},t.prototype._onInitializeFlash=function(){var n=this.getViewModel(),o=this,f,e,t;if(n.isFlahUsed){f=n.copyButtonID;e=n.copiedAnimationID;u.config({swfPath:r.VSCodeCopyCommandViewModel.swfFileURL});t=new u($("#"+f));t.on("ready",function(){t.on("aftercopy",function(){n.publishTelemetryEvent_Copy(!0);n.displayCopyResultText(i.VSCodeSuccessfulCopiedToClipboardMessage);n.copyResult(!0);o._copiedAnimation(e)})})}},t.prototype._cleanup=function(){f.getService().detachEvent(r.VSCodeCopyCommandViewModel.EVENT_ON_COPY,this._copyCallback);n.prototype._cleanup.call(this)},t}(e.TemplateControl);t.VSCodeCopyCommandView=h});
define("Gallery/Client/Controls/BuyCustomizationBase/BuyCustomizationBase.View",["require","exports","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Controls","VSS/Adapters/Knockout","VSS/Controls/PopupContent","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var s=e.delegate,h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this.buyCustomizationBaseViewModel=this.getViewModel();this.buyCustomizationBaseViewModel.onActiveUsersCountChanged=s(this,this._onActiveUsersCountChanaged)},t.prototype._disposeExistingPopup=function(){this._popupContentTooltip&&(this._popupContentTooltip.dispose(),delete this._popupContentTooltip);$(".buy-customization-help-tooltip").remove()},t.prototype._onActiveUsersCountChanaged=function(n){var u;this._disposeExistingPopup();var e=this.getElement(),t=e.find(".active-user-info").first(),s=o.format(i.ActiveUsersQuantityText,n);t.length>0&&(u=r.Enhancement.enhance(f.RichContentTooltip,t,{cssClass:"buy-customization-help-tooltip",content:s,openCloseOnHover:!1,elementAlign:"left-bottom",baseAlign:"right-top"}),this._popupContentTooltip=u)},t.prototype._cleanup=function(){this._disposeExistingPopup();n.prototype._cleanup.call(this)},t}(u.TemplateControl);t.BuyCustomizationBase=h});
define("Gallery/Client/Controls/AccountBasedPurchaseDetails/AccountBasedPurchaseDetails.View",["require","exports","Gallery/Client/Controls/BuyCustomizationBase/BuyCustomizationBase.View"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.BuyCustomizationBase);t.AccountBasedPurchaseDetailsView=r});
define("Gallery/Client/Controls/BuyCustomizationBase/BuyCustomizationBase.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Adapters/Knockout"],function(n,t,i,r,u){var f=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.isValid=i.observable(!0),t.isCompleted=i.observable(!1),t.isActive=i.observable(!1),t.isHidden=i.observable(!1),t.item=i.observable(null),t.readonlyContainerVisible=i.observable(!1),t.editContainerVisible=i.observable(!1),t.isSubsequentPurchase=i.observable(!1),t.headerVisible=i.observable(!0),t.cancelButtonText=r.CancelButtonText,t.completeButtonText=r.ContinueButtonText,t}return __extends(t,n),Object.defineProperty(t.prototype,"headerText",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepId",{get:function(){return""},enumerable:!0,configurable:!0}),t}(u.TemplateViewModel);t.BuyCustomizationBaseViewModel=f});
define("Gallery/Client/Common/AcquisitionTelemetry",["require","exports","Gallery/Client/Common/Telemetry","Gallery/Client/Service/VSSCommerce/IVSSCommerce","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSItem","Gallery/Client/Service/Item","Gallery/Client/Common/ConnectedContext","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Service/VSSItemHelper","VSS/Utils/Date","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var p=f.WindowWrapper,y=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,w=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ConnectedContextWorkflowProperties,b=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ItemDetailsProperties,k=function(){function n(){}return n.publishTelemetryForInitiateWorkflow=function(t,i){var r={},u=e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name),f=n.getInitiateWorkflowFeatureName(t);h.TelemetryHelper.setJourneyIdIfNeeded(u);n.setItemVisibility(r,t.isPublic);n.setCommonProperties(r,t,u);r[y.Referrer]=i;h.TelemetryHelper.publishEvent(f,r,!0)},n.publishTelemetryForAccountSelection=function(t,r,u){var f={};n.setSelectAccountProperties(f,t,r,u);n.setCommonProperties(f,t,e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name));h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SELECT_ACCOUNT,f,!0)},n.publishTelemetryForAvailableSubscription=function(t,r,u){var o=e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name),f={};r&&r.accountId&&(f[y.AccountId]=r.accountId);f[y.AvailableSubscriptions]=u&&u.length>0?u.length:0;n.setCommonProperties(f,t,o);h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.AVAILABLE_AZURE_SUBSCRIPTION,f,!0)},n.publishTelemetryForSelectedSubscription=function(t,r){var f=e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name),u={};n.setCommonProperties(u,t,f);u[y.AccountId]=r.accountId;u[y.SubscriptionId]=r.selectedSubscription().subscriptionId;u[y.IsNewSubscription]=r.isNew()?1:0;u[y.OfferCode]=r.selectedSubscription().offerCode;u[y.RegionDisplayName]=r.selectedSubscription().regionDisplayName;u[y.SubscriptionTenantId]=r.selectedSubscription().tenantId;u[y.IsPricingAvailable]=r.selectedSubscription().isPricingAvailable?1:0;h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SELECT_AZURE_SUBSCRIPTION,u,!0)},n.publishTelemetryForBuyCustomization=function(t){n.publishTelemetryForSelectQuantityStep({},t)},n.publishTelemetryForConfirmEventForFreeInstallOrRequest=function(t,r,u,f){var o,c,s;f===void 0&&(f=!1);o={};c="";n.setCommonProperties(o,r,e.ItemModelHelper.getFullyQualifiedNameForItem(r.publisherName,r.name));s="";t===e.VSSItemAcquisitionOption.Request?(s=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.REQUESTEXTENSION,f&&(o[y.AlreadyRequested]=1,c=v.ItemAlreadyRequested)):t===e.VSSItemAcquisitionOption.Install?(s=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_INSTALL_ITEM,f&&(o[y.AlreadyInstalled]=1,c=v.ItemAlreadyInstalled)):t===e.VSSItemAcquisitionOption.Try&&(s=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_TRIAL_ITEM,f&&(o[y.AlreadyUnderTrial]=1,c=v.ItemAlreadyUnderTrial));u&&(o[y.AccountId]=u.id);o[y.IsPublic]=r.isPublic;o[y.IsPaid]=e.ItemModelHelper.isPaidExtension(r.priceCategory);o[y.IsPreview]=r.isPreview;s&&(h.TelemetryHelper.publishEvent(s,o,!0),f&&n.publishTelemetryOnError(r,new Error(c),a.AcquisitionStepIds.Confirm,a.AcquisitionErrorTypes.UserError,"",u))},n.publishTelemetryForConfirmBuy=function(t,r,u,f){var o={};r&&(o[y.AccountId]=r);u&&(o[y.SubscriptionId]=u.selectedSubscription().subscriptionId,o[y.IsNewSubscription]=u.isNew()?1:0);n.setCommonProperties(o,t,e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name));o[y.IsPublic]=t.isPublic;o[y.IsPaid]=e.ItemModelHelper.isPaidExtension(t.priceCategory);o[y.IsPreview]=t.isPreview;n.setBuyCustomizationProperties(o,f);h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_BUY_ITEM,o,!0)},n.publishTelemetryForConfirmBuyForOffers=function(t,r,u,f,o){o===void 0&&(o=!1);var s={};n.setCommonProperties(s,t,e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name));r&&(s[y.SubscriptionId]=r.selectedSubscription().subscriptionId,s[y.IsNewSubscription]=r.isNew()?1:0);s[y.IsPublic]=t.isPublic;s[y.IsPaid]=e.ItemModelHelper.isPaidExtension(t.priceCategory);s[y.IsPreview]=t.isPreview;n.setBuyCustomizationPropertiesForOfferPurchase(s,u,f,o);h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_BUY_ITEM,s,!0)},n.publishTelemetryForAccountScopedBuyCustomization=function(t){var i={};t.selectedAccount&&t.selectedAccount.id&&(i[y.AccountId]=t.selectedAccount.id);n.publishTelemetryForSelectQuantityStep(i,t)},n.publishTelemetryForEventOnQuantityChangeComplete=function(t,r,u){var f={},o;n.setCommonProperties(f,t,e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name));n.setSubscriptionProperties(f,u);o=[];r.forEach(function(n){var t={};t[y.Quantity]=n.newPurchaseQuantity;t[y.PreviousQuantity]=n.previousPurchaseQuantity;t[y.RenewalGroup]=n.renewalGroup;o.push(t)});f[y.RenewalProperties]=o;h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_QUANTITY_CHANGE,f,!0)},n.publishTelemetryForCreateNewAccount=function(t){var r={};n.setCommonProperties(r,t,e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name));h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CREATE_NEW_ACCOUNT,r,!0)},n.publishTelemetryForInitiateRequest=function(t,r,u){var f={};n.setSelectAccountProperties(f,t,r,u);n.setCommonProperties(f,t,e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name));f[y.IsPublic]=t.isPublic;f[y.IsPaid]=e.ItemModelHelper.isPaidExtension(t.priceCategory);f[y.IsPreview]=t.isPreview;h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_REQUEST_INSTALL,f,!0)},n.publishTelemetryOnError=function(t,u,f,o,s,l,a,v,p){var k=e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name),d=c.VSSItemHelper.isPaidItem(t),g=n.isFreeInstall(),nt=n.isSkipBuy(),b="",w;p||(p={});n.setCommonProperties(p,t,k);l&&(p[y.AccountId]=l.id,p[y.AccountName]=l.name);n.setSubscriptionProperties(p,a);v&&(p[y.PreviousQuantity]=v.previousPurchaseQuantity,p[y.NewQuantity]=v.newPurchaseQuantity,v.renewalGroup&&(p[y.RenewalGroup]=r.ResourceRenewalGroup[v.renewalGroup]));p.Referrer=document.referrer;p.MethodName=s;p.ErrorType=o;w=p[y.WorkFlowType];w&&(b=w===i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_EXTENSION_TRIAL?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.TRIAL_WORKFLOW_ERRORS:w===i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_EXTENSION_BUY||w===i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_OFFER_BUY?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.BUY_WORKFLOW_ERRORS:i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INSTALL_WORKFLOW_ERRORS);u&&(p.ErrorString=JSON.stringify(u,n.replaceErrors));p.ErrorStep=f;h.TelemetryHelper.publishEvent(b,p,!0)},n.publishTelemetryOnAbandonment=function(t,r,u,f,o,s,l){var k=e.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name),tt=c.VSSItemHelper.isPaidItem(t),d=r?r:n.isFreeInstall(),g=u?u:n.isSkipBuy(),nt=f?f:n.isTestCommerceEnabled(),b="",v={},p,w;n.setCommonProperties(v,t,k,d,g,nt);s&&(v[y.AccountId]=s.id,v[y.AccountName]=s.name);n.setSubscriptionProperties(v,l);p=v[y.WorkFlowType];p&&(b=p===i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_EXTENSION_TRIAL?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.TRIAL_WORKFLOW_ABANDON:p===i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_EXTENSION_BUY||p===i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_OFFER_BUY?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.BUY_WORKFLOW_ABANDON:i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INSTALL_WORKFLOW_ABANDON);v.AbandonStep=o;w="";sessionStorage&&(w=sessionStorage.getItem(a.TelemetryConstants.abandonmentReason)?sessionStorage.getItem(a.TelemetryConstants.abandonmentReason):w,sessionStorage.removeItem(a.TelemetryConstants.abandonmentReason));v.ErrorString=w;v.Referrer=document.referrer;n.setItemVisibility(v,t.isPublic);h.TelemetryHelper.publishEvent(b,v,!0)},n.publishTelemetryForSelectQuantityStep=function(t,r){var u=r.item,f=r.stepViewModel,o=e.ItemModelHelper.getFullyQualifiedNameForItem(u.publisherName,u.name);n.setCommonProperties(t,u,o);t[y.SubscriptionId]=r.selectedSubscription.subscriptionId;n.setBuyCustomizationProperties(t,f);h.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SELECT_QUANTITY,t,!0)},n.setBuyCustomizationProperties=function(t,i){t[y.PreviousQuantity]=i.getNextMonthQuantity();t[y.NewQuantity]=i.getNewQuantity();n.isChangeOfferQuantityRequest()||(t[y.PreviousQuantity]=t[y.PreviousQuantity]+i.existingOfferSubscriptionsTotal(),t[y.NewQuantity]=t[y.NewQuantity]+i.existingOfferSubscriptionsTotal());n.isExtensionAlreadyUnderTrial(i)?(t[y.AlreadyUnderTrial]=1,t[y.TrialEndDate]=i.getTrialEndDate()):t[y.AlreadyUnderTrial]=0;t[y.IsSubsequentPurchase]=i.isSubsequentPurchase()?1:0},n.setBuyCustomizationPropertiesForOfferPurchase=function(t,i,r,u){var f=0,e=0;i.forEach(function(n){f+=n.newPurchaseQuantity;e+=n.previousPurchaseQuantity});t[y.NewQuantity]=f;t[y.PreviousQuantity]=e;t[y.PurchaseDetails]=JSON.stringify(i,n.replaceErrors);t[y.IsSubsequentPurchase]=r?1:0;u&&(t[y.IsPartialSuccess]=u)},n.replaceErrors=function(n,t){if(t&&t instanceof Error){var i={};return Object.getOwnPropertyNames(t).forEach(function(n){i[n]=t[n]}),i}return t},n.setCommonProperties=function(t,i,r,u,f,e){n.setConnectedContextPropertiesIfApplicable(t);n.setWorkFlowType(t,i,u,f,e);n.setPriceCategory(t,i);n.setProductType(t,i.itemType);n.setItemId(t,r);n.setChangeOfferQuantityIfApplicable(t)},n.setWorkFlowType=function(t,r,u,f,o){var l="",a=u?u:n.isFreeInstall(),v=f?f:n.isSkipBuy(),p=o?o:n.isTestCommerceEnabled(),w=s.getConnectedContext(),h=c.VSSItemHelper.getWorkFlow(r,a,v,p);l=h===e.VSSWorkFlow.BuyOfferWorkflow?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_OFFER_BUY:h===e.VSSWorkFlow.BuyResourceWorkflow||h===e.VSSWorkFlow.BuyOnPremExtensionWorkflow||h===e.VSSWorkFlow.BuyExtensionWorkflow?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_EXTENSION_BUY:h===e.VSSWorkFlow.TrialExtensionWorkflow?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_EXTENSION_TRIAL:h===e.VSSWorkFlow.FreeExtensionWorkflow?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.WORKFLOW_TYPE_EXTENSION_INSTALL:i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.DEFAULT_WORKFLOW;t[y.WorkFlowType]=l},n.setItemId=function(n,t){n[y.Id]=t},n.setChangeOfferQuantityIfApplicable=function(t){n.isChangeOfferQuantityRequest()&&(t[y.IsReduce]=1)},n.setPriceCategory=function(n,t){n[b.PriceCategory]=o.priceCategory[t.priceCategory]},n.setItemVisibility=function(n,t){n[y.IsPublic]=t},n.setProductType=function(n,t){n[y.ProductType]=e.ItemModelHelper.getItemTypeText(t)},n.setConnectedContextPropertiesIfApplicable=function(n){var t=s.getConnectedContext();t&&t.targetServerId&&(n[y.AccountId]=t.targetHiddenAccountId?t.targetHiddenAccountId:null,n[w.CollectionId]=t.targetId)},n.setSelectAccountProperties=function(t,i,r,u){u&&(t[y.AccountId]=u.id);t[y.AccountName]=u&&u.name?u.name:null;t[y.AvailableAccounts]=r.length;c.VSSItemHelper.isPaidItem(i)&&!n.isFreeInstall()&&(t[y.SubscriptionLinked]=0,t[y.SubscriptionId]="",u.subscriptionId&&(t[y.SubscriptionLinked]=1,t[y.SubscriptionId]=u.subscriptionId))},n.setSubscriptionProperties=function(n,t){t&&(n[y.SubscriptionId]=t.subscriptionId,n[y.OfferCode]=t.offerCode,n[y.RegionDisplayName]=t.regionDisplayName,n[y.SubscriptionTenantId]=t.tenantId,n[y.IsPricingAvailable]=t.isPricingAvailable?1:0)},n.hasPublicPlans=function(n){return n.offerDetails&&n.offerDetails.hasPublicPlans},n.isExtensionAlreadyUnderTrial=function(n){return!n.isSubsequentPurchase()&&n.getTrialEndDate()&&l.defaultComparer(l.shiftToLocal(n.getTrialEndDate()),l.shiftToLocal(new Date))>=0},n.isFreeInstall=function(){return u.GalleryURLs.isFreeInstall(p.getQueryString())},n.isSkipBuy=function(){return u.GalleryURLs.isSkipBuy(p.getQueryString())},n.isTestCommerceEnabled=function(){return u.GalleryURLs.isTestCommerceEnabled(p.getQueryString())},n.isFreeInstallForPaidUsers=function(){return u.GalleryURLs.isSkipBuy(p.getQueryString())},n.isChangeOfferQuantityRequest=function(){return u.GalleryURLs.isChangeOfferQuantityRequest(p.getQueryString())},n.getInitiateWorkflowFeatureName=function(t){return!c.VSSItemHelper.isPaidItem(t)||n.isFreeInstallForPaidUsers()||t.isPreview?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_INSTALL_ITEM:n.isFreeInstall()?i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_TRIAL_ITEM:i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_BUY_ITEM},n}();t.CiUtil=k});
define("Gallery/Client/Controls/AccountBasedPurchaseDetails/AccountBasedPurchaseDetails.ViewModel",["require","exports","knockout","q","Gallery/Client/Controls/BuyCustomizationBase/BuyCustomizationBase.ViewModel","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Utility","Gallery/Client/Common/AcquisitionTelemetry","VSS/Utils/String","Gallery/Client/Common/Constants"],function(n,t,i,r,u,f,e,o,s,h){var c=function(n){function t(){var t=n.call(this)||this;return t.ko_readonlyContainerVisible=i.observable(!1),t.ko_editContainerVisible=i.observable(!1),t.ko_userCount=i.observable(0),t.ko_totalCost=i.observable(""),t.ko_loading=i.observable(!1),t.ko_isSubsequentPurchase=i.observable(!1),t.ko_errorMessage=i.observable(""),t.ko_headerVisible=i.observable(!0),t.loadingMessage=f.LoadingPricingMessage,t.ko_purchaseHelpText=i.observable(""),t.ko_userText=f.UsersText,t.ko_costColumnName=f.TotalCostText,t.ko_disableCompleteButton=i.observable(!1),t.ko_continueButtonText=f.ContinueButtonText,t._stepId=h.AcquisitionStepIds.AccountBasedPurchaseDetails,t.ko_accountBasedPurchaseConfirmationText=t.computed(function(){return s.format(f.AccountBasedPurchaseBuyConfirmationText,t.ko_totalCost(),t.ko_userCount())}),t._defaultCurrency="$",t}return __extends(t,n),Object.defineProperty(t.prototype,"stepId",{get:function(){return this._stepId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerText",{get:function(){return f.ReviewPurchaseDetails},enumerable:!0,configurable:!0}),t.prototype.reset=function(){},t.prototype.startEdit=function(){this.isActive(!0);this.ko_headerVisible(!0)},t.prototype.completeStep=function(){this.isCompleted(!0);this.ko_headerVisible(!1);this.ko_readonlyContainerVisible(!0);this.ko_editContainerVisible(!1);this.isActive(!1)},t.prototype.getUserCount=function(){return this.ko_userCount()},t.prototype.initialize=function(n,t,i,u){var c=this,l=[];this.ko_purchaseHelpText(s.format(f.QuantitySelectionHelpTextForAccountBasedExtension,n.title));var a=t.call(this),v=i.call(this),y=u.call(this);l.push(a);l.push(v);l.push(y);this.ko_loading(!0);this.isActive(!0);r.allSettled(l).then(function(t){c.ko_loading(!1);var i=!0;t.forEach(function(n){n.state!=="fulfilled"&&(i=!1)});i?(c.ko_editContainerVisible(!0),a.then(function(t){v.then(function(i){y.then(function(r){if(c.ko_userCount(t),c.onActiveUsersCountChanged)c.onActiveUsersCountChanged(t);if(r.quantity)c.ko_isSubsequentPurchase(!0),c.ko_purchaseHelpText(s.format(f.AlreadyPurchasedExtensionForAccount,n.title)),c.ko_disableCompleteButton(!0);else if(i){var u=i.details&&i.details[0].value;u||(u=10);u=u*t;c.ko_totalCost(e.convertToCurrencyFormat(u,i.currencyCode,c._defaultCurrency,i.locale))}})})})):(t&&$.each(t,function(t,i){i.state!=="fulfilled"&&o.CiUtil.publishTelemetryOnError(n,i.reason,h.AcquisitionStepIds.AccountBasedPurchaseDetails,h.AcquisitionErrorTypes.SystemError,"AccountBasedPurchaseDetailsViewModel.initialize")}),c.ko_errorMessage(f.AcquireItemGenericError),c.ko_disableCompleteButton(!0))})},t}(u.BuyCustomizationBaseViewModel);t.AccountBasedPurchaseDetailsViewModel=c});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquireItemCompletionMessage.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.AcquireItemCompletionMessageView=r});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquireItemCompletionMessage.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Adapters/Knockout"],function(n,t,i,r,u){var f=function(n){function t(t){var u=n.call(this)||this,f;for(u.showLinksSection=i.observable(!0),u.acquireItemCompletionLinksHeader=r.AcquireItemCompletionLinksHeader,u._completionMessage=t.completionMessage,u.trialSuccessMessage=t.trialSuccessMessage,u.trialExpiryDate=t.trialExpiryDate,u.accountName=t.accountName,u.completionLinks=t.completionLinks||[],u.completionButtons=t.acquireCompletionButtons||[],u.youAreReadyToGoText=t.readyToGoText?t.readyToGoText:t.readyToGoText!==""?r.YouAreGoodToGoText:"",f=0;f<u.completionButtons.length;f++)u.completionButtons[f].hasFocus=!1;return u.completionButtons&&u.completionButtons[0]&&(u.completionButtons[0].hasFocus=!0),u.completionLinks&&u.completionLinks.length!==0||u.showLinksSection(!1),u}return __extends(t,n),Object.defineProperty(t.prototype,"completionMessage",{get:function(){return this._completionMessage},enumerable:!0,configurable:!0}),t}(u.TemplateViewModel);t.AcquireItemCompletionMessageViewModel=f});
define("Gallery/Client/Controls/AcquireItemWizard/AcquireItemWizard.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.AcquireItemWizard=r});
define("Gallery/Client/Controls/AcquireItemWizard/AcquireItemWizard.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Utility","VSS/Diag","VSS/Events/Services","VSS/Adapters/Knockout","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(o){var s=n.call(this)||this,h;return s.stepViewModels=[],s.completedStepDefinition=i.observable(null),s.stepDefinitions=i.observableArray([]),s.completeButtonSetFocus=i.observable(!1),s.workflowCompleted=i.observable(!1),s.hasNonRecoverableError=!1,s.workflowAlreadyComplete=i.observable(!1),s.stepCssList=i.observableArray([]),s.completeButtonText=null,s.showCompleteButtonSpinner=i.observable(!1),s.disableCompleteButton=i.observable(!0),s.disableCancelButton=i.observable(!1),s.hideDialogButtons=i.observable(!1),s.cancelButtonLink=i.observable(""),s.cancelButtonText=i.observable(r.CancelButtonText),s.closeButtonText=r.CloseButtonText,s._completionInProgress=!1,s._workflowInProgress=!1,s.cancelWorkflow=function(){s.cancelButtonLink()&&window.open(s.cancelButtonLink(),"_self")},s.completeWorkflow=function(){s.disableCompleteButton()||(s.disableCompleteButton(!0),s.showCompleteButtonSpinner(!0),s.disableCancelButton(!0),s._onCompleteWorkFlow&&s._onCompleteWorkFlow(),s._wizardWorkflow.completeWorkflow().then(function(n){s.workflowCompleted(!0);s._workflowInProgress=!1;s._completionInProgress=!1;n&&s.completedStepDefinition(n);s.showCompleteButtonSpinner(!1)},function(){s.disableCompleteButton(!1);s.completeButtonText(r.TryAgainText);s.showCompleteButtonSpinner(!1);s.disableCancelButton(!1)}))},s._wizardWorkflow=o.wizardWorkflow,s.wizardCSSClass=o.cssClassName,s.completeButtonText=s._wizardWorkflow.completeButtonText,o.onCompleteWorkFlow&&(s._onCompleteWorkFlow=o.onCompleteWorkFlow),h=u.getItemNameForInstall(),o.cancelButtonLink?s.cancelButtonLink(o.cancelButtonLink):s.cancelButtonLink(""),s._initializeStepDefinitions(s._wizardWorkflow.getStepDefinitions()),e.getService().attachEvent(t.EVENT_WORKFLOW_ERROR,s._onWorkFlowError.bind(s)),s}return __extends(t,n),t.prototype._onWorkFlowError=function(){var n=this,t=function(){n.hasNonRecoverableError=!0;n.workflowCompleted(!0)};$.isFunction(this._wizardWorkflow.getErrorStepDefinition)&&this._wizardWorkflow.getErrorStepDefinition().then(function(i){i&&(n.closeButtonText=r.AcquireItemWizardOk,n.completedStepDefinition(i),t())},t)},t.prototype._initializeStepDefinitions=function(n){var r=this,t,u;for(this.stepDefinitions(n),t=0,u=this.stepDefinitions().length;t<u;t++)this.stepViewModels[t]=i.observable(null),this.stepCssList()[t]=s.format("icon-step-{0} step-inactive",t+1)+" "+n[t].stepCSSClassName;this.computed(function(){for(var t=!0,n=0,i=r.stepDefinitions().length;n<i;n++)r.stepViewModels[n]()||(t=!1);t&&!r._workflowInProgress&&r._startWorkflow()});this.headerText=this._wizardWorkflow.workflowHeader},t.prototype._startWorkflow=function(){var n=this,t;this._workflowInProgress=!0;this.isValid=this.computed(function(){for(var i=!0,t=0,r=n.stepDefinitions().length;t<r;t++)n.stepViewModels[t]().isValid()||(i=!1);return i});this.isActive=this.computed(function(){for(var i=!1,t=0,r=n.stepDefinitions().length;t<r;t++)n.stepViewModels[t]().isActive()&&(i=!0);return i});this.currentStep=this.computed(function(){for(var i="",t=0,r=n.stepDefinitions().length;t<r;t++)if(n.stepViewModels[t]().isActive()){i=n.stepViewModels[t]().stepId;break}return i});this.currentStep.subscribe(function(t){for(var i=0,r=n.stepDefinitions().length;i<r;i++)if(n.stepViewModels[i]().stepId===t){n.stepViewModels[i]().isStepCancellable!=null&&n.stepViewModels[i]().isStepCancellable===!1?n.hideDialogButtons(!0):n.hideDialogButtons(!1);break}});this._allStepsCompleted=this.computed(function(){for(var i=!0,t=0,r=n.stepDefinitions().length;t<r;t++)n.stepViewModels[t]().isCompleted()||n.stepViewModels[t]().isHidden&&n.stepViewModels[t]().isHidden()||(i=!1);return i});this.computed(function(){for(var i,t=0,r=n.stepDefinitions().length;t<r;t++)i=n.stepDefinitions()[t].stepCSSClassName,n.stepViewModels[t]().isHidden&&n.stepViewModels[t]().isHidden()?(n.stepCssList()[t]=s.format("icon-step-{0} step-hidden",t+1)+" "+i,n.stepCssList.valueHasMutated()):n.stepViewModels[t]().isActive()||n.stepViewModels[t]().isCompleted()?n.stepViewModels[t]().isActive()?(n.stepCssList()[t]=s.format("icon-step-{0} step-active",t+1)+" "+i,n.stepCssList.valueHasMutated()):n.stepViewModels[t]().isCompleted()&&(n._isLastStepOfWizard(t)||(n.stepCssList()[t]=s.format("icon-step-{0} step-completed",t+1)+" "+i,n.stepCssList.valueHasMutated())):(n.stepCssList()[t]=s.format("icon-step-{0} step-inactive",t+1)+" "+i,n.stepCssList.valueHasMutated())});this._allStepsCompleted.subscribe(function(t){t?(n.disableCompleteButton(!1),n.completeButtonSetFocus(!0)):n.disableCompleteButton(!0)});t=[];$.each(this.stepViewModels,function(n,i){t.push(i())});this._wizardWorkflow.workflowAlreadyComplete!==undefined&&this._wizardWorkflow.workflowAlreadyComplete.subscribe(function(){n.workflowAlreadyComplete(!0)});this._wizardWorkflow.startWorkflow(t)},t.prototype._isLastStepOfWizard=function(n){if(n===this.stepViewModels.length-1)return!0;for(var t=n+1,i=this.stepDefinitions().length;t<i;t++)if(!(this.stepViewModels[t]().isHidden&&this.stepViewModels[t]().isHidden()))return!1;return!0},t}(o.TemplateViewModel);h.EVENT_WORKFLOW_ERROR="Gallery.AcquireItem.Error";t.AcquireItemWizardViewModel=h});
define("Gallery/Client/Common/AccessibilityUtils",["require","exports","VSS/Diag"],function(n,t,i){function u(n,t){var f,u,e;if(t===void 0&&(t=!1),n)for(i.log(i.LogVerbosity.Info,"announce ("+(t?"assertive":"polite")+"): "+n),f=t?"utils-accessibility-announce-assertive":"utils-accessibility-announce-polite",u=document.getElementById(f),u||(u=document.createElement("div"),u.id=f,u.className="visually-hidden",u.setAttribute("aria-live",t?"assertive":"polite"),document.body.appendChild(u)),e=document.createElement("p"),e.textContent=n,u.appendChild(e);u.children.length>r;)u.removeChild(u.children[0])}function f(n){n.on("keydown",function(t){var e=t.which?t.which:t.keyCode,r,i,u,f;if(e===9){if(r="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",i=n.find(r).filter(":visible"),!i||i.length===0)return;t.shiftKey?(u=i.first(),(t.target===u[0]||t.target===n[0])&&(i.last().focus(),t.preventDefault(),t.stopPropagation())):(f=i.last(),t.target===f[0]&&(i.first().focus(),t.preventDefault(),t.stopPropagation()))}})}function e(n){var t=n.find("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");t&&t.length!==0&&t.first().focus()}var r=10;t.announce=u;t.setModalTabbing=f;t.setFocusOnFirstTabbableElement=e});
define("Gallery/Client/Controls/Spinner/Spinner.ViewModel",["require","exports","VSS/Adapters/Knockout","knockout","Gallery/Client/Common/AccessibilityUtils","VSS/Utils/Core"],function(n,t,i,r,u,f){var e=function(n){function t(t){var i=n.call(this)||this;return i._announceStartDelay=1e3,i._startAnnounced=!1,i._completed=!1,i.assertiveAnnouncement=!1,i.spinnerMessage=r.observable(null),i.showSpinner=r.observable(!1),i._startSpinnerAnnounceMessage=t.startSpinnerAnnounceMessage,i._endSpinnerAnnounceMessage=t.endSpinnerAnnounceMessage,i._errorSpinnerAnnounceMessage=t.errorSpinnerAnnounceMessage,i.spinnerMessage(t.spinnerMessage),i.showSpinner(t.showSpinner),t.assertiveAnnouncement&&(i.assertiveAnnouncement=t.assertiveAnnouncement),t.announceStartDelay&&(i._announceStartDelay=t.announceStartDelay),i}return __extends(t,n),t.prototype.startSpinner=function(){var n=this;this.showSpinner(!0);this._completed=!1;this._announceDelay=f.delay(this,this._announceStartDelay,function(){u.announce(n._startSpinnerAnnounceMessage);n._startAnnounced=!0})},t.prototype.stopSpinner=function(n){n===void 0&&(n=!1);this.showSpinner(!1);this._completed||(this._completed=!0,this._startAnnounced?n?u.announce(this._errorSpinnerAnnounceMessage):u.announce(this._endSpinnerAnnounceMessage):this._announceDelay.cancel())},t.prototype.setStartSpinnerAnnounceMessage=function(n){this._startSpinnerAnnounceMessage=n},t.prototype.setEndSpinnerAnnounceMessage=function(n){this._endSpinnerAnnounceMessage=n},t.prototype.setErrorSpinnerAnnounceMessage=function(n){this._errorSpinnerAnnounceMessage=n},t}(i.TemplateViewModel);t.SpinnerViewModel=e});
define("Gallery/Client/Controls/BuyCustomization/BuyCustomization.ViewModel",["require","exports","knockout","q","Gallery/Client/Controls/BuyCustomizationBase/BuyCustomizationBase.ViewModel","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Service/VSSCommerce/IVSSCommerce","Gallery/Client/Controls/Spinner/Spinner.ViewModel","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSItem","VSS/Utils/Date","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y=function(n){function t(t){var r=n.call(this)||this;return r.EVENT_ON_EDITCONTAINERVISIBLE="VSS.BuyCustomization.EditContainerVisible",r.maxNum=i.observable(101),r.includedQuantity=i.observable(0),r.minAllowedQuantity=i.observable(1),r.maxAllowedQuantity=i.observable(1e4),r.newQuantityLimitExceeded=i.observable(!1),r.prepaidBalanceInfoMsg=i.observable(""),r.quantityBoxAriaLabel=i.observable(""),r.isPricingAvailable=i.observable(!1),r.pricingNotAvailableText=i.observable(e.PricingNotAvailable),r.isMeterAvailable=i.observable(!1),r.purchaseDetailsLoadingSpinner=new s.SpinnerViewModel({startSpinnerAnnounceMessage:e.StartFetchingPurchaseDetailsScreenReaderMessage,endSpinnerAnnounceMessage:e.EndFetchingPurchaseDetailsScreenReaderMessage,errorSpinnerAnnounceMessage:e.ErrorFetchingPurchaseDetailsScreenReaderMessage,showSpinner:!1,spinnerMessage:e.LoadingPricingMessage}),r.isActiveUserInfoVisible=i.observable(!1),r.showAssignMessage=i.observable(!0),r.chooseQuantityHelpText=i.observable(""),r.learnMore=e.OfferLearnMoreText,r.currentHeader=e.VSS_BuyExtension_Current,r.newHeader=e.VSS_BuyExtension_New,r.cancelButtonLink=h.GalleryURLs.getHomePageURL(),r.purchaseType=i.observable(e.UsersText),r.purchaseTypeConfirmationText=e.ExtensionUsersText,r.totalCostHeader=e.TotalCostText,r.assignMessage=e.Assign_Purchase,r.isNotAssignedToMe=i.observable(!1),r.enforceMaxAllowed=i.observable(null),r.activeUsersQuantity=0,r.defaultCurrency="$",r.currencyCode="USD",r.locale="en",r.alreadyPurchasedLicensesHelpText=e.AlreadyPurchasedLicensesHelpText,r.disableCompleteButton=i.observable(!1),r.hasFocus=i.observable(!1),r.buyCustomizationEntities=i.observableArray([]),r.existingOfferSubscriptionsTotal=i.observable(0),r.buyCustomizationErrorMessage=i.observable(null),r.hideContinueButton=i.observable(!1),r.confirmPurchaseText=i.observable(null),r.upgradeDowngradeCancelMesg=i.observable(null),r.renewalMessage=i.observable(null),r.continueButtonDescribedBy=i.observable(null),r.userPlans=i.observableArray([]),r.quantitySelectionTooltip="",r.editContainerTemplateName="buy-customization-edit-container-template",r.readonlyContainerTemplateName="buy-customization-readonly-template",r.renewalMessageTemplateName="",r._priceUnit=e.Price_Unit_Month,r.paidPurchaseTypeText=r.computed(function(){return r.includedQuantity()>0?v.format(e.PaidUnitsText,r.purchaseType().toLowerCase()):r.purchaseType()}),r.freePurchaseTypeText=r.computed(function(){return r.purchaseType()?v.format(e.FreeUnitsText,r.purchaseType().toLowerCase()):v.format(e.FreeUnitsText,e.UsersText)}),r.itemName=r.computed(function(){return r.item()?r.item().title:e.None_Label}),r.itemType=r.computed(function(){return r.item()?l.ItemModelHelper.isVSSExtension(r.item().itemType)?e.Extension:e.Subscription:e.Extension}),r.isFirstParty=r.computed(function(){return r.item()?l.ItemModelHelper.isFirstPartyPublisher(r.item().publisherDisplayName):!1}),r._meterPrice=[],r._subscriptions=[],r._options=t,t.quantitySelectionTooltip&&(r.quantitySelectionTooltip=t.quantitySelectionTooltip),r.subscribe(r.buyCustomizationEntities,function(){r._subscriptions.forEach(function(n){n.dispose()});r._subscriptions=[];r.buyCustomizationEntities().forEach(function(n){r.updateViewModel(n);var t;t=r.subscribe(n.newQuantity,function(){r.updateViewModel(n)});r._subscriptions.push(t);t=r.subscribe(n.trialEndDate,function(){r.updateViewModel(n)});r._subscriptions.push(t)})}),t.autoCompleteStep&&r.hideContinueButton(!0),r}return __extends(t,n),Object.defineProperty(t.prototype,"stepId",{get:function(){return f.AcquisitionStepIds.BuyCustomization},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerText",{get:function(){return e.BuyCustomizationHeader},enumerable:!0,configurable:!0}),t.prototype.reset=function(){},t.prototype.startEdit=function(){this.readonlyContainerVisible(!1);this.editContainerVisible(!0);this.headerVisible(!0);this.isActive(!0);this.hasFocus(!0)},t.prototype.completeStep=function(){return this.editContainerVisible(!1),this.headerVisible(!1),this.isCompleted(!0),this.readonlyContainerVisible(!0),this.isActive(!1),r.resolve(null)},t.prototype.updateCompleteButtonStatus=function(n){var t=!0;(n.newQuantity()===n.nextMonthQuantity()||n.newQuantityLimitExceeded())&&(t=!1);this.isContinueButtonHidden()?this.isCompleted(t):this.disableCompleteButton(!t)},t.prototype.getNewTotalPrice=function(n){var t="";return this.isPricingAvailable()?(t=this.getComputedPrice(n.newQuantity(),this.isMeterAvailable()),t!==this.pricingNotAvailableText()&&(t=t+"/"+this._priceUnit)):t=e.EAPricingMsg,"<span class='visually-hidden'>"+e.TotalCostText+"<\/span><span class='vertically-centered-text'>"+t+"<\/span>"},t.prototype.getRenewalMessage=function(){return null},t.prototype.getQuantityBoxAriaLabel=function(){return this.chooseQuantityHelpText()+e.BuyCustomizationTextBoxAriaLabel},t.prototype.getComputedPrice=function(n,i){if(i&&this._meterPrice&&this._meterPrice.length!==0){var r=t.calculatePrice(n,this._meterPrice,this.isPlanBasedMeter());return c.convertToCurrencyFormat(r,this.currencyCode,this.defaultCurrency,this.locale)}return this.pricingNotAvailableText()},t.calculatePrice=function(n,t,i){var u=0,r=0,f;if(i){if(n>0)for(f=t.length;r<f;r++)if(+t[r].key===n){u=+t[r].value;break}}else{for(+t[0].key==0&&(t[0].key=1),r=1;r<t.length&&t[r].key<=n;r++)u=u+(t[r].key-t[r-1].key)*t[r-1].value;u=u+(n-t[r-1].key+1)*t[r-1].value}return u},t.prototype.getConfirmPurchaseText=function(){return this.isSubsequentPurchase()?this.updateButtonTextForSubsequentPurchase():e.ContinueButtonText},t.prototype.getUpgradeDowngradeCancelMesg=function(n){var t=null;return n.newQuantity()!==n.nextMonthQuantity()&&(this.isPlanBasedMeter()?this.isSubsequentPurchase()&&(t=n.newQuantity()===0?e.CancelMessageForThirdPartyExtensions:v.format(e.UpgradeDowngradeCancelMessageForThirdPartyExtensions,f.GalleryUrls.AzureAccountMarketplaceLink)):(n.newQuantity()===0&&this.isSubsequentPurchase()?t=e.ReductionsMsg:n.newQuantity()<n.nextMonthQuantity()?t=e.DowngradeMsg:n.newQuantity()>n.committedQuantity&&(this.isFirstParty()&&this.getTrialEndDate()&&a.defaultComparer(a.shiftToLocal(this.getTrialEndDate()),a.shiftToLocal(new Date))>=0&&(t=v.format(e.BuyPlanMsg,this.getTrialEndDate().toLocaleDateString())),t?t+="\n"+e.UpgradeMsg:t=e.UpgradeMsg),this.getNewQuantityLimitExceeded()&&(t=v.format(e.NumUsersLimitExceedMessage,this.maxAllowedQuantity(),this.purchaseType().toLowerCase())))),t},t.prototype.getBuyCustomizationConfirmationText=function(n){var i=n.newQuantity(),r,t,u;return this.isPricingAvailable()&&this.isMeterAvailable()?(r='<div class="buy-customization-highlighted-values">'+i+"<\/div>",t=this.getComputedPrice(i,this.isMeterAvailable()),t=t+"/"+this._priceUnit,t='<div class="buy-customization-highlighted-values">'+t+"<\/div>",u='<div class="buy-customization-highlighted-values">'+n.nextMonthQuantity().toString()+"<\/div>",this.createBuyCustomizationConfirmationText(r,this.purchaseTypeConfirmationText,t,u,n)):this.createBuyCustomizationConfirmationTextWithoutCurrency(i)},t.prototype.getChangeToolTip=function(){return null},t.prototype.setMeterPrice=function(n,t){if(this._meterPrice=n,t){var i=n.map(function(n){return n.key});n.length!==0&&n[0].value===o.CommerceConstants.InvalidPrice&&(this._meterPrice=[]);this.userPlans(i)}},t.prototype.appendCancellationPlan=function(){this.isPlanBasedMeter()&&this.userPlans.push(0)},t.prototype.getMeterPrice=function(){return this._meterPrice},t.prototype.setTrialEndDate=function(n,t){t===void 0&&(t=0);this.buyCustomizationEntities()[t].trialEndDate(n)},t.prototype.getTrialEndDate=function(n){return n===void 0&&(n=0),this.buyCustomizationEntities()[n].trialEndDate()},t.prototype.setRenewalDate=function(n,t){t===void 0&&(t=0);this.buyCustomizationEntities()[t].renewalDate(n)},t.prototype.getRenewalDate=function(n){return n===void 0&&(n=0),this.buyCustomizationEntities()[n].renewalDate()},t.prototype.setActiveUsersCount=function(n){if(this.onActiveUsersCountChanged)this.onActiveUsersCountChanged(n)},t.prototype.getPurchaseActionText=function(n){return n===void 0&&(n=0),this.isSubsequentPurchase()?e.UpdatingText:e.PurchasingText},t.prototype.setNewQuantity=function(n,t){t===void 0&&(t=0);this.buyCustomizationEntities()[t].newQuantity(n)},t.prototype.getNewQuantity=function(n){return n===void 0&&(n=0),this.buyCustomizationEntities()[n].newQuantity()},t.prototype.setNextMonthQuantity=function(n,t){t===void 0&&(t=0);this.buyCustomizationEntities()[t].nextMonthQuantity(n)},t.prototype.getNextMonthQuantity=function(n){return n===void 0&&(n=0),this.buyCustomizationEntities()[n].nextMonthQuantity()},t.prototype.setCommittedQuantity=function(n,t){t===void 0&&(t=0);this.buyCustomizationEntities()[t].committedQuantity=n},t.prototype.getCommittedQuantity=function(n){return n===void 0&&(n=0),this.buyCustomizationEntities()[n].committedQuantity},t.prototype.getNewQuantityLimitExceeded=function(n){return(n===void 0&&(n=0),this.buyCustomizationEntities().length>0)?this.buyCustomizationEntities()[n].newQuantityLimitExceeded():!1},t.prototype.isPlanBasedMeter=function(){return this.userPlans().length>0},t.prototype.limitNewQuantity=function(n){this.enforceMaxAllowed()!==null&&this.enforceMaxAllowed()&&n.newQuantity()>this.maxAllowedQuantity()&&n.newQuantity(this.maxAllowedQuantity());n.newQuantity()<this.minAllowedQuantity()&&n.newQuantity(this.minAllowedQuantity())},t.prototype.updateButtonTextForSubsequentPurchase=function(){return e.UpdateButtonText},t.prototype.createBuyCustomizationConfirmationText=function(n,t,i){if(c.isBuyCustomizationAutoCompleteForAgileCardsEnabled(this.item())){var r=this._createBuyCustomizationConfirmationTeamSizeInfoText();return r+v.format(e.BuyCustomizationConfirmationTextSelectedPlanInfo,n,i)}return v.format(e.BuyCustomizationConfirmationText,n,t,i)},t.prototype.createBuyCustomizationConfirmationTextWithoutCurrency=function(n){if(c.isBuyCustomizationAutoCompleteForAgileCardsEnabled(this.item())){var t='<div class="buy-customization-highlighted-values">'+n+"<\/div>",i=this._createBuyCustomizationConfirmationTeamSizeInfoText();return i+v.format(e.BuyCustomizationConfirmationTextSelectedPlanInfoWithoutCurrency,t)}return v.format(e.BuyCustomizationConfirmationTextWithoutCurrency,n)},t.prototype._createBuyCustomizationConfirmationTeamSizeInfoText=function(){var n='<div class="buy-customization-highlighted-values">'+this.activeUsersQuantity+"<\/div>";return v.format(e.BuyCustomizationConfirmationTextTeamSizeInfo,v.htmlEncode(this.item().title),n)},t.prototype.updateViewModel=function(n){this.limitNewQuantity(n);this.newQuantityLimitExceeded(n.newQuantityLimitExceeded());n.newTotalPrice(this.getNewTotalPrice(n));n.buyCustomizationConfirmationText(this.getBuyCustomizationConfirmationText(n));n.changeToolTip(this.getChangeToolTip(n));this.confirmPurchaseText(this.getConfirmPurchaseText(n));this.upgradeDowngradeCancelMesg(this.getUpgradeDowngradeCancelMesg(n));this.updateCompleteButtonStatus(n);this.renewalMessage(this.getRenewalMessage(n));this.quantityBoxAriaLabel(this.getQuantityBoxAriaLabel(n))},t.prototype.isContinueButtonHidden=function(){return this.hideContinueButton()},t}(u.BuyCustomizationBaseViewModel),p,w;t.BuyCustomizationViewModel=y;p=function(n){function t(t){var i=n.call(this,t)||this;return i.renewalMessageTemplateName="monthly-offer-renewal-message-template",i}return __extends(t,n),t}(y);t.MonthlyOfferBuyCustomizationViewModel=p;w=function(){function n(){this.renewalDate=i.observable(null);this.committedQuantity=0;this.maxAllowedQuantity=i.observable(1e4);this.newQuantityLimitExceeded=i.observable(!1);this.newQuantity=i.observable(1).extend({gallerylimit:{maxValue:this.maxAllowedQuantity,limitExceeded:this.newQuantityLimitExceeded}});this.nextMonthQuantity=i.observable(0);this.newTotalPrice=i.observable("");this.availabledQuantities=i.observableArray([]);this.trialEndDate=i.observable(null);this.buyCustomizationConfirmationText=i.observable(null);this.changeToolTip=i.observable(null);this.ZERO_KEY_CODE=48;this.NINE_KEY_CODE=57;this.ZERO_KEY_CODE_OF_NUMKEYBOARD=96;this.NINE_KEY_CODE_OF_NUMKEYBOARD=105;this.BACKSPACE_KEY_CODE=8;this.ARROWUP_KEY_CODE=38;this.ARROWDOWN_KEY_CODE=40;this.TAB_KEY_CODE=9}return n.prototype.onBlur=function(n,t){t.target.value===""&&(t.target.value="0",this.newQuantity(0))},n.prototype.onKeyPress=function(n,t){if(t.keyCode===this.BACKSPACE_KEY_CODE||t.keyCode===this.ARROWUP_KEY_CODE||t.keyCode===this.ARROWDOWN_KEY_CODE||t.keyCode===this.TAB_KEY_CODE||t.keyCode>=this.ZERO_KEY_CODE&&t.keyCode<=this.NINE_KEY_CODE||t.keyCode>=this.ZERO_KEY_CODE_OF_NUMKEYBOARD&&t.keyCode<=this.NINE_KEY_CODE_OF_NUMKEYBOARD)return!0;t.preventDefault()},n}();t.BuyCustomizationEntity=w});
define("Gallery/Client/Controls/BuyCustomization/AnnualBuyCustomization.ViewModel",["require","exports","knockout","Gallery/Client/Controls/BuyCustomization/BuyCustomization.ViewModel","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/URLHelper","VSS/Events/Services","VSS/Utils/Date","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(t){var r=n.call(this,t)||this;return r.isChangeQuantity=i.observable(!1),r.renewalMonthHeader=u.RenewalMonth,r.buyCustomizationConfirmationHeader=u.BuyCustomizationChangeQuantityConfirmationHeader,r.EVENT_ON_ANNUAL_OFFER_SUBSCRIPTIONS_DATA_UPDATED="VSS.BuyCustomization.Annual.OfferSubscriptionsDataUpdated",r.quantityDropdownViewModels=[],r._totalChangedQuantity=0,r.isChangeQuantity(f.GalleryURLs.isChangeOfferQuantityRequest(window.location.href)),r.continueButtonDescribedBy("renewal-message"),r._priceUnit=u.Price_Unit_Annum,r.isChangeQuantity()&&(r.readonlyContainerTemplateName="annual-buy-customization-reduce-readonly-template",r.editContainerTemplateName="annual-buy-customization-reduce-edit-container-template",r.continueButtonDescribedBy("")),r.renewalMessageTemplateName="annual-offer-renewal-message-template",r}return __extends(t,n),t.prototype.startEdit=function(){n.prototype.startEdit.call(this);e.getService().fire(this.EVENT_ON_EDITCONTAINERVISIBLE)},t.prototype.updateCompleteButtonStatus=function(n){var i=this,t;this.isChangeQuantity()?(t=!0,this.buyCustomizationEntities().forEach(function(n){n.newQuantity()!==n.nextMonthQuantity()&&(t=i.newQuantityLimitExceeded())}),this.disableCompleteButton(t)):this.disableCompleteButton(n.newQuantityLimitExceeded())},t.prototype.getUpgradeDowngradeCancelMesg=function(n){var t=null;return this.newQuantityLimitExceeded()&&(t=s.format(u.TotalNumOfferSubscriptionsLimitExceedMessage,this.maxAllowedQuantity()+n.committedQuantity),n.committedQuantity>0&&(t=s.format(u.ExistingNumOfferSubscriptions,n.committedQuantity)+" "+t)),t},t.prototype.getRenewalMessage=function(){var t=this,n,i,r;if(this.isChangeQuantity()){if(this._totalChangedQuantity=0,this.buyCustomizationEntities().forEach(function(n){t._totalChangedQuantity=t._totalChangedQuantity+Math.abs(n.newQuantity()-n.nextMonthQuantity())}),this._totalChangedQuantity>0)return s.format(u.ReduceQuantityRenewalMessage,this._totalChangedQuantity)}else return n=o.shiftToUTC(o.getNowInUserTimeZone()),n.getDate()!==1&&(n.setDate(1),n.setMonth(n.getMonth()+1)),n.setFullYear(n.getFullYear()+1),i=o.format(n,"MMMM d, yyyy"),r=s.format(u.VSSOffer_Renewal_Date_Message,i),r;return""},t.prototype.getChangeToolTip=function(n){var t=null,r,i;return this.isChangeQuantity()&&(r=o.shiftToUTC(n.renewalDate()),i=o.format(r,"MMMM d"),n.newQuantity()===0?t=s.format(u.VSSOffer_Renewal_Cancel_Message,i):n.newQuantity()<n.nextMonthQuantity()&&(t=s.format(u.VSSOffer_Renewal_Downgrade_Date_Message,n.newQuantity(),n.nextMonthQuantity(),i)),t?this.continueButtonDescribedBy("renewal-message"):this.continueButtonDescribedBy("")),t},t.prototype.getQuantityBoxAriaLabel=function(n){return this.isChangeQuantity()?s.format(u.AnnualPurchaseReduceDropdownAriaLabel,n.monthName)+this.chooseQuantityHelpText():s.format(u.ExistingSubscriptionsQuantityHelpTextAriaLabel,this.existingOfferSubscriptionsTotal())+u.BuyCustomizationTextBoxAriaLabel},Object.defineProperty(t.prototype,"headerText",{get:function(){return this.isChangeQuantity()?u.BuyCustomizationReduceQuantityHeaderForAnnualSubcription:u.BuyCustomizationHeader},enumerable:!0,configurable:!0}),t.prototype.isPlanBasedMeter=function(){return!1},t.prototype.updateButtonTextForSubsequentPurchase=function(){return u.ContinueButtonText},t.prototype.createBuyCustomizationConfirmationText=function(n,t,i,r,f){if(this.isChangeQuantity()){var h=o.shiftToUTC(f.renewalDate()),e='<div class="buy-customization-highlighted-values">'+o.format(h,"MMMM d")+"<\/div>";return f.newQuantity()===0?s.format(u.BuyCustomizationChangeQuantityCancelConfirmationText,r,t,e):s.format(u.BuyCustomizationChangeQuantityConfirmationText,n,r,t,e,i)}return s.format(u.BuyCustomizationConfirmationText,n,t,i)},t}(r.BuyCustomizationViewModel);t.AnnualBuyCustomizationViewModel=h});
define("Gallery/Client/Controls/BreadCrumb/BreadCrumb.ViewModel",["require","exports","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","Gallery/Client/URLHelper","Gallery/Client/Service/VSSItem","VSS/Context","VSS/Diag","VSS/Adapters/Knockout"],function(n,t,i,r,u,f,e,o,s){var c=function(n){function t(t){var i=n.call(this)||this;return i.ARROWLEFT_KEY_CODE=37,i.ARROWRIGHT_KEY_CODE=39,i.members=t.slice(),i}return __extends(t,n),t.prototype.breadcrumbKeyHandler=function(n,t){var i=t.which?t.which:t.keyCode,r=$(t.target);return i===this.ARROWLEFT_KEY_CODE?this._moveLeft(r):i===this.ARROWRIGHT_KEY_CODE&&this._moveRight(r),!0},t.prototype._moveRight=function(n){var t=n.nextAll(".member").first();t[0]&&(this._setTabIndexOfSiblings(t),t.focus())},t.prototype._moveLeft=function(n){var t=n.prevAll(".member").first();t[0]&&(this._setTabIndexOfSiblings(t),t.focus())},t.prototype._setTabIndexOfSiblings=function(n){n.siblings().attr("tabindex","-1");n.attr("tabindex","0")},t}(s.TemplateViewModel),h;t.BreadCrumbViewModel=c;h=function(){function n(){}return n.getBreadCrumbOptionsForItem=function(n,t){var h=[],o,s,l,c;return n&&(o=u.GalleryURLs.getHomePageVSTSTabURL(),s=r.VSTS_Header,e.getPageContext().webAccessConfiguration.isHosted?n.itemType===f.VSSItemType.VSCodeExtension?(s=r.VSCode_Header,o=u.GalleryURLs.getHomePageVSCodeTabURL()):n.itemType===f.VSSItemType.VSSOffer?(s=r.Subs_Header,o=u.GalleryURLs.getHomePageVSSubscriptionsTabURL()):n.itemType===f.VSSItemType.VSIdeExtension&&(s=r.VS_Header,o=u.GalleryURLs.getHomePageVSTabURL()):(s=i.HeaderProductNameOnPrem,o=u.GalleryURLs.getHomePageURL()),h.push({text:s,url:o}),n.itemType!==f.VSSItemType.VSSOffer&&(l=n.itemType===f.VSSItemType.VSCodeExtension?u.GalleryURLs.getVSCodeCategoryURL:n.itemType===f.VSSItemType.VSIdeExtension?u.GalleryURLs.getVSCategoryURL:u.GalleryURLs.getVssCategoryURL,c=n.categories&&n.categories.length>0?n.categories[0]:i.OtherItemCategory,h.push({text:c,url:l(c)})),h.push({text:n.title,url:t?u.GalleryURLs.getItemDetailsURL(f.ItemModelHelper.getFullyQualifiedNameForItem(n.publisherName,n.name)):""}),t&&h.push({text:t,url:""})),h},n}();t.BreadCrumbVSSItemHelper=h});
define("Gallery/Client/Controls/BuyCustomization/BuyCustomization.View",["require","exports","Gallery/Client/Controls/BuyCustomizationBase/BuyCustomizationBase.View","VSS/Controls","VSS/Events/Services","VSS/Adapters/Knockout","VSS/Controls/PopupContent","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o){var s=o.delegate,h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._buyCustomizationViewModel=this.buyCustomizationBaseViewModel;this._buyCustomizationViewModel.quantitySelectionTooltip&&this._initializePopupControlForQuantitySelectionTooltip();this._offerSubscriptionsDataUpdatedCallback=s(this,this._onExistingOfferSubscriptionsDataUpdated);this._onEditContainerVisible=s(this,this._setFocusOnDropDown);u.getService().attachEvent(this._buyCustomizationViewModel.EVENT_ON_ANNUAL_OFFER_SUBSCRIPTIONS_DATA_UPDATED,this._offerSubscriptionsDataUpdatedCallback);u.getService().attachEvent(this._buyCustomizationViewModel.EVENT_ON_EDITCONTAINERVISIBLE,this._onEditContainerVisible)},t.prototype._initializePopupControlForQuantitySelectionTooltip=function(){var i=this.getElement(),n=i.find(".quantity-selection-tooltip").first(),t;n.length>0&&(t=r.Enhancement.enhance(e.RichContentTooltip,n,{cssClass:"buy-customization-help-tooltip",content:this._buyCustomizationViewModel.quantitySelectionTooltip,openCloseOnHover:!1,elementAlign:"left-bottom",baseAlign:"right-top"}),this._quantitySelectionTooltipControl=t)},t.prototype._onExistingOfferSubscriptionsDataUpdated=function(){var n=this,t;this._buyCustomizationViewModel.buyCustomizationEntities().length>0&&(t=0,this._buyCustomizationViewModel.buyCustomizationEntities().forEach(function(i){var u=$("#"+i.monthName),r=n._setMonthDropDownOptions(i),e=f.TemplateControl.applyRegisteredBinding("filter-control-template",u,r);n._buyCustomizationViewModel.quantityDropdownViewModels.push(e.getViewModel());n._buyCustomizationViewModel.quantityDropdownViewModels[t].addOrUpdateFilter(r,0);t++}))},t.prototype._setMonthDropDownOptions=function(n){return{filterId:"quantity-selection-dropdown",filterName:"",selectedItemIndex:{filterIndex:0},itemsList:this._convertDropdownItemArrayToIFilterElements(n.availabledQuantities()),isEnabled:!0,filterChangeCallBack:function(t){n.newQuantity(n.availabledQuantities()[t.filterIndex])},isCompleteFocus:!0,ariaLabel:this._buyCustomizationViewModel.getQuantityBoxAriaLabel(n)}},t.prototype._convertDropdownItemArrayToIFilterElements=function(n){var t=[],i=0;return n.forEach(function(n){var r={elementLabel:n.toString(),elementHoverTitle:n.toString(),index:i++,elementHtml:n.toString()};t.push(r)}),t},t.prototype._setFocusOnDropDown=function(){var n=this.getElement();n&&n.find(".filter-menu").first().focus()},t.prototype._cleanup=function(){this._quantitySelectionTooltipControl&&(this._quantitySelectionTooltipControl.dispose(),delete this._quantitySelectionTooltipControl);$("quantity-selection-tooltip").remove()},t}(i.BuyCustomizationBase);t.BuyCustomization=h});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorBase",["require","exports","q","Gallery/Client/Common/Telemetry","Gallery/Client/Service/VSSItem"],function(n,t,i,r,u){var e=r.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,f=function(){function n(n){this._item=n.item;this._workflowType=n.workflowType;this._galleryId=u.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name)}return n.prototype.CreateStep=function(){return this._acquireCompletionButtons=this._getAcquireButtons(),this._accountLinks=this._getCompletionLinks(),this._completionMessage=this._getCompletionMessage(),this._readyToGoText=this._getReadyToGoText(),i.resolve(this._getAcquireItemCompletionMessageStepDefinition())},n.prototype._getAcquireItemCompletionMessageStepDefinition=function(){var n={completionMessage:this._completionMessage,completionLinks:this._accountLinks,acquireCompletionButtons:this._acquireCompletionButtons,readyToGoText:this._readyToGoText};return n=this._updateOptionsForAcquireItemCompletionMessage(n),{stepTemplateName:"acquire-item-completion-message",stepViewModelOptions:n}},n.prototype._updateOptionsForAcquireItemCompletionMessage=function(n){return n},n.prototype._getReadyToGoText=function(){return null},n}();t.AcquisitionCompletionStepCreatorBase=f});
define("Gallery/Client/Common/ServerConstants",["require","exports"],function(n,t){var i,r,u,f,e;(function(n){n.TrialExpiryDate="TrialExpiryDate"})(i=t.AcquisitionConstants||(t.AcquisitionConstants={})),function(n){n[n.General=1]="General";n[n.Abusive=2]="Abusive";n[n.Spam=4]="Spam"}(r=t.ConcernCategory||(t.ConcernCategory={})),function(n){n[n.None=0]="None";n[n.Private=1]="Private";n[n.Public=2]="Public";n[n.Preview=4]="Preview";n[n.Released=8]="Released";n[n.FirstParty=16]="FirstParty";n[n.All=31]="All"}(u=t.ExtensionPolicyFlags||(t.ExtensionPolicyFlags={})),function(n){n[n.None=0]="None";n[n.FilterEmptyReviews=1]="FilterEmptyReviews";n[n.FilterEmptyUserNames=2]="FilterEmptyUserNames"}(f=t.ReviewFilterOptions||(t.ReviewFilterOptions={})),function(n){n[n.FlagReview=1]="FlagReview";n[n.UpdateReview=2]="UpdateReview"}(e=t.ReviewPatchOperation||(t.ReviewPatchOperation={}));t.TypeInfo={ConcernCategory:{enumValues:{general:1,abusive:2,spam:4}},ExtensionIdentifier:{fields:null},ExtensionPolicy:{fields:null},ExtensionPolicyFlags:{enumValues:{none:0,private:1,public:2,preview:4,released:8,firstParty:16,all:31}},Review:{fields:null},ReviewFilterOptions:{enumValues:{none:0,filterEmptyReviews:1,filterEmptyUserNames:2}},ReviewPatch:{fields:null},ReviewPatchOperation:{enumValues:{flagReview:1,updateReview:2}},ReviewsResult:{fields:null},UserExtensionPolicy:{fields:null},UserReportedConcern:{fields:null}};t.TypeInfo.ExtensionPolicy.fields={install:{enumType:t.TypeInfo.ExtensionPolicyFlags},request:{enumType:t.TypeInfo.ExtensionPolicyFlags}};t.TypeInfo.Review.fields={updatedDate:{isDate:!0}};t.TypeInfo.ReviewPatch.fields={operation:{enumType:t.TypeInfo.ReviewPatchOperation},reportedConcern:{typeInfo:t.TypeInfo.UserReportedConcern},reviewItem:{typeInfo:t.TypeInfo.Review}};t.TypeInfo.ReviewsResult.fields={reviews:{isArray:!0,typeInfo:t.TypeInfo.Review}};t.TypeInfo.UserExtensionPolicy.fields={permissions:{typeInfo:t.TypeInfo.ExtensionPolicy}};t.TypeInfo.UserReportedConcern.fields={category:{enumType:t.TypeInfo.ConcernCategory},submittedDate:{isDate:!0}}});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopeFree",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorBase","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSItem","Gallery/Client/Service/VSSItem","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/Diag","Gallery/Client/Common/ServerConstants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,w=function(n){function t(t){var i=n.call(this,t)||this;return i._extensionUrlPathQuery="/index?id=",i._isNewAccount=t.isNewAccount,i._selectedTarget=t.selectedTarget,i._acquisitionOption=t.acquisitionOption,i._extensionAcquisitionRequest=t.extensionAcquisitionRequest,i}return __extends(t,n),t.prototype._updateOptionsForAcquireItemCompletionMessage=function(n){return $.extend(n,{accountName:this._selectedTarget.name,extensionName:this._item.name,publisherName:this._item.publisherName})},t.prototype._getAcquireButtons=function(){var t=this._item,n=[];return this._acquisitionOption===h.VSSItemAcquisitionOption.Request?n.push({linkText:u.VSS_Install_ViewRequest,linkUrl:this._selectedTarget.uri+this._getRequestExtensionUrl(),openInNewTab:!0,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.VIEW_REQUEST)}):n.push(this._getAcquisitionButtonForInstall()),n},t.prototype._getAcquireItemCompletionMessageStepDefinition=function(){var i=n.prototype._getAcquireItemCompletionMessageStepDefinition.call(this),r=i.stepViewModelOptions,t;return this._acquisitionOption===h.VSSItemAcquisitionOption.Try&&(t=this._getTrialCompletionStatus(this._extensionAcquisitionRequest),r.trialSuccessMessage=t.trialSuccessMessage,r.trialExpiryDate=t.trialExpiryDate),i},t.prototype._getCompletionLinks=function(){var n=this._item,t=[];return n.properties&&n.properties[s.ItemConstants.PROPERTY_LEARN_LINK]&&t.push({linkText:u.ExtensionLearnMoreDescriptiveText,linkUrl:n.properties[s.ItemConstants.PROPERTY_LEARN_LINK],openInNewTab:!0,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.LEARN_MORE)}),t.push({linkText:u.AcquireCompletionBrowseMarketplace,linkUrl:this._getDiscoverMoreLink(),openInNewTab:!1,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.DISCOVER_MORE_EXTENSIONS)}),t},t.prototype._getCompletionMessage=function(){return this._acquisitionOption===h.VSSItemAcquisitionOption.Request?u.VSS_Install_RequestSuccessMessage:u.ExtensionInstallSuccessMessage},t.prototype._getAcquisitionButtonForInstall=function(){var n=this._item;return n.properties&&n.properties[s.ItemConstants.PROPERTY_GET_STARTED_LINK]?{linkText:u.GetStartedButtonText,linkUrl:n.properties[s.ItemConstants.PROPERTY_GET_STARTED_LINK],openInNewTab:!0,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.GET_STARTED)}:{linkText:u.ProceedToAccountButtonText,linkUrl:this._selectedTarget.uri,openInNewTab:!0,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.PROCEED_TO_ACCOUNT)}},t.prototype._onAcquisitionOptionClick=function(n){var t={};return t[p.LinkType]=n,t[p.WorkFlowType]=this._workflowType,t[p.Id]=h.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name),t[p.AccountId]=this._selectedTarget.id,t[p.IsNewAccount]=this._isNewAccount?1:0,t[p.ProductType]=h.ItemModelHelper.getItemTypeText(this._item.itemType),e.TelemetryHelper.publishEvent(f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.POST_INSTALL_WORKFLOW,t,!0),!0},t.prototype._getRequestExtensionUrl=function(){return r.GalleryRequestUrlsConstants.RequestExtensionURLWithDefaultCollection},t.prototype._getDiscoverMoreLink=function(){return o.UrlUtils.getDiscoverMoreLink("All categories","Downloads","cloud")},t.prototype._getTrialCompletionStatus=function(n){var t="",r="",i=this._getTrialExpiryDate(n),f;return i&&(h.ItemModelHelper.isFirstPartyPublisher(this._item.publisherDisplayName)||this._item.offerDetails.hasPublicPlans)?(f=a.daysBetweenDates(a.stripTimeFromDate(new Date),i,!0),t=l.format(u.TrialAcquisitionSuccessMessage,f),r=i.toLocaleDateString()):t=u.TrialAcquisitionSuccessMessageIndefinite,{trialSuccessMessage:t,trialExpiryDate:r}},t.prototype._getTrialExpiryDate=function(n){var t=n.properties?n.properties[y.AcquisitionConstants.TrialExpiryDate]:"",i=null;if(v.logInfo("Trial expiryDate = "+t),t)try{i=a.parseDateString(t)}catch(r){i=null}return i},t}(i.AcquisitionCompletionStepCreatorBase);t.AcquisitionCompletionStepCreatorForAccountScopeFree=w});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopePaid",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopeFree","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Service/VSSItem","Gallery/Client/Service/VSSItem","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){var l=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,a=function(n){function t(t){var i=n.call(this,t)||this;return i._buyCustomizationCompletionDetails=t.buyCustomizationCompletionDetails,i._selectedSubscription=t.selectedSubscription,i._isNewSubscription=t.isNewSubscription,i._initialize(),i}return __extends(t,n),t.prototype._getCompletionMessage=function(){return this._acquisitionOption===s.VSSItemAcquisitionOption.Request?u.VSS_Install_RequestSuccessMessage:this._totalPurchaseQuantity===0?c.format(u.CancelSuccessMessageForAccount,c.htmlEncode(this._item.title)):c.format(u.ExtensionBuySuccessMessage,this._totalPurchaseQuantity,c.htmlEncode(this._item.title))},t.prototype._getTotalPurchaseQuantity=function(){return this._buyCustomizationCompletionDetails?this._buyCustomizationCompletionDetails.purchaseDetails[0].newPurchaseQuantity:0},t.prototype._onAcquisitionOptionClick=function(n){var t={};return t[l.LinkType]=n,t[l.WorkFlowType]=this._workflowType,t[l.Id]=s.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name),t[l.AccountId]=this._selectedTarget.id,t[l.IsNewAccount]=this._isNewAccount?1:0,t[l.ProductType]=s.ItemModelHelper.getItemTypeText(this._item.itemType),t[l.Quantity]=this._totalPurchaseQuantity,t[l.IsNewSubscription]=this._isNewSubscription?1:0,t[l.IsSubsequentPurchase]=this._isSubsequentPurchase?1:0,e.TelemetryHelper.publishEvent(f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.POST_INSTALL_WORKFLOW,t,!0),!0},t.prototype._getAcquireButtons=function(){var t=this._item,n=[],i,f;return this._acquisitionOption===s.VSSItemAcquisitionOption.Request?n.push({linkText:u.VSS_Install_ViewRequest,linkUrl:this._selectedTarget.uri+this._getRequestExtensionUrl(),openInNewTab:!0,onClick:h.curry(h.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.VIEW_REQUEST)}):this._totalPurchaseQuantity&&this._totalPurchaseQuantity>0&&(i=this._selectedTarget,f=i.userHubUrl+this._extensionUrlPathQuery+this._galleryId,n.push({linkText:u.AssignUsersButtonText,linkUrl:f,openInNewTab:!0,onClick:h.curry(h.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.ASSIGN_TO_USERS)})),this._acquisitionOption!==s.VSSItemAcquisitionOption.Request&&(t.properties&&t.properties[o.ItemConstants.PROPERTY_GET_STARTED_LINK]?n.push({linkText:u.GetStartedButtonText,linkUrl:t.properties[o.ItemConstants.PROPERTY_GET_STARTED_LINK],openInNewTab:!0,onClick:h.curry(h.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.GET_STARTED)}):n.push({linkText:u.ProceedToAccountButtonText,linkUrl:this._selectedTarget.uri,openInNewTab:!0,onClick:h.curry(h.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.PROCEED_TO_ACCOUNT)})),n},t.prototype._initialize=function(){this._totalPurchaseQuantity=this._getTotalPurchaseQuantity();this._isSubsequentPurchase=this._buyCustomizationCompletionDetails?this._buyCustomizationCompletionDetails.isSubsequentPurchase:!1},t}(i.AcquisitionCompletionStepCreatorForAccountScopeFree);t.AcquisitionCompletionStepCreatorForAccountScopePaid=a});
define("Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerBase",["require","exports","q","Gallery/Client/Controls/BuyCustomization/BuyCustomization.ViewModel","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Service/VSSItem","Gallery/Client/Common/AcquisitionTelemetry","VSS/Utils/Core","Gallery/Client/Common/Constants"],function(n,t,i,r,u,f,e,o,s){var h=function(){function n(n){this._showChooseQuantityHelpText=!1;this._buyCustomizationViewModel=n.stepViewModel;this._onStepComplete=n.onBuyCustomizationComplete;this._selectedSubscription=n.selectedSubscription;this._item=n.item;this._quantitySelectionStepInitOptions=n;this._commerceDataProvider=n.commerceDataProvider;this._onQuantityDetailsAvailable=n.onQuantityDetailsAvailable?n.onQuantityDetailsAvailable:$.noop;this._onStepStartedDeferred=i.defer();this._initialize()}return n.prototype._initialize=function(){var n=this;this._quantitySelectionStepInitOptions.enforceMaxAllowed!==null&&this._quantitySelectionStepInitOptions.enforceMaxAllowed!==undefined&&this._buyCustomizationViewModel.enforceMaxAllowed(this._quantitySelectionStepInitOptions.enforceMaxAllowed);this._quantitySelectionStepInitOptions.purchaseType&&this._buyCustomizationViewModel.purchaseType(this._quantitySelectionStepInitOptions.purchaseType);this._quantitySelectionStepInitOptions.showChooseQuantityHelpText!==null&&this._quantitySelectionStepInitOptions.showChooseQuantityHelpText!==undefined&&(this._showChooseQuantityHelpText=this._quantitySelectionStepInitOptions.showChooseQuantityHelpText);this._quantitySelectionStepInitOptions.minAllowedQuantity!==null&&this._quantitySelectionStepInitOptions.minAllowedQuantity!==undefined&&this._buyCustomizationViewModel.minAllowedQuantity(this._quantitySelectionStepInitOptions.minAllowedQuantity);this._quantitySelectionStepInitOptions.maxAllowedQuantity!==null&&this._quantitySelectionStepInitOptions.maxAllowedQuantity!==undefined&&this._buyCustomizationViewModel.maxAllowedQuantity(this._quantitySelectionStepInitOptions.maxAllowedQuantity);this._quantitySelectionStepInitOptions.pricingNotAvailableText&&this._buyCustomizationViewModel.pricingNotAvailableText(this._quantitySelectionStepInitOptions.pricingNotAvailableText);this._quantitySelectionStepInitOptions.showAssignMessage!==null&&this._quantitySelectionStepInitOptions.showAssignMessage!==undefined&&this._buyCustomizationViewModel.showAssignMessage(this._quantitySelectionStepInitOptions.showAssignMessage);this._selectedSubscription.isPrepaidFundSubscription&&this._buyCustomizationViewModel.prepaidBalanceInfoMsg(u.PrepaidBalanceInfoMsg);this._selectedSubscription.isPricingAvailable&&this._buyCustomizationViewModel.isPricingAvailable(this._selectedSubscription.isPricingAvailable);this._buyCustomizationViewModel.maxNum(this._quantitySelectionStepInitOptions.maxAllowedQuantity);this._buyCustomizationViewModel.chooseQuantityHelpText(this._getChooseQuantityHelpText());this._buyCustomizationViewModel.isContinueButtonHidden()?this._buyCustomizationViewModel.subscribe(this._buyCustomizationViewModel.buyCustomizationEntities,function(){n._disposable&&n._disposable.dispose();n._disposable=n._buyCustomizationViewModel.subscribe(n._buyCustomizationViewModel.buyCustomizationEntities()[0].newQuantity,function(){n._onStepComplete(n.onBuyCustomizationComplete())})}):this._buyCustomizationViewModel.subscribe(this._buyCustomizationViewModel.isCompleted,function(){if(n._buyCustomizationViewModel.isCompleted()){var t=n.onBuyCustomizationComplete();n._publishCiEventOnQuantityChangeComplete(t.purchaseDetails,n._selectedSubscription);n._onStepComplete(t)}});this._buyCustomizationViewModel.subscribe(this._buyCustomizationViewModel.readonlyContainerVisible,function(){n._buyCustomizationViewModel.readonlyContainerVisible()&&n._buyCustomizationViewModel.isCompleted()&&n._logBuyCustomizationTelemetry()})},n.prototype.onBuyCustomizationComplete=function(){return this._getBuyCustomizationCompletionDetails()},n.prototype._getBuyCustomizationCompletionDetails=function(){var n={newPurchaseQuantity:this._buyCustomizationViewModel.getNewQuantity(),previousPurchaseQuantity:this._buyCustomizationViewModel.getNextMonthQuantity()};return{purchaseDetails:[n],includedQuantity:this._buyCustomizationViewModel.includedQuantity(),isAssignedToMe:!this._buyCustomizationViewModel.isNotAssignedToMe(),isSubsequentPurchase:this._buyCustomizationViewModel.isSubsequentPurchase()}},n.prototype._logBuyCustomizationTelemetry=function(){e.CiUtil.publishTelemetryForBuyCustomization(this._quantitySelectionStepInitOptions)},n.prototype.StartStep=function(){var n=this,t,r,f;return this._onBuyCustomizationStart(),t=[],r=this._commerceDataProvider.getItemPrice(this._item,null,this._selectedSubscription.subscriptionId,this._selectedSubscription.offerCode,this._selectedSubscription.tenantId,this._selectedSubscription.objectId),f=function(t){n._handleError(t);n._onStepStartedDeferred.reject(t)},r.then(function(r){n._onPricingInformationAvailable(r,t);n._setPurchaseTypeConfirmationText(n._commerceDataProvider.isPlanBasedMeter(r));i.allSettled(t).done(function(t){n._buyCustomizationViewModel.purchaseDetailsLoadingSpinner.stopSpinner();n._areAllPromisesFulfilled(t)?(n._buyCustomizationViewModel.startEdit(),n._buyCustomizationViewModel.isSubsequentPurchase()||n._buyCustomizationViewModel.isContinueButtonHidden()&&n._onStepComplete(n.onBuyCustomizationComplete()),n._onStepStartedDeferred.resolve(null)):(n._buyCustomizationViewModel.buyCustomizationErrorMessage(u.AcquireItemGenericError),n._onStepStartedDeferred.reject(null));n._onQuantityDetailsAvailable()},o.delegate(n,f))},function(t){e.CiUtil.publishTelemetryOnError(n._item,t,s.AcquisitionStepIds.BuyCustomization,s.AcquisitionErrorTypes.SystemError,"BuyCustomizationStepPerformerBase.StartStep",n._getSelectedTarget(),n._selectedSubscription);n._handleError(t);n._onStepStartedDeferred.reject(t)}),this._onStepStartedDeferred.promise},n.prototype._postProcessPrice=function(){var n=i.defer();return n.resolve(null),n.promise},n.prototype.onStepStarted=function(){return this._onStepStartedDeferred.promise},n.prototype._getSelectedTarget=function(){return null},n.prototype._onPricingInformationAvailable=function(n,t){var r=this,u=i.defer(),f=this._getQuantities();t.push(f);t.push(u.promise);this._postProcessPrice(n).then(function(){f.then(function(t){r._onPurchaseDetailsAvailable(t,n)});r._setPrice(n);u.resolve(null)},function(n){r._handleError(n);r._onStepStartedDeferred.reject(n)})},n.prototype._handleError=function(){this._buyCustomizationViewModel.purchaseDetailsLoadingSpinner.stopSpinner(!0);this._buyCustomizationViewModel.buyCustomizationErrorMessage(u.AcquireItemGenericError)},n.prototype._onPurchaseDetailsAvailable=function(n){var t=n.currentBillingPeriodDetails,i=new r.BuyCustomizationEntity,u;t&&(t.quantity>0&&this._buyCustomizationViewModel.isSubsequentPurchase(!0),this._buyCustomizationViewModel.includedQuantity(t.includedQuantity),t.maximumQuantity>0&&!this._quantitySelectionStepInitOptions.maxAllowedQuantity?this._buyCustomizationViewModel.maxAllowedQuantity(t.maximumQuantity-t.includedQuantity):this._buyCustomizationViewModel.maxAllowedQuantity(this._buyCustomizationViewModel.maxAllowedQuantity()-t.includedQuantity));i.committedQuantity=t.quantity;u=n.nextBillingPeriodDetails;u&&(i.maxAllowedQuantity(this._buyCustomizationViewModel.maxAllowedQuantity()),i.nextMonthQuantity(u.quantity),this._buyCustomizationViewModel.buyCustomizationEntities([i]));this._buyCustomizationViewModel.isSubsequentPurchase()&&this._setPropertiesForSubsequentPurchase()},n.prototype._setPropertiesForSubsequentPurchase=function(){this._buyCustomizationViewModel.minAllowedQuantity(0);this._buyCustomizationViewModel.appendCancellationPlan();this._buyCustomizationViewModel.setNewQuantity(this._buyCustomizationViewModel.getNextMonthQuantity());this._buyCustomizationViewModel.chooseQuantityHelpText(this._getChooseQuantityHelpText())},n.prototype._getChooseQuantityHelpText=function(){return this._showChooseQuantityHelpText?this._buyCustomizationViewModel.isSubsequentPurchase()?this._buyCustomizationViewModel.isPlanBasedMeter()?"":u.UpdateLicensesHelpText:u.UserLicensesQuantityHelpText:""},n.prototype._setPurchaseTypeConfirmationText=function(n){this._buyCustomizationViewModel.purchaseTypeConfirmationText=n?u.UsersText:u.ExtensionUsersText;this._item&&this._item.properties&&this._item.properties[f.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYLABEL]&&(this._buyCustomizationViewModel.purchaseTypeConfirmationText=this._item.properties[f.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYLABEL],this._buyCustomizationViewModel.purchaseType(this._item.properties[f.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYLABEL]))},n.prototype._setPrice=function(n){if(n){if(n.currencyCode&&(this._buyCustomizationViewModel.currencyCode=n.currencyCode),n.locale&&(this._buyCustomizationViewModel.locale=n.locale),n.details){var t=this._commerceDataProvider.isPlanBasedMeter(n);this._buyCustomizationViewModel.setMeterPrice(n.details,t);this._buyCustomizationViewModel.isMeterAvailable(!0)}n.maximumQuantity&&!this._quantitySelectionStepInitOptions.maxAllowedQuantity&&this._buyCustomizationViewModel.maxAllowedQuantity(n.maximumQuantity)}},n.prototype._onBuyCustomizationStart=function(){this._buyCustomizationViewModel.isActive(!0);this._buyCustomizationViewModel.item(this._item);this._buyCustomizationViewModel.purchaseDetailsLoadingSpinner.startSpinner();this._buyCustomizationViewModel.isCompleted(!1)},n.prototype._areAllPromisesFulfilled=function(n){var t=!0;return $.each(n,function(n,i){i.state!=="fulfilled"&&(t=!1)}),t},n.prototype._publishCiEventOnQuantityChangeComplete=function(){},n.prototype.setUserPlansInputParameters=function(){this._buyCustomizationViewModel.minAllowedQuantity(0);this._buyCustomizationViewModel.setNewQuantity(this._buyCustomizationViewModel.getNextMonthQuantity())},n}();t.BuyCustomizationStepPerformerBase=h});
define("Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForAccountScope",["require","exports","q","Gallery/Client/Service/VSSItem","Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerBase","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Common/Utility","Gallery/Client/Common/Utility.Common","Gallery/Client/Common/Constants"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(t){var i=n.call(this,t)||this;return i._accountScopedBuyCustomizationStepPerformerOptions=t,i._selectedAccount=t.selectedAccount,i.onStepStarted().then(function(){var n=i._buyCustomizationViewModel.userPlans()&&i._buyCustomizationViewModel.userPlans().length===1?!0:!1;n&&i._buyCustomizationViewModel.completeStep()}),i}return __extends(t,n),t.prototype._getActiveUserCount=function(){var t=this,u=r.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name),n=i.defer();return e.isPureHosted()&&r.ItemModelHelper.isVSSExtension(this._item.itemType)?this._commerceDataProvider.getValidUsersCount(this._selectedAccount.id,u).then(function(t){n.resolve(t)},function(i){f.CiUtil.publishTelemetryOnError(t._item,i,s.AcquisitionStepIds.BuyCustomization,s.AcquisitionErrorTypes.SystemError,"BuyCustomizationStepPerformerForAccountScope._getActiveUserCount",t._selectedAccount,t._selectedSubscription);n.reject(i)}):n.resolve(0),n.promise},t.prototype._onActiveUserDetailsAvailable=function(n){r.ItemModelHelper.isVSSExtension(this._item.itemType)&&(this._buyCustomizationViewModel.activeUsersQuantity=n,this._buyCustomizationViewModel.isActiveUserInfoVisible(!0),this._buyCustomizationViewModel.setActiveUsersCount(this._buyCustomizationViewModel.activeUsersQuantity))},t.prototype._postProcessPrice=function(){var t=this,n=i.defer(),r=this._getActiveUserCount();return r.then(function(i){t._onActiveUserDetailsAvailable(i);n.resolve(null)},function(i){t._handleError(i);n.reject(null)}),n.promise},t.prototype._updatePricingPlanDetails=function(n,t){if(n&&n.details){var i=this._getDefaultPlanIndex(n,t);n.details=[n.details[i]]}},t.prototype._getDefaultPlanIndex=function(n,t){for(var r=n.details.length,u=this._getExpectedDefaultQuantity(t),i=0;i<r;i++)if(u<=n.details[i].key)return i;return r-1},t.prototype._getExpectedDefaultQuantity=function(n){var t=this._buyCustomizationViewModel.activeUsersQuantity-n;return t>0?t:1},t.prototype._getQuantities=function(){var n=this,t=[],r={currentBillingPeriodDetails:{},nextBillingPeriodDetails:{}},u=i.defer(),o=this._commerceDataProvider.getAccountScopedPurchaseDetails(this._item,this._selectedAccount.id,!1),e;return o.then(function(n){r.currentBillingPeriodDetails=n}),t.push(o),e=this._commerceDataProvider.getAccountScopedPurchaseDetails(this._item,this._selectedAccount.id,!0),e.then(function(n){r.nextBillingPeriodDetails=n}),t.push(e),i.allSettled(t).then(function(t){n._areAllPromisesFulfilled(t)?u.resolve(r):(t&&$.each(t,function(t,i){i.state==="rejected"&&f.CiUtil.publishTelemetryOnError(n._item,i.reason,s.AcquisitionStepIds.BuyCustomization,s.AcquisitionErrorTypes.SystemError,"BuyCustomizationStepPerformerForAccountScope._getQuantities",n._selectedAccount,n._selectedSubscription)}),u.reject(""))}),u.promise},t.prototype._logBuyCustomizationTelemetry=function(){f.CiUtil.publishTelemetryForAccountScopedBuyCustomization(this._accountScopedBuyCustomizationStepPerformerOptions)},t.prototype._getSelectedTarget=function(){return this._selectedAccount},t.prototype._onPurchaseDetailsAvailable=function(t,i){var u=t.currentBillingPeriodDetails,f=this._commerceDataProvider.isPlanBasedMeter(i),s=i&&e.isPureHosted()&&e.FeatureFlagUtils.isBuyWorkflowChangesForReadOnlyQuantityEnabled();s&&(e.isAgileCardsItem(this._item)||o.FeatureFlagUtils.isFeatureFlagEnabled(location.href,o.FeatureFlagUtils.EnableBuyCustomizationAutoComplete))&&(this._updatePricingPlanDetails(i,u.includedQuantity),this._buyCustomizationViewModel.setMeterPrice(i.details,f));n.prototype._onPurchaseDetailsAvailable.call(this,t);s&&r.ItemModelHelper.isVSSExtension(this._item.itemType)&&!r.ItemModelHelper.isTestManager(this._item)&&this._buyCustomizationViewModel.setNewQuantity(this.getDefaultQuantity(i,u.includedQuantity));u.trialEndDate!==null&&this._buyCustomizationViewModel.setTrialEndDate(u.trialEndDate);f&&u.renewalDate!==null&&this._buyCustomizationViewModel.setRenewalDate(u.renewalDate)},t.prototype.getDefaultQuantity=function(n,t){var i=1,u,r;return this._commerceDataProvider.isPlanBasedMeter(n)?n.details&&(u=this._getDefaultPlanIndex(n,t),i=n.details[u].key):(i=this._getExpectedDefaultQuantity(t),r=n.maximumQuantity-t,i=r>i?i:r),i},t}(u.BuyCustomizationStepPerformerBase);t.BuyCustomizationStepPerformerForAccountScope=h});
define("Gallery/Client/Controls/AcquireItemWizard/StepValidatorBase",["require","exports","VSS/Events/Handlers"],function(n,t,i){var r=function(){function n(){}return n.prototype.validate=function(){throw new Error("Validate method not implemented");},n.prototype.AddHandlerOnValidationComplete=function(n){this._onValidationCompleteEventCollection||(this._onValidationCompleteEventCollection=new i.NamedEventCollection);this._onValidationCompleteEventCollection.subscribe(this._getValidationCompletionEventName(),n)},n.prototype._getValidationCompletionEventName=function(){return""},n.prototype._fireOnValidationComplete=function(n){this._onValidationCompleteEventCollection.invokeHandlers(this._getValidationCompletionEventName(),this,n)},n}();t.StepValidatorBase=r});
define("Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelectionStepPerformer",["require","exports","q","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSItem","VSS/Commerce/Contracts","VSS/Utils/Core","VSS/Utils/String","Gallery/Client/Common/Constants","Gallery/Client/Service/HttpClientProvider/HttpClientProvider","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Controls/AcquireItemWizard/StepValidatorBase","Gallery/Client/Common/AccessibilityUtils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y=function(n){function t(t){var i=n.call(this)||this;return i._commerceDataProvider=t.commerceDataProvider,i._item=t.item,i._onValidationError=t.onValidationError||$.noop,i}return __extends(t,n),t.prototype.getToken=function(n){return c.TokenProvider.getToken(null,n.tenantId,n.subscriptionId)},t.prototype._beginCheckAndRedirectTenantIfRequired=function(n){var t=i.defer();return this.getToken(n).then(function(){t.resolve(!0)},function(n){t.reject(n)}),t.promise},t.prototype.validate=function(n){var t=this,u={isValid:!1},r=i.defer(),f=function(){t._getSubscriptionDetails(n).then(function(n){if(n)n.failedPurchaseReason===e.PurchaseErrorReason.None&&(u.isValid=!0),u.subscription=n,r.resolve(u),t._fireOnValidationComplete(u);else{var i=new Error("Subscription should not be null when retrieving subscription details");t._onValidationError(i);r.reject(i)}},function(n){t._onValidationError(n);r.reject(n)})};return this._beginCheckAndRedirectTenantIfRequired(n.selectedSubscription()).then(function(){f()},function(n){t._onValidationError(n);r.reject(n)}),r.promise},t.prototype._getValidationCompletionEventName=function(){return t.OnValidationComplete},t.prototype._getSubscriptionDetails=function(n){return n.selectedSubscription()?this._commerceDataProvider.getAzureSubscriptionForPurchase(n.selectedSubscription().subscriptionId,n.itemName,null):i.reject("Validator should not be called when selected subscription is null")},t}(a.StepValidatorBase),p;y.OnValidationComplete="OnSubscriptionValidationComplete";t.SubscriptionValidator=y;p=function(){function n(n){this._subscriptionIdQuery="subscriptionId";this._subscriptionSelectionViewModel=n.stepViewModel;this._selectedAccount=n.selectedAccount;this._item=n.item;this._onSubscriptionSelectionComplete=n.onStepComplete;this._commerceDataProvider=n.commerceDataProvider;this._selectedAccount=n.selectedAccount;this._startStepDeferred=i.defer();this._initialize();this.onStepStarted().then(function(){var n=$("#install-pop-up");v.setFocusOnFirstTabbableElement(n)})}return n.prototype._initialize=function(){var n=this;this._subscriptionSelectionViewModel.subscribe(this._subscriptionSelectionViewModel.isCompleted,function(){n._subscriptionSelectionViewModel.isCompleted()&&n._onStepComplete()});this._subscriptionSelectionViewModel.itemName=f.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name);this._subscriptionValidator=this._getSubscriptionValidator();this._subscriptionValidator.AddHandlerOnValidationComplete(o.delegate(this,this._onValidationCompleteHandler));this._subscriptionSelectionViewModel.bindValidator(this._subscriptionValidator)},n.prototype._getValidator=function(){return this._subscriptionValidator},n.prototype._getSubscriptionValidator=function(){return new y({commerceDataProvider:this._commerceDataProvider,item:this._item,onValidationError:o.delegate(this,this._onValidationError)})},n.prototype._onValidationError=function(n){this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.stopSpinner(!0);this._subscriptionSelectionViewModel.validateSubscriptionMsg("");var t=n&&n.message?n.message:"";this._subscriptionSelectionViewModel.editContainerVisible()?this._subscriptionSelectionViewModel.subscriptionValidationErrorMessage(s.format(r.AcquisitionErrorMessageTemplate,r.ValidateSubscription_ErrorMessage,t)):(t=s.format(r.AcquisitionErrorMessageTemplate,r.ValidateSubscription_ErrorMessage,t),this._subscriptionSelectionViewModel.subscriptionLoadingErrorMessage(t));l.CiUtil.publishTelemetryOnError(this._item,n?n:new Error(t),h.AcquisitionStepIds.SubscriptionSelection,h.AcquisitionErrorTypes.SystemError,"SubscriptionSelectionStepPerformer._onValidationError",this._selectedAccount,this._subscriptionSelectionViewModel.selectedSubscription())},n.prototype._onValidationCompleteHandler=function(n,t){var v=s.htmlEncode(this._subscriptionSelectionViewModel.selectedSubscription().subscriptionName),f="<em>"+v+"<\/em>",i,u,c,a,o;t.subscription?(i=t.subscription,this._subscriptionSelectionViewModel.selectedSubscription().offerCode=i.offerCode,this._subscriptionSelectionViewModel.selectedSubscription().tenantId=i.tenantId,this._subscriptionSelectionViewModel.selectedSubscription().objectId=i.objectId,this._subscriptionSelectionViewModel.selectedSubscription().isPricingAvailable=i.isPricingAvailable,this._subscriptionSelectionViewModel.selectedSubscription().isPrepaidFundSubscription=i.isPrepaidFundSubscription,i.failedPurchaseReason===e.PurchaseErrorReason.None?(this._subscriptionSelectionViewModel.isSubscriptionValidated(!0),this._subscriptionSelectionViewModel.validateSubscriptionMsg(""),this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.stopSpinner()):(u="",i.failedPurchaseReason===e.PurchaseErrorReason.MonetaryLimitSet?(c=s.format("<a href=\"{0}\" target='_blank'>"+r.RemoveSpendingLimit+"<\/a>",r.RemoveSpendingLimitForwardLink),u=s.format(r.SubscriptionHasSpendingLimit,c,f)):i.failedPurchaseReason===e.PurchaseErrorReason.InvalidOfferCode?u=s.format(r.SubscriptionCannotBeUsedForPurchase,f):i.failedPurchaseReason===e.PurchaseErrorReason.NotAdminOrCoAdmin?u=s.format(r.NotAdminForSubscription,f):i.failedPurchaseReason===e.PurchaseErrorReason.InvalidRegionPurchase&&this._selectedAccount?u=s.format(r.InvalidRegionForPurchase,this._selectedAccount.geoLocation,f):i.failedPurchaseReason===e.PurchaseErrorReason.PaymentInstrumentNotCreditCard?u=this._subscriptionSelectionViewModel._koIsLinkedSubscription()?r.PaymentInstrumentNotCreditCardSubscriptionLinked:r.PaymentInstrumentNotCreditCard:i.failedPurchaseReason===e.PurchaseErrorReason.InvalidOfferRegion?(a=s.format("<a href=\"{0}\" target='_blank'>"+r.LearnMore+"<\/a>",r.OfferRegionInvalidLeanMoreLink),u=s.format(r.InvalidOfferRegion,this._item.title,i.regionDisplayName,a)):u=s.format(r.ValidateSubscription_ErrorMessage),this._subscriptionSelectionViewModel.editContainerVisible()?this._subscriptionSelectionViewModel.validateSubscriptionMsg(u):this._subscriptionSelectionViewModel.subscriptionLoadingErrorMessage(u),l.CiUtil.publishTelemetryOnError(this._item,new Error(u),h.AcquisitionStepIds.SubscriptionSelection,h.AcquisitionErrorTypes.UserError,"SubscriptionSelectionStepPerformer._onValidationCompleteHandler",this._selectedAccount,this._subscriptionSelectionViewModel.selectedSubscription()),this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.stopSpinner(!0))):(o=s.format(r.SubscriptionCannotBeUsedForPurchase,f),this._subscriptionSelectionViewModel.validateSubscriptionMsg(o),l.CiUtil.publishTelemetryOnError(this._item,new Error(o),h.AcquisitionStepIds.SubscriptionSelection,h.AcquisitionErrorTypes.UserError,"SubscriptionSelectionStepPerformer._onValidationCompleteHandler",this._selectedAccount,this._subscriptionSelectionViewModel.selectedSubscription()),this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.stopSpinner(!0))},n.prototype.StartStep=function(){var n=this,t;return this._subscriptionSelectionViewModel.isActive(!0),this._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.startSpinner(),t=this._commerceDataProvider.getAllSubscriptions(),t.then(function(t){n._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.stopSpinner();n._subscriptionSelectionViewModel.availableSubscriptions(t);n._subscriptionSelectionViewModel.startEdit();l.CiUtil.publishTelemetryForAvailableSubscription(n._item,n._subscriptionSelectionViewModel,t);t&&t.length!==0&&n._subscriptionSelectionViewModel.isSubscriptionAvailable(!0);n.completeStepIfPossible().then(function(){n._startStepDeferred.resolve(null)})},function(t){n._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.stopSpinner(!0);n._subscriptionSelectionViewModel.subscriptionLoadingErrorMessage(r.LoadingSubscription_ErrorMessage);l.CiUtil.publishTelemetryOnError(n._item,t,h.AcquisitionStepIds.SubscriptionSelection,h.AcquisitionErrorTypes.SystemError,"SubscriptionSelectionStepPerformer.StartStep",n._selectedAccount,n._subscriptionSelectionViewModel.selectedSubscription());n._startStepDeferred.reject(t)}),this._startStepDeferred.promise},n.prototype.onStepStarted=function(){return this._startStepDeferred.promise},n.prototype.completeStepIfPossible=function(){var n=i.defer(),t=this._getSubscriptionFromUrlParams(this._subscriptionSelectionViewModel.availableSubscriptions());return t||(t=this._subscriptionSelectionViewModel.availableSubscriptions()&&this._subscriptionSelectionViewModel.availableSubscriptions().length===1?this._subscriptionSelectionViewModel.availableSubscriptions()[0]:null),t?(this._subscriptionSelectionViewModel.selectedSubscription(t),this._subscriptionSelectionViewModel.completeStep().then(function(t){n.resolve(t)},function(){n.resolve(!1)})):n.resolve(!1),n.promise},n.prototype._getSubscriptionFromUrlParams=function(n){var i,t,r;if(!n||(i=u.UrlUtils.parseUrlParameter(this._subscriptionIdQuery),!i))return null;for(t=0,r=n.length;t<r;t++)if(s.ignoreCaseComparer(n[t].subscriptionId,i)===0)return n[t];return null},n.prototype._onStepComplete=function(){l.CiUtil.publishTelemetryForSelectedSubscription(this._item,this._subscriptionSelectionViewModel);this._onSubscriptionSelectionComplete&&this._onSubscriptionSelectionComplete(this._subscriptionSelectionViewModel.selectedSubscription())},n}();t.SubscriptionSelectionStepPerformer=p});
define("Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelectionStepPerformerForAccountScope",["require","exports","knockout","q","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Service/VSSCommerce/VSSCommerce","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Url","Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelectionStepPerformer","Gallery/Client/Service/HttpClientProvider/HttpClientProvider","Gallery/Client/Common/AcquisitionTelemetry"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=function(n){function t(t){var i=n.call(this,t)||this;return i._selectedAccount=t.selectedAccount,i}return __extends(t,n),t.prototype._getSubscriptionDetails=function(n){return this._commerceDataProvider.getAzureSubscriptionForPurchase(n.selectedSubscription().subscriptionId,n.itemName,n.accountId)},t.prototype.getToken=function(n){return l.TokenProvider.getToken(this._selectedAccount.id,n.tenantId,n.subscriptionId)},t.prototype._beginCheckAndRedirectTenantIfRequired=function(t){var u=this._selectedAccount,i;return e.VSSCommerce.isMSABackedAccount(u)?n.prototype._beginCheckAndRedirectTenantIfRequired.call(this,t):(i=r.defer(),i.resolve(!0),i.promise)},t}(c.SubscriptionValidator),y;t.SubscriptionValidatorForAccountScope=v;y=function(n){function t(t){var i=n.call(this,t)||this;return i._queryAcrossTenants=!1,i._selectedAccount=t.selectedAccount,t.queryAcrossTenants===!0&&(i._queryAcrossTenants=!0),t.completionPreProcess&&i._subscriptionSelectionViewModel.setCompletionPreProcess(t.completionPreProcess),i}return __extends(t,n),t.prototype.StartStep=function(){var n=this,t,r;return this._subscriptionSelectionViewModel.isActive(!0),this._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.startSpinner(),this._subscriptionSelectionViewModel.accountId=this._selectedAccount.id,this._selectedAccount.subscriptionId&&e.VSSCommerce.isLinkedToAzureSubscription(this._selectedAccount)&&(this._subscriptionSelectionViewModel.subscriptionPickerHelpText=i.observable(f.AccountLinkedToSubscription),this._subscriptionSelectionViewModel.subscriptionSelectionDisabled(!0)),t=e.VSSCommerce.isMSABackedAccount(this._selectedAccount),r=this._getSubscriptions(t),r.then(function(t){n._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.stopSpinner();n._subscriptionSelectionViewModel.availableSubscriptions(t);n._subscriptionSelectionViewModel.accountLinkedToDifferentSubscriptionMessage("");a.CiUtil.publishTelemetryForAvailableSubscription(n._item,n._subscriptionSelectionViewModel,t);t&&t.length!==0&&e.VSSCommerce.isLinkedToAzureSubscription(n._selectedAccount)?(n._subscriptionSelectionViewModel._koIsLinkedSubscription(!0),n._updateValidationSpinnerViewModelForLinkedSubscription(),n._subscriptionSelectionViewModel.completeStep().then(function(){n._startStepDeferred.resolve(null)},o.delegate(n,n._onFetchingSubscriptionsError,n._startStepDeferred))):t&&t.length!==0?(n._subscriptionSelectionViewModel.startEdit(),n._subscriptionSelectionViewModel.isSubscriptionAvailable(!0),n.completeStepIfPossible().then(function(){n._startStepDeferred.resolve(null)})):e.VSSCommerce.isLinkedToAzureSubscription(n._selectedAccount)?(n._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.startSpinner(),n._commerceDataProvider.getAllSubscriptions().then(function(t){var r=t.filter(function(t){return s.ignoreCaseComparer(t.subscriptionId,n._selectedAccount.subscriptionId)===0}),i;if(r&&r.length>0){var o=h.Uri.parse(n._selectedAccount.uri).host,c=$(document.createElement("a")).attr("href",u.GalleryUrls.AccountInDifferentTenantFromLinkedSubscriptionLink).text(f.LearnMore).attr("target","_blank").attr("tabindex","-1"),e=s.format(f.AccountInADifferentDirectoryFromLinkedSubscriptionMessage,"<b>"+o+"<\/b>",c[0].outerHTML);n._subscriptionSelectionViewModel.accountLinkedToDifferentSubscriptionMessage(e);a.CiUtil.publishTelemetryOnError(n._item,new Error(e),u.AcquisitionStepIds.SubscriptionSelection,u.AcquisitionErrorTypes.UserError,"SubscriptionSelectionStepPerformerForAccountScope.StartStep",n._selectedAccount,n._subscriptionSelectionViewModel.selectedSubscription())}else i=s.format(f.AccountLinkedToDifferentSubscriptionText,n._selectedAccount.subscriptionId),n._subscriptionSelectionViewModel.accountLinkedToDifferentSubscriptionMessage(i),a.CiUtil.publishTelemetryOnError(n._item,new Error(i),u.AcquisitionStepIds.SubscriptionSelection,u.AcquisitionErrorTypes.UserError,"SubscriptionSelectionStepPerformerForAccountScope.StartStep",n._selectedAccount,n._subscriptionSelectionViewModel.selectedSubscription());n._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.stopSpinner();n._subscriptionSelectionViewModel.startEdit();n._startStepDeferred.resolve(null)},o.delegate(n,n._onFetchingSubscriptionsError,n._startStepDeferred))):(n._subscriptionSelectionViewModel.startEdit(),n._startStepDeferred.resolve(null))},o.delegate(this,this._onFetchingSubscriptionsError,this._startStepDeferred)),this._startStepDeferred.promise},t.prototype._onFetchingSubscriptionsError=function(n,t){this._subscriptionSelectionViewModel.loadingSubscriptionsSpinner.stopSpinner(!0);this._subscriptionSelectionViewModel.subscriptionLoadingErrorMessage(f.LoadingSubscription_ErrorMessage);a.CiUtil.publishTelemetryOnError(this._item,n,u.AcquisitionStepIds.SubscriptionSelection,u.AcquisitionErrorTypes.SystemError,"SubscriptionSelectionStepPerformerForAccountScope._onFetchingSubscriptionsError",this._selectedAccount,this._subscriptionSelectionViewModel.selectedSubscription());t.reject(n)},t.prototype._getSubscriptionValidator=function(){return new v({commerceDataProvider:this._commerceDataProvider,item:this._item,onValidationError:o.delegate(this,this._onValidationError),selectedAccount:this._selectedAccount})},t.prototype._getSubscriptions=function(n){var t=this._selectedAccount;return n&&!e.VSSCommerce.isLinkedToAzureSubscription(t)?this._commerceDataProvider.getAllSubscriptions():this._commerceDataProvider.getAzureSubscriptionForUser(t.subscriptionId,this._queryAcrossTenants)},t.prototype._updateValidationSpinnerViewModelForLinkedSubscription=function(){this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.spinnerMessage(f.CheckingYourSubscription);this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.setStartSpinnerAnnounceMessage(f.StartLinkedSubscriptionValidationScreenReaderText);this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.setEndSpinnerAnnounceMessage(f.EndLinkedSubscriptionValidationScreenReaderText);this._subscriptionSelectionViewModel.validatingSubscriptionsSpinner.setErrorSpinnerAnnounceMessage(f.ErrorLinkedSubscriptionValidationScreenReaderText)},t}(c.SubscriptionSelectionStepPerformer);t.SubscriptionSelectionStepPerformerForAccountScope=y});
define("Gallery/Client/Service/VSSAcquisition/VSSAcquisition",["require","exports","q","Gallery/Client/Common/Utility","VSS/Context","VSS/Gallery/RestClient","VSS/Service"],function(n,t,i,r,u,f,e){var o=function(){function n(n,t){this._galleryDataProvider=n;this._extensionManagementDataProvider=t;this._useEMSAcquisitionService=t?r.FeatureFlagUtils.isUseEMSAquisitionService():!1}return n.prototype.getAcquisitionOptions=function(n,t,r,o){var s,h,c,l;return r===void 0&&(r=!1),o===void 0&&(o=!1),s=i.defer(),this._useEMSAcquisitionService?this._extensionManagementDataProvider.getEmsAcquisitionOptions(n,t,r,o).then(function(n){s.resolve(n)},function(n){s.reject(n)}):(h=t,u.getPageContext().webAccessConfiguration.isHosted?this._galleryDataProvider.getItemAcquisitionOptions(n,h,r,o).then(function(n){s.resolve(n)},function(n){s.reject(n)}):(c=e.getClient(f.GalleryHttpClient),l=n.publisherName+"."+n.name,c.getAcquisitionOptions(l,h.id).then(function(n){var t=n.defaultOperation;s.resolve(t)},function(n){s.reject(n)}))),s.promise},n.prototype.acquireItem=function(n,t,i,r,f,e,o,s,h){var c,l;return this._useEMSAcquisitionService?c=this._extensionManagementDataProvider.acquireItemEms(n,t,i,r,f,e,o,s,h):(l=[],u.getPageContext().webAccessConfiguration.isHosted&&(l=o),c=this._galleryDataProvider.acquireItem(n,t,i,r,f,e,l,s,h)),c},n}();t.VSSAcquisition=o});
define("Gallery/Client/Controls/AcquireItemWizard/BuyItemWorkflowForTargetScopeBase",["require","exports","knockout","q","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForAccountScope","Gallery/Client/Common/ConnectedContext","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Service/HttpClientProvider/HttpClientProvider","Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelectionStepPerformerForAccountScope","Gallery/Client/Service/VSSAcquisition/VSSAcquisition","Gallery/Client/Service/VSSItem","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b=h.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,k=h.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ConnectedContextWorkflowProperties,w=function(){function n(n){this._extensionUrlPathQuery="/index?id=";this._isSubsequentPurchase=!1;this._accountId="accountId";this._eulaContent=null;this._installOption=v.VSSItemAcquisitionOption.Buy;this.completeButtonText=i.observable(s.ConfirmText);this.workflowCompletionError=i.observable("");this.subscriptionSelectionHelpText=i.observable(s.BilledToSubscription);this._commerceDataProvider=n.commerceDataProvider;this._galleryDataProvider=n.galleryDataProvider;this._item=n.item;this._eulaContent=n.eulaContent;this._onAbandonment=n.onAbandonment||$.noop;this._acquisitionService=new a.VSSAcquisition(n.galleryDataProvider,n.extensionManagementDataProvider);this._accountIdsFilter=n.accountIdsFilter}return n.prototype.getStepDefinitions=function(){var n,r,u,t,i;return this._stepDefinitions||(n=[],r=this._getTargetSelectionStep(),n.push(r),u=this._getSubscriptionSelectionStep(),n.push(u),t=this._getBuyCustomizationStep(),t&&n.push(t),i=[],$.each(this._item.scopes,function(n,t){i.push(t.title)}),this._reviewStep=this._getReviewStep(i),this._reviewStep&&n.push(this._reviewStep),this._requestStep=this._getRequestStep(),this._requestStep&&n.push(this._requestStep),this._stepDefinitions=n),this._stepDefinitions},n.prototype.startWorkflow=function(n){this._initializeViewModels(n);this._onStartWorkflow()},n.prototype.completeWorkflow=function(){var n="";return n=this._installOption===v.VSSItemAcquisitionOption.Request?o.AcquireWorkFlowConstants.BUY_REQUEST:o.AcquireWorkFlowConstants.BUY_EXTENSION,this._completeWorkflowInternal()},n.prototype._onTargetSelectionComplete=function(n){this._selectedAccount=n;var t=new l.SubscriptionSelectionStepPerformerForAccountScope({commerceDataProvider:this._commerceDataProvider,item:this._item,selectedAccount:n,onStepComplete:y.delegate(this,this._onSubscriptionSelectionComplete),stepViewModel:this._subscriptionSelectionViewModel});t.StartStep()},n.prototype._onSubscriptionSelectionComplete=function(){var n={stepViewModel:this._buyCustomizationViewModel,selectedSubscription:this._subscriptionSelectionViewModel.selectedSubscription(),commerceDataProvider:this._commerceDataProvider,showChooseQuantityHelpText:!1,item:this._item,selectedAccount:this._selectedAccount,onBuyCustomizationComplete:y.delegate(this,this._onCustomizationComplete)},t;this.__quantityDataFetchedDelegate&&(n.onQuantityDetailsAvailable=this.__quantityDataFetchedDelegate);t=new f.BuyCustomizationStepPerformerForAccountScope(n);t.StartStep()},n.prototype._onCustomizationComplete=function(n){this._buyCustomizationCompletionDetails=n;this._buyCustomizationCompletionDetails&&(this._isSubsequentPurchase=this._buyCustomizationCompletionDetails.isSubsequentPurchase);this._reviewStep&&this._reviewViewModel.startEdit()},n.prototype._completeWorkflowInternal=function(){return this._installOption===v.VSSItemAcquisitionOption.Request?this._handleExtensionPurchaseRequest():this._handleExtensionPurchase()},n.prototype._isLinkedToAzureSubscription=function(n){return p.isGuid(n.subscriptionId)&&!p.isEmptyGuid(n.subscriptionId)},n.prototype._isDiscoverMoreInNewTab=function(){return!1},n.prototype._handleExtensionPurchaseRequest=function(){var n=this,t=r.defer();this.completeButtonText(s.RequestingText);var i=e.getConnectedContext(),f=i.targetServerId?!0:!1,h=this.acquireItem(this._item,this._targetSelectionViewModel.selectedTarget().id,this._installOption,null,0,0,this._targetSelectionViewModel.availableTargets(),this._requestItemViewModel.requestReason(),f);return h.then(function(){u.CiUtil.publishTelemetryForConfirmEventForFreeInstallOrRequest(v.VSSItemAcquisitionOption.Request,n._item,n._targetSelectionViewModel.selectedTarget());n._getAcquireItemCompletionStep(v.VSSItemAcquisitionOption.Request).then(function(n){t.resolve(n)})},function(i){u.CiUtil.publishTelemetryOnError(n._item,i,o.AcquisitionStepIds.Confirm,o.AcquisitionErrorTypes.SystemError,"BuyItemWorkflowForTargetScopeBase._handleExtensionPurchaseRequest",n._targetSelectionViewModel.selectedTarget());console.log("acquire item failed");var r=s.RequestFailed_ErrorMessage;i&&i.message&&i.message.length>0&&(r=p.format(s.AcquisitionErrorMessageTemplate,s.RequestFailed_ErrorMessage,i.message));n.completeButtonText(s.ConfirmText);n.workflowCompletionError(r);t.reject(r)}),t.promise},n.prototype._handleExtensionPurchase=function(){var n=this,i=r.defer(),h,t,c,l;this.completeButtonText(this._getPurchaseActionText());var f=this._targetSelectionViewModel.selectedTarget(),s=null,a=null;if(f&&(s=f.id,a=f.name),h=this._subscriptionSelectionViewModel.selectedSubscription(),t=null,h&&(t=h.subscriptionId),c=this._getPurchaseQuantity(),l=this._getIncludedQuantity(),s&&t){var y=e.getConnectedContext(),p=y.targetServerId?!0:!1,w=this.acquireItem(this._item,s,this._installOption,t,c,l,this._targetSelectionViewModel.availableTargets(),null,p);w.then(function(){u.CiUtil.publishTelemetryForConfirmBuy(n._item,n._targetSelectionViewModel.selectedTarget().id,n._subscriptionSelectionViewModel,n._buyCustomizationViewModel);n._getAcquireItemCompletionStep(v.VSSItemAcquisitionOption.Buy).then(function(n){i.resolve(n)})},function(t){u.CiUtil.publishTelemetryOnError(n._item,t,o.AcquisitionStepIds.Confirm,o.AcquisitionErrorTypes.SystemError,"BuyItemWorkflowForTargetScopeBase._handleExtensionPurchase",n._targetSelectionViewModel.selectedTarget(),n._subscriptionSelectionViewModel.selectedSubscription(),n._buyCustomizationCompletionDetails.purchaseDetails[0]);var r=n._getBuyFailedErrorMessage(t);n.workflowCompletionError(r);i.reject(r)})}return i.promise},n.prototype._getBuyFailedErrorMessage=function(n){return n&&n.message&&n.message.length>0?p.format(s.PurchaseFailedDetailedErrorMessage,n.message):s.PurchaseFailed_ErrorMessage},n.prototype._initializeViewModels=function(n){this._targetSelectionViewModel=n[0];this._subscriptionSelectionViewModel=n[1];this._buyCustomizationViewModel=n[2];this._reviewStep&&(this._reviewViewModel=n[3]);this._requestStep&&(this._requestItemViewModel=n[4])},n.prototype._getTargetSelectionStepIndex=function(){return 0},n.prototype._isMSABackedAccountAlreadyLinkedToAzureSubscription=function(n){return this._isMSABackedAccount(n)&&this._isLinkedToAzureSubscription(n)},n.prototype._isMSABackedAccount=function(n){return p.isEmptyGuid(n.tenantId)},n.prototype._hideStages=function(){this._reviewViewModel&&this._reviewViewModel.isHidden(!0);this._buyCustomizationViewModel.isHidden(!0);this._subscriptionSelectionViewModel.isHidden(!0)},n.prototype._getPurchaseQuantity=function(){return this._buyCustomizationCompletionDetails.purchaseDetails[0].newPurchaseQuantity},n.prototype._getIncludedQuantity=function(){return this._buyCustomizationCompletionDetails.includedQuantity},n.prototype._getPreviousPurchaseQuantity=function(){return this._buyCustomizationCompletionDetails.purchaseDetails[0].previousPurchaseQuantity},n.prototype._getPurchaseActionText=function(){return this._buyCustomizationViewModel.getPurchaseActionText()},n.prototype._getBuyCustomizationStep=function(){return{stepTemplateName:"buy-customization-template",stepViewModelOptions:{}}},n.prototype._getReviewStep=function(n){var t={scopes:n,eulaContent:this._eulaContent,acquireItemReviewHeader:i.observable(s.ConfirmText)};return{stepTemplateName:"vss-acquireitem-review-template",stepCSSClassName:"install-flow-step review-step",stepViewModelOptions:t}},n.prototype._getRequestStep=function(){return{stepTemplateName:"vss-request-item-template",stepCSSClassName:"install-flow-step request-step",stepViewModelOptions:{}}},n.prototype._refreshTokenForLinkedSubscription=function(n){var t=r.defer(),i=n.subscriptionId;return this._commerceDataProvider.getTenantForSubscription(i).then(function(r){r?c.TokenProvider.getToken(n.id,r,i).then(function(){t.resolve(!0)},function(n){t.reject(n)}):t.resolve(!0)},function(n){t.reject(n)}),t.promise},n.prototype._getSubscriptionSelectionStep=function(){var n={subscriptions:[],item:this._item,isExtension:!0};return{stepTemplateName:"subscription-selection-template",stepViewModelOptions:n}},n}();t.BuyItemWorkflowForTargetScopeBase=w});
define("Gallery/Client/Controls/TargetSelection/TargetSelectionValidator",["require","exports","Gallery/Client/Controls/AcquireItemWizard/StepValidatorBase","q","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Common/Constants","VSS/Utils/Core"],function(n,t,i,r,u,f,e){var o=function(n){function t(t){var i=n.call(this)||this;return i._isTestCommerce=t.isTestCommerce===!0?!0:!1,i._isFreeInstall=t.isFreeInstall===!0?!0:!1,i._acquisitionService=t.acquisitionService,i._item=t.item,i._onValidationError=t.onValidationError,i}return __extends(t,n),t.prototype.validate=function(n){var t=this,i=r.defer(),o=function(n){t._onValidationError(n);u.CiUtil.publishTelemetryOnError(t._item,n,f.AcquisitionStepIds.TargetSelection,f.AcquisitionErrorTypes.SystemError,"TargetSelectionValidator.validate");i.reject(n)};return this._validateInternal(n).then(function(n){t._validationCompletionPreProcess(n).then(function(){i.resolve(n);t._fireOnValidationComplete(n)},e.delegate(t,o))},e.delegate(this,o)),i.promise},t.prototype._isValid=function(){return!1},t.prototype._validationCompletionPreProcess=function(){return r.resolve(null)},t.prototype._validateInternal=function(n){var u=this,t={isValid:!1},i=r.defer();return this._acquisitionService.getAcquisitionOptions(this._item,n.selectedTarget(),this._isTestCommerce,this._isFreeInstall).then(function(r){var f=u._isValid(r);t.isValid=f;t.acquisitionOption=r;t.selectedTarget=n.selectedTarget();i.resolve(t)},function(n){u._onValidationError(n);i.reject(n)}),i.promise},t.prototype._getValidationCompletionEventName=function(){return t.OnValidationComplete},t}(i.StepValidatorBase);o.OnValidationComplete="OnTargetSelectionComplete";t.TargetSelectionValidator=o});
define("Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelectionStepValidator",["require","exports","VSS/Contributions/Contracts","Gallery/Client/Controls/TargetSelection/TargetSelectionValidator","VSS/Utils/String","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery"],function(n,t,i,r,u,f){var e=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._isValid=function(n){if(n.operationState===i.AcquisitionOperationState.Allow)return n.operationType===i.AcquisitionOperationType.Install||n.operationType===i.AcquisitionOperationType.Try||n.operationType===i.AcquisitionOperationType.Request?!0:!1;if(n.operationState===i.AcquisitionOperationState.Disallow){var t=n.reasons&&n.reasons.length>0?n.reasons[0].message:"";return n.operationType===i.AcquisitionOperationType.Try&&u.caseInsensitiveContains(t,f.BuyRedirectText)?!0:!1}return!1},t}(r.TargetSelectionValidator);t.VSSAccountSelectionValidator=e});
define("Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelectionStepPerformer",["require","exports","q","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelectionStepValidator","Gallery/Client/Common/Constants"],function(n,t,i,r,u,f,e){var o=function(){function n(n){this._isFreeWorkflow=!1;this._isFreeInstall=!0;this._isTestCommerce=!0;this._item=n.item;this._commerceDataProvider=n.commerceDataProvider;this._onValidationComplete=n.onValidationComplete?n.onValidationComplete:$.noop;this._onValidationError=n.onValidationError?n.onValidationError:$.noop;this._accountSelectionViewModel=n.accountSelectionViewModel;this._accountIdsFilter=n.accountIdsFilter;this._onStepStartedDeferred=i.defer();this._acquisitionService=n.acquisitionService;this._isFreeInstall=n.isFreeInstall;this._isTestCommerce=n.isTestCommerce;this._onAccountSelectionComplete=n.onAccountSelectionComplete?n.onAccountSelectionComplete:$.noop;n.isFreeWorkflow&&(this._isFreeWorkflow=n.isFreeWorkflow);this._initialize()}return n.prototype._initialize=function(){var n=this,t;this._isFreeWorkflow&&(t=new f.VSSAccountSelectionValidator({acquisitionService:this._acquisitionService,onValidationError:this._onValidationError,item:this._item,isFreeInstall:this._isFreeInstall,isTestCommerce:this._isTestCommerce}),t.AddHandlerOnValidationComplete(this._onValidationComplete),this._accountSelectionViewModel.bindValidator(t));this._accountSelectionViewModel.subscribe(this._accountSelectionViewModel.isCompleted,function(){n._accountSelectionViewModel.isCompleted()&&(n._onAccountSelectionComplete(n._accountSelectionViewModel.selectedTarget()),r.CiUtil.publishTelemetryForAccountSelection(n._item,n._accountSelectionViewModel.availableTargets(),n._accountSelectionViewModel.selectedTarget()))})},n.prototype.StartStep=function(){var n=this;return this._accountSelectionViewModel.isActive(!0),this._accountSelectionViewModel.loadingAccountSpinner.startSpinner(),this.getAccounts(!1).then(function(){n._onStepStartedDeferred.resolve(null)},function(t){n._onStepStartedDeferred.reject(t)}),this._onStepStartedDeferred.promise},n.prototype.onStepStarted=function(){return this._onStepStartedDeferred.promise},n.prototype.getAccounts=function(n){var t=this,f;return n===void 0&&(n=!0),f=i.defer(),this._commerceDataProvider.getAllAccounts(!1,!1,this._item).then(function(n){t._accountIdsFilter&&(n=n.filter(function(n){return t._accountIdsFilter[n.id.toLowerCase()]}));t._availableAccounts=n;t._accountSelectionViewModel.loadingAccountSpinner.stopSpinner();t._accountSelectionViewModel.availableTargets(n);t._accountSelectionViewModel.startEdit();f.resolve(n)},function(n){r.CiUtil.publishTelemetryOnError(t._item,n,e.AcquisitionStepIds.AccountSelection,e.AcquisitionErrorTypes.SystemError,"VSSAccountSelectionStepPerformer.getAccounts");t._accountSelectionViewModel.loadingAccountSpinner.stopSpinner(!0);t._accountSelectionViewModel.accountLoadingErrorMessage(u.LoadingAccounts_ErrorMessage);f.reject(n)}),f.promise},n}();t.VSSAccountSelectionStepPerformer=o});
define("Gallery/Client/Controls/AcquireItemWizard/BuyExtensionWorkflow",["require","exports","q","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopePaid","Gallery/Client/Controls/AcquireItemWizard/BuyItemWorkflowForTargetScopeBase","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/Utility","Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelectionStepPerformer","Gallery/Client/Service/VSSItem","Gallery/Client/Common/AcquisitionTelemetry","VSS/Contributions/Contracts","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var w=o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,p=function(n){function t(t){var i=n.call(this,{commerceDataProvider:t.commerceDataProvider,galleryDataProvider:t.galleryDataProvider,extensionManagementDataProvider:t.extensionManagementDataProvider,item:t.item,eulaContent:t.eulaContent,onAbandonment:t.onAbandonment,accountIdsFilter:t.accountIdsFilter})||this;return i._createNewAccountUrl="",i._createNewAccountUrl=t.createNewAccountUrl,i._targetAccountId=t.createNewAccountUrl,i}return __extends(t,n),t.prototype._getTargetSelectionStep=function(){var n={accounts:[],createNewAccountUrl:this._createNewAccountUrl,targetAccountId:this._targetAccountId,completionPreProcess:this._accountSelectionChanged.bind(this),accountSelectionHelpText:e.AccountSelectionHelpTextForPurchase,accountSelectionReadOnlyText:e.AccountSelectionReadOnlyTextForPurchase,createNewAccountCallback:this._onAbandonment};return{stepTemplateName:"vss-account-selection-template",stepViewModelOptions:n}},t.prototype._onStartWorkflow=function(){var n=new h.VSSAccountSelectionStepPerformer({item:this._item,accountSelectionViewModel:this._targetSelectionViewModel,onAccountSelectionComplete:v.delegate(this,this._onTargetSelectionComplete),commerceDataProvider:this._commerceDataProvider,accountIdsFilter:this._accountIdsFilter});n.StartStep()},t.prototype._accountSelectionChanged=function(n){var t=this,r=i.defer();return this._acquisitionService.getAcquisitionOptions(this._item,n).then(function(i){var u,o,h;i.operationState===a.AcquisitionOperationState.Disallow?(u=i.reasons&&i.reasons.length>0?i.reasons[0].message:"",t._targetSelectionViewModel.setTargetAsDisallowed(u),r.resolve(!1),t._logTelemetryForDisallowedInstall(n,u)):i.operationType!==a.AcquisitionOperationType.Request&&(n.isAccountOwner||n.subscriptionId)?t._isMSABackedAccountAlreadyLinkedToAzureSubscription(n)?t._refreshTokenForLinkedSubscription(n).then(function(){r.resolve(!0)},function(i){var u=i&&i.message?i.message:"";t._targetSelectionViewModel.targetStatusCheckErrorMessage(y.format(e.AcquisitionErrorMessageTemplate,e.CheckInstallationStatus_ErrorMessage,u));l.CiUtil.publishTelemetryOnError(t._item,i,f.AcquisitionStepIds.AccountSelection,f.AcquisitionErrorTypes.SystemError,"BuyExtensionWorkflow._accountSelectionChanged",n);r.resolve(!1)}):(t._installOption=c.VSSItemAcquisitionOption.Buy,r.resolve(!0)):i.operationState===a.AcquisitionOperationState.Completed?(i.operationType===a.AcquisitionOperationType.Install?t._targetSelectionViewModel.setTargetAsActionPerformed(c.VSSItemAcquisitionOption.Install,n):t._targetSelectionViewModel.setTargetAsActionPerformed(c.VSSItemAcquisitionOption.Request,n),t._requestItemViewModel.isHidden(!0),r.resolve(!1)):(t._targetSelectionViewModel.targetSelectedText(e.AccountSelectionReadOnlyText_Request),t._installOption=c.VSSItemAcquisitionOption.Request,o=y.format("<a href='{0}' target='_blank'>"+e.LearnMore+"<\/a>",f.GalleryUrls.MarketPlaceFAQLink),h=y.format(e.VSS_Install_DoNotHavePermissionText_Hosted,n.uri,s.getAccountNameFromAccountUrl(n.uri)),t._requestItemViewModel.targetStatusText(h+" "+o),t._requestItemViewModel.isHidden(!1),t._requestItemViewModel.startEdit(),t._hideStages(),t._logTelemetryForInstallRequest(t._item,n),r.resolve(!0),t.completeButtonText(e.ConfirmText))},function(i){var u=i&&i.message?i.message:"";u=y.format(e.AcquisitionErrorMessageTemplate,e.CheckInstallationStatus_ErrorMessage,u);t._targetSelectionViewModel.targetStatusCheckErrorMessage(u);l.CiUtil.publishTelemetryOnError(t._item,i,f.AcquisitionStepIds.AccountSelection,f.AcquisitionErrorTypes.SystemError,"BuyExtensionWorkflow._accountSelectionChanged",n);r.resolve(!1)}),r.promise},t.prototype._getAcquireItemCompletionStep=function(n){var t=new r.AcquisitionCompletionStepCreatorForAccountScopePaid({item:this._item,selectedSubscription:this._subscriptionSelectionViewModel.selectedSubscription(),isNewSubscription:this._subscriptionSelectionViewModel.isNew(),buyCustomizationCompletionDetails:this._buyCustomizationCompletionDetails,selectedTarget:this._selectedAccount,workflowType:f.AcquireWorkFlowConstants.BUY_EXTENSION,acquisitionOption:n,isNewAccount:this._targetSelectionViewModel.isNewAccount()});return t.CreateStep()},t.prototype._logTelemetryForDisallowedInstall=function(n,t){l.CiUtil.publishTelemetryOnError(this._item,new Error(t),f.AcquisitionStepIds.AccountSelection,f.AcquisitionErrorTypes.UserError,"BuyExtensionWorkflow._logTelemetryForDisallowedInstall",n)},t.prototype._logTelemetryForInstallRequest=function(n,t){l.CiUtil.publishTelemetryForInitiateRequest(n,this._targetSelectionViewModel.availableTargets(),this._targetSelectionViewModel.selectedTarget());l.CiUtil.publishTelemetryOnError(n,new Error(e.UserNotAnAdminText),f.AcquisitionStepIds.Request,f.AcquisitionErrorTypes.UserError,"BuyExtensionWorkflow._logTelemetryForInstallRequest",t)},t.prototype.acquireItem=function(n,t,i,r,u,f,e,o,s){return this._acquisitionService.acquireItem(n,t,i,r,u,f,e,o,s)},t}(u.BuyItemWorkflowForTargetScopeBase);t.BuyExtensionWorkflow=p});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopeConnectedWorkflow",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopePaid","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/Utility","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){var c=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._getAcquireButtons=function(){var t=this._selectedTarget,i=t.userHubUrl,n=[];return this._getTotalPurchaseQuantity()>0&&n.push({linkText:u.AssignUsersButtonText,linkUrl:i,openInNewTab:!0,onClick:o.curry(o.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.ASSIGN_TO_USERS)}),n.push({linkText:u.ProceedToCollectionButtonText,linkUrl:t.uri,openInNewTab:!0,onClick:o.curry(o.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.PROCEED_TO_ACCOUNT)}),n},t.prototype._getCompletionMessage=function(){return this._totalPurchaseQuantity===0?s.format(u.CancelSuccessMessageForCollection,s.htmlEncode(this._item.title)):s.format(u.ExtensionBuySuccessMessageForCollection,this._totalPurchaseQuantity,s.htmlEncode(this._item.title))},t.prototype._getDiscoverMoreLink=function(){return e.UrlUtils.getDiscoverMoreLink("All categories","Downloads","onpremises")},t}(i.AcquisitionCompletionStepCreatorForAccountScopePaid);t.AcquisitionCompletionStepCreatorForAccountScopeConnectedWorkflow=h});
define("Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForAccountScopeInConnectedWorkflow",["require","exports","q","Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForAccountScope","Gallery/Client/Service/VSSItem","Gallery/Client/Common/Constants","Gallery/Client/Common/AcquisitionTelemetry"],function(n,t,i,r,u,f,e){var o=function(n){function t(t){var i=n.call(this,t)||this;return i._galleryDataProvider=t.galleryDataProvider,i}return __extends(t,n),t.prototype._onActiveUserDetailsAvailable=function(){},t.prototype._getQuantities=function(){var n=this,s=[],t={currentBillingPeriodDetails:{},nextBillingPeriodDetails:{}},r=i.defer(),o=u.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name),h=this._galleryDataProvider.getPurchaseQuantityDetails(this._selectedAccount.id,o);return h.then(function(n){t.currentBillingPeriodDetails={includedQuantity:n.includedQuantity,quantity:n.currentQuantity,maximumQuantity:n.maximumQuantity,itemId:o,renewalDate:n.renewalDate,trialEndDate:n.trialEndDate};t.nextBillingPeriodDetails={includedQuantity:n.includedQuantity,quantity:n.nextMonthQuantity,maximumQuantity:n.maximumQuantity,itemId:o,renewalDate:n.renewalDate,trialEndDate:n.trialEndDate}}),s.push(h),i.allSettled(s).then(function(i){n._areAllPromisesFulfilled(i)?r.resolve(t):(i&&$.each(i,function(t,i){i.state==="rejected"&&e.CiUtil.publishTelemetryOnError(n._item,i.reason,f.AcquisitionStepIds.BuyCustomization,f.AcquisitionErrorTypes.SystemError,"BuyCustomizationStepPerformerForAccountScopeInConnectedWorkflow._getQuantities",n._selectedAccount,n._selectedSubscription)}),r.reject(""))}),r.promise},t}(r.BuyCustomizationStepPerformerForAccountScope);t.BuyCustomizationStepPerformerForAccountScopeInConnectedWorkflow=o});
define("Gallery/Client/Controls/VSSCollectionSelection/CollectionSelectionStepPerformerForConnectedWorkflow",["require","exports","q","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Constants","VSS/Utils/String"],function(n,t,i,r,u,f,e){var o=function(){function n(n){this._item=n.item;this._galleryDataProvider=n.galleryDataProvider;this._onCollectionSelectionComplete=n.onCollectionSelectionComplete;this._collectionSelectionViewModel=n.collectionSelectionViewModel;this._hiddenAccountId=n.hiddenAccountId;this._startStepDeferred=i.defer()}return n.prototype.StartStep=function(){var n=this;return this._collectionSelectionViewModel.startEdit(),this._collectionSelectionViewModel.subscribe(this._collectionSelectionViewModel.isCompleted,function(){n._collectionSelectionViewModel.isCompleted()&&(n._onCollectionSelectionComplete(n._collectionSelectionViewModel.selectedTarget()),r.CiUtil.publishTelemetryForAccountSelection(n._item,n._collectionSelectionViewModel.availableTargets(),n._collectionSelectionViewModel.selectedTarget()))}),this._collectionSelectionViewModel.selectedTarget().id=this._hiddenAccountId,this._hiddenAccountId?(this._collectionSelectionViewModel.loadingCollectionSpinner.startSpinner(),this._galleryDataProvider.getSubscriptionId(this._hiddenAccountId).then(function(t){n._collectionSelectionViewModel.selectedTarget().subscriptionId=t;n._collectionSelectionViewModel.loadingCollectionSpinner.stopSpinner();n._collectionSelectionViewModel.isCompleted(!0);n._startStepDeferred.resolve(null)},function(t){r.CiUtil.publishTelemetryOnError(n._item,t,f.AcquisitionStepIds.CollectionSelection,f.AcquisitionErrorTypes.SystemError,"CollectionSelectionStepPerformerForConnectedWorkflow.StartStep");var i="";t&&t.message&&(i=t.message);n._collectionSelectionViewModel.loadingCollectionSpinner.stopSpinner(!0);n._collectionSelectionViewModel.editContainerVisible(!1);n._collectionSelectionViewModel._koCollectionLoadingErrorMessage(e.format(u.LoadingCollections_ErrorMessage,i));n._startStepDeferred.reject(t)})):(this._collectionSelectionViewModel.isCompleted(!0),this._startStepDeferred.resolve(null)),this._startStepDeferred.promise},n.prototype.onStepStarted=function(){return this._startStepDeferred.promise},n}();t.CollectionSelectionStepPerformerForConnectedWorkflow=o});
define("Gallery/Client/Controls/AcquireItemWizard/BuyExtensionWorkflowForOnPrem",["require","exports","q","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopeConnectedWorkflow","Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForAccountScopeInConnectedWorkflow","Gallery/Client/Controls/AcquireItemWizard/BuyItemWorkflowForTargetScopeBase","Gallery/Client/Controls/VSSCollectionSelection/CollectionSelectionStepPerformerForConnectedWorkflow","Gallery/Client/Common/ConnectedContext","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelectionStepPerformerForAccountScope","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSItem","Gallery/Client/Common/AcquisitionTelemetry","VSS/Utils/Url","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){var tt=c.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ConnectedContextWorkflowProperties,nt=c.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,it=function(n){function t(t){var i=n.call(this,{commerceDataProvider:t.commerceDataProvider,extensionManagementDataProvider:t.extensionManagementDataProvider,galleryDataProvider:t.galleryDataProvider,item:t.item,eulaContent:t.eulaContent})||this;return i._hiddenAccountId=null,i._options=t,i._hiddenAccountId=d.isEmptyGuid(i._options.collections[0].hiddenAccountId)?null:i._options.collections[0].hiddenAccountId,i.subscriptionSelectionHelpText(h.BilledToSubscriptionOnPremConnected),i}return __extends(t,n),t.prototype._getTargetSelectionStep=function(){var n={collections:this._options.collections,targetCollectionId:this._options.collections[0].id,isAlwaysEditable:!0,serverName:this._options.targetServerName,item:this._options.item};return{stepTemplateName:"vss-collection-selection-template",stepCSSClassName:"install-flow-step collection-step",stepViewModelOptions:n}},t.prototype._getSubscriptionSelectionStep=function(){var n={subscriptions:[],item:this._item,isExtension:!0,subscriptionPickerHelpText:this.subscriptionSelectionHelpText(),defaultWarningText:g.BrowserCheckUtils.isMozilla()?h.FirefoxMixedContentWarning:""};return{stepTemplateName:"subscription-selection-template",stepViewModelOptions:n}},t.prototype._getReviewStep=function(){return null},t.prototype._onStartWorkflow=function(){var n=new e.CollectionSelectionStepPerformerForConnectedWorkflow({item:this._item,galleryDataProvider:this._galleryDataProvider,hiddenAccountId:this._hiddenAccountId,collectionSelectionViewModel:this._collectionSelectionViewModel,onCollectionSelectionComplete:k.delegate(this,this._onCollectionSelectionComplete)});n.StartStep()},t.prototype.completeWorkflow=function(){return this._completeWorkflowInternal()},t.prototype._onCollectionSelectionComplete=function(){this._collectionSelectionViewModel.targetSelectionCompleteStep();this._onTargetSelectionComplete(this._targetSelectionViewModel.selectedTarget())},t.prototype._onTargetSelectionComplete=function(n){this._selectedAccount=n;var t=new a.SubscriptionSelectionStepPerformerForAccountScope({commerceDataProvider:this._commerceDataProvider,item:this._item,selectedAccount:n,onStepComplete:k.delegate(this,this._onSubscriptionSelectionComplete),stepViewModel:this._subscriptionSelectionViewModel,completionPreProcess:k.delegate(this,this._onSubscriptionValidationSuccess),queryAcrossTenants:!0});t.StartStep()},t.prototype._onSubscriptionSelectionComplete=function(n){var t,i;this._selectedSubscription=n;t={stepViewModel:this._buyCustomizationViewModel,selectedSubscription:this._selectedSubscription,commerceDataProvider:this._commerceDataProvider,galleryDataProvider:this._galleryDataProvider,showChooseQuantityHelpText:!1,item:this._item,selectedAccount:this._selectedAccount,onBuyCustomizationComplete:k.delegate(this,this._onCustomizationComplete)};this.__quantityDataFetchedDelegate&&(t.onQuantityDetailsAvailable=this.__quantityDataFetchedDelegate);i=new u.BuyCustomizationStepPerformerForAccountScopeInConnectedWorkflow(t);i.StartStep()},t.prototype._initializeViewModels=function(t){n.prototype._initializeViewModels.call(this,t);this._collectionSelectionViewModel=t[this._getTargetSelectionStepIndex()];this._buyCustomizationViewModel=t[2]},t.prototype._onSubscriptionValidationSuccess=function(){var n=this,t=i.defer();return this._getOrBuildConnectedContext().then(function(n){n&&t.resolve(!0)},function(i){var r=new Error(d.format(h.ConfiguringPayment_ErrorMessage,d.htmlEncode(n._options.collections[0].name)));w.CiUtil.publishTelemetryOnError(n._item,i,s.AcquisitionStepIds.SubscriptionSelection,s.AcquisitionErrorTypes.SystemError,"BuyExtensionWorkflowForOnPrem._onSubscriptionValidationSuccess",n._options.collections[0],n._subscriptionSelectionViewModel.selectedSubscription());t.reject(r)}),t.promise},t.prototype._isConnectServerValidated=function(n){return o.isFeatureEnabled(n,o.OnPremEnabledFeatures.ValidateConnectServer)},t.prototype._getOrBuildConnectedContext=function(){var n=this,t=i.defer(),r;return!this._options.collections[0].hiddenAccountId||d.isEmptyGuid(this._options.collections[0].hiddenAccountId)?(r=this._commerceDataProvider.connectServer({serverId:this._options.targetServerId,subscriptionId:this._subscriptionSelectionViewModel.selectedSubscription().subscriptionId,targetId:this._options.targetCollectionId,serverName:this._options.targetServerName,targetName:this._options.collections[0].name,registrationId:this._options.registrationId,registrationKey:this._options.registrationKey}),r.then(function(i){var r,u,f;n._logTelemetryForConnectedServerCreation(i);r=b.combineUrl(location.protocol+"//"+location.host,v.GalleryURLs.getInstallItemURLForDetailsPageSuffix(p.ItemModelHelper.getFullyQualifiedNameForItem(n._item.publisherName,n._item.name)));u=v.GalleryURLs.getConnectUrlForOnPrem(n._options.connectUri,i.accountName,i.accountId,i.spsUrl,i.authorizationUrl,r);n._isConnectServerValidated(n._options.enabledFeatures)?(f={accountName:i.accountName,accountId:i.accountId,spsUrl:i.spsUrl,authorizationUrl:i.authorizationUrl,installAction:r,authToken:n._options.connectedAuthToken},y.WindowWrapper.openWithPOST(n._options.connectUri,"_self","storeConnectedServerDetails",f)):y.WindowWrapper.open(u,"_self","storeConnectedServerDetails");t.resolve(!1)},function(n){t.reject(n)})):t.resolve(!0),t.promise},t.prototype._logTelemetryForConnectedServerCreation=function(n){var t={};t[tt.HiddenAccountId]=n.accountId;t[nt.AccountName]=n.accountName;t[nt.SubscriptionId]=n.subscriptionId;t[nt.CollectionId]=n.targetId;t[nt.ProductType]=p.ItemModelHelper.getItemTypeText(this._item.itemType);l.TelemetryHelper.publishEvent(c.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CREATE_CONNECTED_SERVER,t,!0)},t.prototype._getAccountSelectionReadOnlyText=function(){return h.AccountSelectionReadOnlyText},t.prototype.acquireItem=function(n,t,i,r,u,f,e,o,s){return this._galleryDataProvider.acquireItemForOnPrem(n,t,i,r,u,f,o,s)},t.prototype._getAcquireItemCompletionStep=function(n){var t=new r.AcquisitionCompletionStepCreatorForAccountScopeConnectedWorkflow({item:this._item,selectedSubscription:this._subscriptionSelectionViewModel.selectedSubscription(),isNewSubscription:this._subscriptionSelectionViewModel.isNew(),buyCustomizationCompletionDetails:this._buyCustomizationCompletionDetails,selectedTarget:this._selectedAccount,workflowType:s.AcquireWorkFlowConstants.BUY_EXTENSION,acquisitionOption:n,isNewAccount:!1});return t.CreateStep()},t}(f.BuyItemWorkflowForTargetScopeBase);t.BuyExtensionWorkflowForOnPrem=it});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForOfferScope",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorBase","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/URLHelper","Gallery/Client/Service/VSSItem","Gallery/Client/Service/VSSOffer","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,v=function(n){function t(t){var i=n.call(this,t)||this;return i._totalPurchaseQuantity=t.totalPurchaseQuantity,i._isReduceQuantity=t.isReduceQuantity,i._existingSubscriptionCount=t.existingSubscriptionCount,i._assignSubscriptionsLink=t.assignSubscriptionLink,i._mySubscriptionLink=t.mySubscriptionLink,i._isSubsequentPurchase=t.isSubsequentPurchase,i._isAssignedToMe=t.isAssignedToMe&&!i._isSubsequentPurchase,i._selectedSubscription=t.selectedSubscription,i._isNewSubscription=t.isNewSubscription,i}return __extends(t,n),t.prototype._getCompletionMessage=function(){return this._totalPurchaseQuantity?this._isYearlyOffer()&&this._isReduceQuantity?this._totalPurchaseQuantity===1?u.RenewalOfferCompleted+" "+u.SubscriptionsCancellationsInfoText:l.format(u.RenewalOfferCompletedPlural,this._totalPurchaseQuantity)+" "+u.SubscriptionsCancellationsInfoText:l.format(u.VSS_PurchaseOffer_Completed,this._totalPurchaseQuantity,this._item.title):u.PurchaseOfferCanceled},t.prototype._getReadyToGoText=function(){return null},t.prototype._getBasePropertiesForAcquisitionOptionClick=function(){var n={};return n[a.Id]=s.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name),n[a.Quantity]=this._totalPurchaseQuantity,n[a.IsNewSubscription]=this._isNewSubscription?1:0,n[a.ProductType]=s.ItemModelHelper.getItemTypeText(this._item.itemType),n},t.prototype._onAssignSubscription=function(){var n=this._getBasePropertiesForAcquisitionOptionClick(),t;return n[a.AssignOrView]=0,t=e.TelemetryHelper.publishEvent(f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ASSIGN_VIEW_VS_SUBSCRIPTION,n),!0},t.prototype._onViewSubscription=function(){var n=this._getBasePropertiesForAcquisitionOptionClick(),t;return n[a.AssignOrView]=1,t=e.TelemetryHelper.publishEvent(f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ASSIGN_VIEW_VS_SUBSCRIPTION,n),!0},t.prototype._getAcquireButtons=function(){var t=this._isAssignedToMe,n=[],i=this._totalPurchaseQuantity!==1;return t?i?(n.push({linkText:u.ManageUsersButtonText,linkUrl:this._assignSubscriptionsLink,openInNewTab:!0,onClick:c.delegate(this,this._onAssignSubscription)}),n.push({linkText:u.ViewMySubscription,linkUrl:this._mySubscriptionLink,openInNewTab:!0,onClick:c.delegate(this,this._onViewSubscription)})):n.push({linkText:u.ViewMySubscription,linkUrl:this._mySubscriptionLink,openInNewTab:!0,onClick:c.delegate(this,this._onViewSubscription)}):this._totalPurchaseQuantity>0&&n.push({linkText:u.ManageUsersButtonText,linkUrl:this._assignSubscriptionsLink,openInNewTab:!0,onClick:c.delegate(this,this._onAssignSubscription)}),n},t.prototype._getCompletionLinks=function(){var n=[];return n.push({linkText:u.AcquireCompletionDiscoverMoreSubscriptions,linkUrl:o.GalleryURLs.getHomePageVSSubscriptionsTabURL(),onClick:c.curry(c.delegate(this,this._onAccountLinkClick),r.AcquireWorkFlowConstants.DISCOVER_MORE_SUBSCRIPTIONS)}),n},t.prototype._onAccountLinkClick=function(n){var t={};return t[a.LinkType]=n,t[a.WorkFlowType]="Buy_Offer",t[a.Id]=s.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name),t[a.Quantity]=this._totalPurchaseQuantity,t[a.IsNewSubscription]=this._isNewSubscription?1:0,t[a.AssignedToMe]=this._isAssignedToMe?1:0,t[a.ProductType]=s.ItemModelHelper.getItemTypeText(this._item.itemType),e.TelemetryHelper.publishEvent(f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.POST_INSTALL_WORKFLOW,t,!0),!0},t.prototype._isYearlyOffer=function(){var n=this._item;return n.duration===h.OfferDuration.Yearly},t}(i.AcquisitionCompletionStepCreatorBase);t.AcquisitionCompletionStepCreatorForOfferScope=v});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForHockeyApp",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForOfferScope","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Utils/Core"],function(n,t,i,r,u,f){var e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._getCompletionMessage=function(){return this._totalPurchaseQuantity===0?u.HockeyApp_CancelOffer_Completed:u.HockeyApp_PurchaseOffer_Completed},t.prototype._getReadyToGoText=function(){return this._totalPurchaseQuantity===0?u.HockeyApp_GoodToGoText_Cancel:u.HockeyApp_GoodToGoText},t.prototype._getAcquireButtons=function(){var n=[];return this._totalPurchaseQuantity&&n.push({linkText:u.HockeyApp_Visit,linkUrl:r.GalleryUrls.HockeyApp_SignIn,openInNewTab:!0,onClick:f.delegate(this,this._onAssignSubscription)}),n},t.prototype._getCompletionLinks=function(){return[]},t}(i.AcquisitionCompletionStepCreatorForOfferScope);t.AcquisitionCompletionStepCreatorForHockeyApp=e});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForXamarinUniversity",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForOfferScope","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._getCompletionMessage=function(){return this._isSubsequentPurchase?this._isSubsequentPurchase&&this._totalPurchaseQuantity?this._totalPurchaseQuantity>1?s.format(u.SubscriptionsOfferTextPlural,this._totalPurchaseQuantity,this._item.title):s.format(u.SubscriptionsOfferTextSingular,this._item.title):s.format(u.PurchaseOfferCanceled):u.XamarinUniversity_PurchaseOffer_Completed},t.prototype._getReadyToGoText=function(){return this._isSubsequentPurchase?null:""},t.prototype._getAcquireButtons=function(){var n=[];return this._totalPurchaseQuantity&&n.push({linkText:u.GetStartedButtonText,linkUrl:r.GalleryUrls.XamarinUniversityGetStarted,openInNewTab:!0,onClick:o.delegate(this,this._onGetStartedClick)}),n},t.prototype._getCompletionLinks=function(){return[]},t.prototype._onGetStartedClick=function(){var n=this._getBasePropertiesForAcquisitionOptionClick();return e.TelemetryHelper.publishEvent(f.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.POST_INSTALL_WORKFLOW,n,!0),!0},t}(i.AcquisitionCompletionStepCreatorForOfferScope);t.AcquisitionCompletionStepCreatorForXamarinUniversity=h});
define("Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForSubscriptionScope",["require","exports","q","Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerBase","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Utility.Common","Gallery/Client/Common/Constants","Gallery/Client/Common/AcquisitionTelemetry"],function(n,t,i,r,u,f,e,o){var s=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._getQuantities=function(n){var t=this,r=[],f={currentBillingPeriodDetails:{},nextBillingPeriodDetails:{}},s=i.defer(),c=this._commerceDataProvider.getSubscriptionScopedQuantity(this._item,this._selectedSubscription.subscriptionId,!1,n),h;return c.then(function(n){f.currentBillingPeriodDetails=n}),r.push(c),h=this._commerceDataProvider.getSubscriptionScopedQuantity(this._item,this._selectedSubscription.subscriptionId,!0,n),h.then(function(n){f.nextBillingPeriodDetails=n}),r.push(h),i.allSettled(r).then(function(n){t._areAllPromisesFulfilled(n)?s.resolve(f):(n&&$.each(n,function(n,i){i.state==="rejected"&&o.CiUtil.publishTelemetryOnError(t._item,i.reason,e.AcquisitionStepIds.BuyCustomization,e.AcquisitionErrorTypes.SystemError,"BuyCustomizationStepPerformerForSubscriptionScope._getQuantities",null,t._selectedSubscription)}),s.reject(""),t._buyCustomizationViewModel.buyCustomizationErrorMessage(u.AcquireItemGenericError))}),s.promise},t.prototype._getChooseQuantityHelpText=function(){return this._showChooseQuantityHelpText?u.SubscriptionsQuantityHelpText:""},t.prototype._setPurchaseTypeConfirmationText=function(){this._buyCustomizationViewModel.purchaseTypeConfirmationText=f.isHockeyAppOffer(this._quantitySelectionStepInitOptions.item.name)?u.HockeyAppOfferPurchaseType:u.SubscriptionText},t}(r.BuyCustomizationStepPerformerBase);t.BuyCustomizationStepPerformerForSubscriptionScope=s});
define("Gallery/Client/Controls/BuyCustomization/AnnualBuyCustomizationStepPerformer",["require","exports","q","Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForSubscriptionScope","Gallery/Client/Controls/BuyCustomization/BuyCustomization.ViewModel","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Service/VSSCommerce/IVSSCommerce","Gallery/Client/Common/Telemetry","Gallery/Client/Service/VSSItem","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Common/Constants","VSS/Events/Services","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","Gallery/Client/URLHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b=o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,w=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._onPricingInformationAvailable=function(n,t){var i=this,r;p.GalleryURLs.isChangeOfferQuantityRequest(window.location.href)?this._getAndSetSubscriptionsAcrossAllMonths(t):(r=this._getQuantities(n.renewalDate),r.then(function(t){i._buyCustomizationViewModel.existingOfferSubscriptionsTotal(t.nextBillingPeriodDetails.totalQuantityAcrossAllRenewalGroups);t.nextBillingPeriodDetails.totalQuantityAcrossAllRenewalGroups>0&&i._buyCustomizationViewModel.isSubsequentPurchase(!0);i._onPurchaseDetailsAvailable(t);i._buyCustomizationViewModel.setRenewalDate(n.renewalDate)},a.delegate(this,this._handleError)),t.push(r));this._setPrice(n)},t.prototype._getBuyCustomizationCompletionDetails=function(){var n=[];return this._buyCustomizationViewModel.buyCustomizationEntities().forEach(function(t){var r=t.newQuantity(),i;p.GalleryURLs.isChangeOfferQuantityRequest(window.location.href)||(r=r+t.committedQuantity);i={newPurchaseQuantity:r,previousPurchaseQuantity:t.committedQuantity,renewalGroup:t.renewalGroup?t.renewalGroup:e.ResourceRenewalGroup.Monthly};i.newPurchaseQuantity!==i.previousPurchaseQuantity&&n.push(i)}),{purchaseDetails:n,includedQuantity:this._buyCustomizationViewModel.includedQuantity(),isAssignedToMe:!this._buyCustomizationViewModel.isNotAssignedToMe(),isSubsequentPurchase:this._buyCustomizationViewModel.isSubsequentPurchase()}},t.prototype._publishCiEventOnQuantityChangeComplete=function(n,t){h.CiUtil.publishTelemetryForEventOnQuantityChangeComplete(this._item,n,t)},t.prototype._setPropertiesForSubsequentPurchase=function(){p.GalleryURLs.isChangeOfferQuantityRequest(window.location.href)?(this._buyCustomizationViewModel.minAllowedQuantity(0),this._buyCustomizationViewModel.isSubsequentPurchase(!0)):(this._buyCustomizationViewModel.minAllowedQuantity(1),this._buyCustomizationViewModel.setCommittedQuantity(this._buyCustomizationViewModel.getNextMonthQuantity()),this._buyCustomizationViewModel.maxAllowedQuantity(this._buyCustomizationViewModel.maxAllowedQuantity()-this._buyCustomizationViewModel.getCommittedQuantity()),this._buyCustomizationViewModel.buyCustomizationEntities()[0].maxAllowedQuantity(this._buyCustomizationViewModel.maxAllowedQuantity()),this._buyCustomizationViewModel.setNextMonthQuantity(0),this._buyCustomizationViewModel.newQuantityLimitExceeded(this._buyCustomizationViewModel.maxAllowedQuantity()<=0),this._buyCustomizationViewModel.newQuantityLimitExceeded()&&(this._buyCustomizationViewModel.disableCompleteButton(!0),this._buyCustomizationViewModel.buyCustomizationEntities()[0].newQuantityLimitExceeded(!0),this._buyCustomizationViewModel.upgradeDowngradeCancelMesg(this._buyCustomizationViewModel.getUpgradeDowngradeCancelMesg(this._buyCustomizationViewModel.buyCustomizationEntities()[0]))));this._buyCustomizationViewModel.chooseQuantityHelpText(this._getChooseQuantityHelpText())},t.prototype.setUserPlansInputParameters=function(){this._buyCustomizationViewModel.minAllowedQuantity(0)},t.prototype._getChooseQuantityHelpText=function(){if(p.GalleryURLs.isChangeOfferQuantityRequest(window.location.href))return f.ReduceQuantityHelpText;if(this._buyCustomizationViewModel.existingOfferSubscriptionsTotal()>0){var n=y.format(f.ExistingSubscriptionsQuantityLink,this._quantitySelectionStepInitOptions.manageSubscriptionUri,this._buyCustomizationViewModel.existingOfferSubscriptionsTotal());return y.format(f.ExistingSubscriptionsQuantityHelpText,n)}return f.SubscriptionsQuantityHelpText},t.prototype._getAndSetSubscriptionsAcrossAllMonths=function(n){var t=this,u=this._commerceDataProvider.getOfferSubscriptionsForItem(this._item,this._selectedSubscription.subscriptionId,!0),r=i.defer();u.then(function(n){var i=t._getBuyCustomizationEntities(n);i.length>0?(t._buyCustomizationViewModel.buyCustomizationEntities(i),t._buyCustomizationViewModel.includedQuantity(n[0].includedQuantity),t.setUserPlansInputParameters(),t._setPropertiesForSubsequentPurchase(),l.getService().fire(t._buyCustomizationViewModel.EVENT_ON_ANNUAL_OFFER_SUBSCRIPTIONS_DATA_UPDATED),r.resolve(!0)):t._redirectToBuyMore()},function(n){h.CiUtil.publishTelemetryOnError(t._item,n,c.AcquisitionStepIds.BuyCustomization,c.AcquisitionErrorTypes.SystemError,"AnnualBuyCustomizationStepPerformer._getAndSetSubscriptionsAcrossAllMonths",null,t._selectedSubscription);r.resolve(!1)});n.push(u);n.push(r.promise)},t.prototype._getBuyCustomizationEntities=function(n){return n==null||n.length==null||n.length===0?[]:(n=n.sort(function(n,t){return v.defaultComparer(n.resetDate,t.resetDate)}),this._mapOfferToBuyCusomizationEntity(n))},t.prototype._mapOfferToBuyCusomizationEntity=function(n){var t=this,r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=[];return n&&n.length&&n.length>0&&n.forEach(function(n){if(n.committedQuantity>0){var f=new u.BuyCustomizationEntity;f.committedQuantity=n.committedQuantity;f.maxAllowedQuantity(t._buyCustomizationViewModel.maxAllowedQuantity());f.newQuantity(n.committedQuantity);f.nextMonthQuantity(n.committedQuantity);f.renewalGroup=n.renewalGroup;f.renewalDate(n.resetDate);f.availabledQuantities(t._getUserPlansForAnnualOffer(n.committedQuantity));f.monthName=r[n.renewalGroup-1];i.push(f)}}),i},t.prototype._getUserPlansForAnnualOffer=function(n){for(var i=[],t=n;t>=0;t--)i.push(t);return i},t.prototype._redirectToBuyMore=function(){var n=p.GalleryURLs.getInstallItemURLForDetailsPageSuffix(s.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name))+"&"+p.GalleryURLs.SubscriptionIdQueryParam+"="+this._selectedSubscription.subscriptionId;window.location.href=p.GalleryURLs.getWebPageURL(n)},t}(r.BuyCustomizationStepPerformerForSubscriptionScope);t.AnnualBuyCustomizationStepPerformer=w});
define("Gallery/Client/Controls/VSSAcquireItemReview/VSSAcquireItemReviewStepPerformer",["require","exports","q"],function(n,t,i){var r=function(){function n(n){this._viewModel=n.viewModel}return n.prototype.StartStep=function(){var n=i.defer();return this._viewModel.startEdit(),n.resolve(null),n.promise},n}();t.VSSAcquireItemReviewStepPerformer=r});
define("Gallery/Client/Controls/AcquireItemWizard/BuyOfferWorkflow",["require","exports","knockout","q","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForHockeyApp","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForXamarinUniversity","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForOfferScope","Gallery/Client/Controls/BuyCustomization/AnnualBuyCustomizationStepPerformer","Gallery/Client/Controls/BuyCustomization/BuyCustomizationStepPerformerForSubscriptionScope","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Service/VSSCommerce/IVSSCommerce","Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelectionStepPerformer","Gallery/Client/Common/Telemetry","Gallery/Client/URLHelper","Gallery/Client/Common/Utility.Common","Gallery/Client/Controls/VSSAcquireItemReview/VSSAcquireItemReviewStepPerformer","Gallery/Client/Service/VSSItem","Gallery/Client/Service/VSSOffer","Gallery/Client/Common/Utility","VSS/Serialization","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){var rt=y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,ut=function(){function n(n){this._useCache=!0;this._eulaContent=null;this._isReduceQuantity=!1;this.workflowCompletionError=i.observable("");this.workflowHeader="";this.completeButtonText=i.observable(l.ConfirmText);this._commerceDataProvider=n.commerceDataProvider;this._galleryDataProvider=n.galleryDataProvider;this._item=n.item;this._galleryId=k.ItemModelHelper.getFullyQualifiedNameForItem(n.item.publisherName,n.item.name);this._eulaContent=n.eulaContent;this._setBaseSubscriptionUri();this.workflowHeader=it.format(l.AquireItemWizardHeader,this.getStepDefinitions().length);this._isReduceQuantity=p.GalleryURLs.isChangeOfferQuantityRequest(window.location.href)}return n.prototype.getStepDefinitions=function(){var n=[],f={subscriptions:[],item:this._item,isExtension:!1},r,t,u;return n.push({stepTemplateName:"subscription-selection-template",stepViewModelOptions:f}),r={isYearlyItem:this._isYearlyOffer(),isOfferWorkFlow:!0},n.push({stepTemplateName:"buy-customization-template",stepViewModelOptions:r}),this._item.scopes&&(t=[],$.each(this._item.scopes,function(n,i){t.push(i.title)})),u={scopes:t,eulaContent:this._eulaContent,acquireItemReviewHeader:i.observable(l.ConfirmText)},n.push({stepTemplateName:"vss-acquireitem-review-template",stepCSSClassName:"install-flow-step review-step",stepViewModelOptions:u}),n},n.prototype.startWorkflow=function(n){this._initializeViewModels(n);var t=new v.SubscriptionSelectionStepPerformer({commerceDataProvider:this._commerceDataProvider,item:this._item,selectedAccount:null,onStepComplete:tt.delegate(this,this._onStep1Complete),stepViewModel:this._subscriptionSelectionViewModel});t.StartStep()},n.prototype.completeWorkflow=function(){return this._handleSubscriptionsPurchase()},n.prototype._handleSubscriptionsPurchase=function(){var n=this,f=r.defer(),e=this._subscriptionSelectionViewModel.selectedSubscription(),t=null;e&&(t=e.subscriptionId);var o=!this._buyCustomizationCompletionDetails.isSubsequentPurchase&&this._buyCustomizationCompletionDetails.isAssignedToMe,v=this.baseSubscriptionUri+"_apis/Home/DetermineRedirectDestination?redirectSource=Commerce",y=this._galleryId,s=this.baseSubscriptionUri,h=[],i=0;return this._isYearlyOffer()&&!this._isReduceQuantity?i=this._buyCustomizationViewModel.existingOfferSubscriptionsTotal()+this._buyCustomizationViewModel.getNewQuantity():this._buyCustomizationViewModel.buyCustomizationEntities().forEach(function(n){i+=n.newQuantity()}),this.completeButtonText(this._getPurchaseActionText()),this._buyCustomizationCompletionDetails.purchaseDetails.forEach(function(i){if(t){o&&(s=n.generateUriFromParams(v,t,y,"Subscriptions"));var r=i.renewalGroup?i.renewalGroup:a.ResourceRenewalGroup.Monthly,u=n._galleryDataProvider.acquireItem(n._item,null,k.VSSItemAcquisitionOption.Buy,t,i.newPurchaseQuantity,n._buyCustomizationCompletionDetails.includedQuantity,[],null,!1,r);h.push(u)}}),r.allSettled(h).then(function(t){var r,h,e;n._areAllPromisesFulfilled(t)?(r=i!==1,u.CiUtil.publishTelemetryForConfirmBuyForOffers(n._item,n._subscriptionSelectionViewModel,n._buyCustomizationCompletionDetails.purchaseDetails,n._buyCustomizationViewModel.isSubsequentPurchase(),!1),n._resolveAcquireItemStep(i,f,c.GalleryUrls.AsssignSubscriptionLink,s,o,r)):(h=0,t&&$.each(t,function(t,i){i.state==="rejected"&&u.CiUtil.publishTelemetryOnError(n._item,i.reason,c.AcquisitionStepIds.Confirm,c.AcquisitionErrorTypes.SystemError,"BuyOfferWorkflow._handleSubscriptionsPurchase",null,n._subscriptionSelectionViewModel.selectedSubscription(),n._buyCustomizationCompletionDetails.purchaseDetails[t]);t++}),n.completeButtonText(l.TryAgainText),e=n._getPurchasePartialFailureDetails(t),n._logPartialSuccessEvent(t),n._buyCustomizationCompletionDetails.purchaseDetails=e,f.reject(n.workflowCompletionError()))}),f.promise},n.prototype._getPurchasePartialFailureDetails=function(n){var t=this,f=["Monthly","January","February","March","April","May","June","July","August","September","October","November","December"],e=[],i="",o="",s="",r,u;return n&&(r="",u="",$.each(n,function(n,o){o.state==="fulfilled"&&(r+=r===""?f[t._buyCustomizationCompletionDetails.purchaseDetails[n].renewalGroup]:", "+f[t._buyCustomizationCompletionDetails.purchaseDetails[n].renewalGroup]);o.state==="rejected"&&(t._isYearlyOffer()&&t._isReduceQuantity?u+=u===""?f[t._buyCustomizationCompletionDetails.purchaseDetails[n].renewalGroup]:", "+f[t._buyCustomizationCompletionDetails.purchaseDetails[n].renewalGroup]:i=t._getBuyOfferFailedErrorMessage(o.reason),e.push(t._buyCustomizationCompletionDetails.purchaseDetails[n]))}),this._isYearlyOffer()&&this._isReduceQuantity&&(o=it.format(l.ConfirmPurchaseErrorMonthsText,u),r!==""&&(s=it.format(l.ConfirmPurchaseSuccessMonthsText,r)),i=o+s)),i=i.length>0?i:l.PurchaseFailed_ErrorMessage,this.workflowCompletionError(i),e},n.prototype._getBuyOfferFailedErrorMessage=function(n){return n&&n.message&&n.message.length>0?it.format(l.PurchaseFailedDetailedErrorMessage,n.message):l.PurchaseFailed_ErrorMessage},n.prototype._areAllPromisesFulfilled=function(n){var t=!0;return $.each(n,function(n,i){i.state!=="fulfilled"&&(t=!1)}),t},n.prototype._logPartialSuccessEvent=function(n){var i=this,t=[];n&&($.each(n,function(n,r){r.state==="fulfilled"&&t.push(i._buyCustomizationCompletionDetails.purchaseDetails[n])}),t&&t.length>0&&u.CiUtil.publishTelemetryForConfirmBuyForOffers(this._item,this._subscriptionSelectionViewModel,t,this._buyCustomizationViewModel.isSubsequentPurchase(),!0))},n.prototype._postCiEvent=function(n,t,i){var u,f,r;i===void 0&&(i=!1);u=0;f=0;t.forEach(function(n){u+=n.newPurchaseQuantity;f+=n.previousPurchaseQuantity});r={};r[rt.Id]=k.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name);r[rt.ProductType]=k.ItemModelHelper.getItemTypeText(this._item.itemType);r[rt.Quantity]=u;r[rt.PreviousQuantity]=f;r[rt.IsNewSubscription]=this._subscriptionSelectionViewModel.isNew()?1:0;r[rt.PurchaseDetails]=t;r[rt.SubscriptionId]=this._subscriptionSelectionViewModel.selectedSubscription().subscriptionId;n===y.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_BUY_ITEM&&i&&(r[rt.IsPartialSuccess]=!0);y.TelemetryHelper.publishEventAsync(n,r)},n.prototype._resolveAcquireItemStep=function(n,t,i,r,u){var s={isNewSubscription:this._subscriptionSelectionViewModel.isNew(),isReduceQuantity:this._isReduceQuantity,item:this._item,assignSubscriptionLink:i,mySubscriptionLink:r,totalPurchaseQuantity:n,existingSubscriptionCount:this._buyCustomizationViewModel.existingOfferSubscriptionsTotal(),isAssignedToMe:u,workflowType:c.AcquireWorkFlowConstants.BUY_OFFER,isSubsequentPurchase:this._buyCustomizationCompletionDetails.isSubsequentPurchase,selectedSubscription:this._subscriptionSelectionViewModel.selectedSubscription()},h;h=w.isHockeyAppOffer(this._item.name)?new f.AcquisitionCompletionStepCreatorForHockeyApp(s):g.isXamarinUniversityAndPurchaseable(this._item)?new e.AcquisitionCompletionStepCreatorForXamarinUniversity(s):new o.AcquisitionCompletionStepCreatorForOfferScope(s);h.CreateStep().then(function(n){t.resolve(n)})},n.prototype._getPurchaseActionText=function(){return this._isYearlyOffer()?this._isReduceQuantity?l.UpdatingText:l.PurchasingText:this._buyCustomizationViewModel.getPurchaseActionText()},n.prototype._initializeViewModels=function(n){this._subscriptionSelectionViewModel=n[0];this._buyCustomizationViewModel=this._isYearlyOffer()?n[1]:n[1];this._reviewViewModel=n[2]},n.prototype._isYearlyOffer=function(){return this._item.duration===d.OfferDuration.Yearly},n.prototype._customizeBuyCustomizationStepPerformerForHockeyApp=function(n){n.enforceMaxAllowed=!0;n.purchaseType=l.PlansText;n.showChooseQuantityHelpText=!1;n.minAllowedQuantity=0;n.maxAllowedQuantity=1;n.pricingNotAvailableText=l.PricingNotAvailableHockeyApp;n.showAssignMessage=!1},n.prototype._customizeBuyCustomizationStepPerformerForXamarinUniversity=function(n){n.showAssignMessage=!1;n.showChooseQuantityHelpText=!0},n.prototype._onStep1Complete=function(){var r=this._subscriptionSelectionViewModel.selectedSubscription(),i=this._isYearlyOffer(),n={stepViewModel:this._buyCustomizationViewModel,selectedSubscription:this._subscriptionSelectionViewModel.selectedSubscription(),commerceDataProvider:this._commerceDataProvider,isOfferWorkflow:!0,item:this._item,onBuyCustomizationComplete:tt.delegate(this,this._onStep2Complete),manageSubscriptionUri:c.GalleryUrls.AsssignSubscriptionLink},t;w.isHockeyAppOffer(this._item.name)?this._customizeBuyCustomizationStepPerformerForHockeyApp(n):g.isXamarinUniversityAndPurchaseable(this._item)&&this._customizeBuyCustomizationStepPerformerForXamarinUniversity(n);t=i?new s.AnnualBuyCustomizationStepPerformer(n):new h.BuyCustomizationStepPerformerForSubscriptionScope(n);t.StartStep()},n.prototype._onStep2Complete=function(n){this._buyCustomizationCompletionDetails=n;var t=new b.VSSAcquireItemReviewStepPerformer({viewModel:this._reviewViewModel});t.StartStep()},n.prototype._setBaseSubscriptionUri=function(){var n=nt.deserializeJsonIsland($(".msdn-url"),null);this.baseSubscriptionUri=n?n:"https://msdnadmin.visualstudio.com/"},n.prototype.generateUriFromParams=function(n,t,i,r){return n+"&azureSubscriptionId="+t+"&galleryId="+i+"&destination="+r},n}();t.BuyOfferWorkflow=ut});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopeResourceWorkflow",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopePaid","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Service/VSSItem","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o,s,h){var l=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,c=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype._getAcquireButtons=function(){var t=this._item,i=this._selectedTarget,n=[];return n.push({linkText:t.properties[e.ItemConstants.PROPERTY_HOSTED_RESOURCE_ACTIONBUTTONLABEL],linkUrl:h.combineUrl(h.Uri.parse(this._selectedTarget.uri).absoluteUri,t.properties[e.ItemConstants.PROPERTY_HOSTED_RESOURCE_ACTIONBUTTONTARGET]),openInNewTab:!0,onClick:o.curry(o.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.RESOURCE_ACTION)}),n.push({linkText:u.ProceedToAccountButtonText,linkUrl:i.uri,openInNewTab:!0,onClick:o.curry(o.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.PROCEED_TO_ACCOUNT)}),n},t.prototype._getCompletionMessage=function(){var n=this._item,i,t;return this._buyCustomizationCompletionDetails.purchaseDetails[0].newPurchaseQuantity===0?s.format(u.CancelSuccessMessageForAccount,s.htmlEncode(n.title)):(i=this._buyCustomizationCompletionDetails.includedQuantity>1?n.properties[e.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYLABEL]:n.properties[e.ItemConstants.PROPERTY_HOSTED_RESOURCE_NAME],t=this._buyCustomizationCompletionDetails.purchaseDetails[0].newPurchaseQuantity>1?n.properties[e.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYLABEL]:n.properties[e.ItemConstants.PROPERTY_HOSTED_RESOURCE_NAME],this._buyCustomizationCompletionDetails.includedQuantity>0?s.format(u.ResourceBuySuccessMessageForFreeAndPaid,this._buyCustomizationCompletionDetails.includedQuantity,s.format(u.FreeUnitsText,i).toLowerCase(),this._buyCustomizationCompletionDetails.purchaseDetails[0].newPurchaseQuantity,s.format(u.PaidUnitsText,t).toLowerCase()):s.format(u.ResourceBuySuccessMessageForPaid,this._buyCustomizationCompletionDetails.purchaseDetails[0].newPurchaseQuantity,s.format(u.PaidUnitsText,t)))},t}(i.AcquisitionCompletionStepCreatorForAccountScopePaid);t.AcquisitionCompletionStepCreatorForAccountScopeResourceWorkflow=c});
define("Gallery/Client/Controls/AcquireItemWizard/BuyResourceWorkflow",["require","exports","knockout","q","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopeResourceWorkflow","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Controls/AcquireItemWizard/BuyItemWorkflowForTargetScopeBase","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Service/HttpClientProvider/HttpClientProvider","Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelectionStepPerformer","Gallery/Client/Service/VSSAcquisition/VSSAcquisition","Gallery/Client/Service/VSSItem","Gallery/Client/Service/VSSItem","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b=h.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,w=function(n){function t(t){var r=n.call(this,{commerceDataProvider:t.commerceDataProvider,galleryDataProvider:t.galleryDataProvider,extensionManagementDataProvider:t.extensionManagementDataProvider,item:t.item,onAbandonment:t.onAbandonment,accountIdsFilter:t.accountIdsFilter})||this;return r._createNewAccountUrl="",r._extensionUrlPathQuery="/index?id=",r._isSubsequentPurchase=!1,r._useCache=!0,r._installOption=y.VSSItemAcquisitionOption.Buy,r.completeButtonText=i.observable(s.ConfirmText),r.workflowCompletionError=i.observable(""),r.subscriptionSelectionHelpText=i.observable(s.BilledToSubscription),r._commerceDataProvider=t.commerceDataProvider,r._galleryDataProvider=t.galleryDataProvider,r._item=t.item,r._createNewAccountUrl=t.createNewAccountUrl,r._targetAccountId=t.targetAccountId,r._acquisitionService=new a.VSSAcquisition(t.galleryDataProvider,t.extensionManagementDataProvider),r}return __extends(t,n),t.prototype._accountSelectionChanged=function(n){var i=this,t=r.defer();return n.isAccountOwner||n.subscriptionId?this._isMSABackedAccountAlreadyLinkedToAzureSubscription(n)?this._refreshTokenForLinkedSubscription(n).then(function(){t.resolve(!0)},function(r){i._targetSelectionViewModel.targetStatusCheckErrorMessage(s.AcquireItemGenericError);f.CiUtil.publishTelemetryOnError(i._item,r,o.AcquisitionStepIds.AccountSelection,o.AcquisitionErrorTypes.SystemError,"BuyResourceWorkflow._accountSelectionChanged",n);t.resolve(!1)}):this._isMSABackedAccount(n)?t.resolve(!0):c.TokenProvider.getToken(n.id,n.tenantId).then(function(){t.resolve(!0)},function(r){i._targetSelectionViewModel.targetStatusCheckErrorMessage(s.AcquireItemGenericError);f.CiUtil.publishTelemetryOnError(i._item,r,o.AcquisitionStepIds.AccountSelection,o.AcquisitionErrorTypes.SystemError,"BuyResourceWorkflow._accountSelectionChanged",n);t.resolve(!1)}):(this._targetSelectionViewModel.targetStatusText(s.BuyResourceWorkflowNonAdminFirstTimePurchaseText),t.resolve(!1),f.CiUtil.publishTelemetryOnError(this._item,new Error(s.BuyResourceWorkflowNonAdminFirstTimePurchaseText),o.AcquisitionStepIds.AccountSelection,o.AcquisitionErrorTypes.UserError,"BuyResourceWorkflow._accountSelectionChanged",n)),t.promise},t.prototype._onStartWorkflow=function(){var n=new l.VSSAccountSelectionStepPerformer({item:this._item,accountSelectionViewModel:this._targetSelectionViewModel,onAccountSelectionComplete:p.delegate(this,this._onTargetSelectionComplete),commerceDataProvider:this._commerceDataProvider,accountIdsFilter:this._accountIdsFilter});this._isSubsequentPurchase=!1;n.StartStep()},t.prototype._getTargetSelectionStep=function(){var n={accounts:[],createNewAccountUrl:this._createNewAccountUrl,targetAccountId:this._targetAccountId,completionPreProcess:this._accountSelectionChanged.bind(this),accountSelectionHelpText:s.AccountSelectionHelpTextForPurchase,accountSelectionReadOnlyText:s.AccountSelectionReadOnlyTextForPurchase,createNewAccountCallback:this._onAbandonment};return{stepTemplateName:"vss-account-selection-template",stepViewModelOptions:n}},t.prototype.completeWorkflow=function(){var n=o.AcquireWorkFlowConstants.BUY_EXTENSION;return this._buyCustomizationViewModel.editContainerVisible(!1),this._buyCustomizationViewModel.readonlyContainerVisible(!0),this._buyCustomizationViewModel.headerVisible(!1),this._buyCustomizationViewModel.isActive(!1),this._handleExtensionPurchase()},t.prototype._getReviewStep=function(){return null},t.prototype._getBuyCustomizationStep=function(){var n={autoCompleteStep:!0,quantitySelectionTooltip:this._item.properties[v.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYSELECTIONHELPTEXT]};return{stepTemplateName:"buy-customization-template",stepViewModelOptions:n}},t.prototype.acquireItem=function(n,t,i,r,u,f,e){return this._acquisitionService.acquireItem(this._item,t,this._installOption,r,u,f,e,null,!0)},t.prototype._getAcquireItemCompletionStep=function(n){var t=new u.AcquisitionCompletionStepCreatorForAccountScopeResourceWorkflow({item:this._item,selectedSubscription:this._subscriptionSelectionViewModel.selectedSubscription(),isNewSubscription:this._subscriptionSelectionViewModel.isNew(),buyCustomizationCompletionDetails:this._buyCustomizationCompletionDetails,selectedTarget:this._selectedAccount,workflowType:o.AcquireWorkFlowConstants.BUY_EXTENSION,acquisitionOption:n,isNewAccount:this._targetSelectionViewModel.isNewAccount()});return t.CreateStep()},t}(e.BuyItemWorkflowForTargetScopeBase);t.BuyResourceWorkflow=w});
define("Gallery/Client/Controls/AcquireItemWizard/FreeExtensionWorkFlowBase",["require","exports","knockout","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSAcquisition/VSSAcquisition","Gallery/Client/Service/VSSItem","VSS/Contributions/Contracts","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){var c=function(){function n(n){this._isRedirectToBuyWorkFlow=!1;this._eulaContent=null;this._installOption=o.VSSItemAcquisitionOption.Install;this._targetSelectionTextRequest="";this._noPermissionsText="";this.workflowCompletionError=i.observable("");this.workflowHeader=null;this.completeButtonText=i.observable(u.ConfirmText);this.workflowAlreadyComplete=i.observable(!1);this._detailedItem=n.detailedItem;this._eulaContent=n.eulaContent;this._onAbandonment=n.onAbandonment||$.noop;this._acquisitionService=new e.VSSAcquisition(n.galleryDataProvider,n.extensionManagementDataProvider)}return n.prototype.getStepDefinitions=function(){var n=[],f={completeButtonText:u.ConfirmText},t,r;return n.push({stepTemplateName:"vss-request-item-template",stepCSSClassName:"install-flow-step request-step",stepViewModelOptions:f}),t=[],this._detailedItem.scopes&&$.each(this._detailedItem.scopes,function(n,i){t.push(i.title)}),r={scopes:t,eulaContent:this._eulaContent,acquireItemReviewHeader:i.observable(u.ConfirmText),isAlwaysEditable:!0},n.push({stepTemplateName:"vss-acquireitem-review-template",stepCSSClassName:"install-flow-step review-step",stepViewModelOptions:r}),n},n.prototype._setCompleteButtonTextOnCompleteWorkFlow=function(){this._installOption===o.VSSItemAcquisitionOption.Request?this.completeButtonText(u.RequestingText):this.completeButtonText(u.InstallingText)},n.prototype._onTargetSelectionChanged=function(){this.workflowCompletionError("")},n.prototype._acquireItemErrorHandler=function(n,t){if(console.log("acquire item failed"),this._installOption===o.VSSItemAcquisitionOption.Request)this.completeButtonText(u.ConfirmText),this.workflowCompletionError(u.RequestFailed_ErrorMessage),n.reject(u.RequestFailed_ErrorMessage);else{var i=t&&t.message&&t.message.length>0?t.message:u.InstallFailed_ErrorMessaage;this.workflowCompletionError(i);this.completeButtonText(u.ConfirmText);n.reject(i)}},n.prototype._getDiscoverMoreLink=function(){return f.UrlUtils.getDiscoverMoreLink("All categories","Downloads","cloud")},n.prototype._isDiscoverMoreInNewTab=function(){return!1},n.prototype._getWorkFlowType=function(){return this._installOption===o.VSSItemAcquisitionOption.Request?r.AcquireWorkFlowConstants.INSTALL_REQUEST:this._installOption===o.VSSItemAcquisitionOption.Try?r.AcquireWorkFlowConstants.TRIAL:r.AcquireWorkFlowConstants.INSTALL},n.prototype._initializeViewModels=function(n){var t=this._getTargetSelectionStepIndex();this._targetSelectionViewModel=n[t];this._requestItemViewModel=n[t+1];this._reviewViewModel=n[t+2]},n.prototype._getTargetSelectionStepIndex=function(){return 0},n.prototype.isRedirectToBuyWorkFlow=function(){return this._isRedirectToBuyWorkFlow},n.prototype._shouldContinueOnTargetSelectionChanged=function(n,t){var i,f,e,c;if(this._isRedirectToBuyWorkFlow=!1,t.operationState===s.AcquisitionOperationState.Disallow)this._reviewViewModel.isHidden(!1),this._requestItemViewModel.isHidden(!0),f=t.reasons&&t.reasons.length>0?t.reasons[0].message:"",t.operationType===s.AcquisitionOperationType.Try&&h.caseInsensitiveContains(f,u.BuyRedirectText)?(f=h.format(f,n.name),this._targetSelectionViewModel.setTargetAsDisallowed(f),this.completeButtonText(u.ContinueButtonText),this._targetSelectionViewModel.showContinueButton(!1),this._reviewViewModel.isCompleted(!0),this._isRedirectToBuyWorkFlow=!0,i=!0):t.reasons&&t.reasons.length>1?(this._targetSelectionViewModel.handleUnmetDemands(t.reasons),i=!1):(this._targetSelectionViewModel.setTargetAsDisallowed(f),i=!1);else switch(t.operationType){case s.AcquisitionOperationType.None:this._targetSelectionViewModel.setTargetAsActionPerformed(o.VSSItemAcquisitionOption.None,n);this._reviewViewModel.isHidden(!1);this._requestItemViewModel.isHidden(!0);this.completeButtonText(u.ConfirmText);i=!1;case s.AcquisitionOperationType.Request:t.operationState===s.AcquisitionOperationState.Completed?(this._reviewViewModel.isHidden(!1),this._requestItemViewModel.isHidden(!0),this._onActionAlreadyPerformed(s.AcquisitionOperationType.Request,n),i=!1):(e=h.format("<a href='{0}' target='_blank'>"+u.LearnMore+"<\/a>",r.GalleryUrls.MarketPlaceFAQLink),c=h.format(this._noPermissionsText,this._getTargetLink(n),this._getNameForTarget(n)),this._requestItemViewModel.targetStatusText(c+" "+e),this._reviewViewModel.isHidden(!0),this._requestItemViewModel.isHidden(!1),this._setWorkflowStatesForRequest(this._targetSelectionTextRequest,c+" "+e),i=!0);this.completeButtonText(u.ConfirmText);break;case s.AcquisitionOperationType.Install:this._reviewViewModel.isHidden(!1);this._requestItemViewModel.isHidden(!0);t.operationState===s.AcquisitionOperationState.Completed?(this._onActionAlreadyPerformed(s.AcquisitionOperationType.Install,n),i=!1):(this._setWorkflowStatesForAcquisitionOptionOnSuccess(s.AcquisitionOperationType.Install),i=!0);this.completeButtonText(u.ConfirmText)}return i},n.prototype._getRequestExtensionUrl=function(){throw new Error("Dervied class should provide definition for _getRequestExtensionUrl");},n.prototype._getNameForTarget=function(n){return n?n.name:""},n.prototype._onGetAcquisitionOptionsFailed=function(n){this._requestItemViewModel.isHidden(!0);this._reviewViewModel.isHidden(!1);n&&n.status===r.ErrorCode.Unauthorised?this._targetSelectionViewModel.targetStatusCheckErrorMessage(n.message):this._targetSelectionViewModel.targetStatusCheckErrorMessage(u.CheckInstallationStatus_ErrorMessage)},n.prototype._onActionAlreadyPerformed=function(n,t,i){var r=this._getVSSItemAcquisitionOptionForAcquisitionOperation(n);this._targetSelectionViewModel.setTargetAsActionPerformed(r,t,i);this.workflowAlreadyComplete(!0)},n.prototype._setWorkflowStatesForRequest=function(n,t){this._installOption=o.VSSItemAcquisitionOption.Request;this._targetSelectionViewModel.targetSelectedText(n);this._targetSelectionViewModel.targetStatusText(null);this._requestItemViewModel.targetStatusText(t);this._requestItemViewModel.isHidden(!1);this._requestItemViewModel.startEdit();this._reviewViewModel.isHidden(!0)},n.prototype._setWorkflowStatesForAcquisitionOptionOnSuccess=function(n,t){var i=this._getVSSItemAcquisitionOptionForAcquisitionOperation(n);t&&this._targetSelectionViewModel.targetSelectedText(t);this._installOption=i;this._targetSelectionViewModel.targetStatusText(null);this._requestItemViewModel.isCompleted(!0);this._reviewViewModel.startEdit();this.completeButtonText(u.ConfirmText)},n.prototype._getVSSItemAcquisitionOptionForAcquisitionOperation=function(n){var t=o.VSSItemAcquisitionOption.None;switch(n){case s.AcquisitionOperationType.Install:t=o.VSSItemAcquisitionOption.Install;break;case s.AcquisitionOperationType.Buy:t=o.VSSItemAcquisitionOption.Buy;break;case s.AcquisitionOperationType.Try:t=o.VSSItemAcquisitionOption.Try;break;case s.AcquisitionOperationType.Request:t=o.VSSItemAcquisitionOption.Request;break;case s.AcquisitionOperationType.Get:t=o.VSSItemAcquisitionOption.Get}return t},n.prototype._getTargetLink=function(n){return n.uri},n}();t.FreeExtensionWorkflowBase=c});
define("Gallery/Client/Controls/AcquireItemWizard/FreeExtensionWorkflow",["require","exports","knockout","q","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Controls/AcquireItemWizard/FreeExtensionWorkFlowBase","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSAcquisition/VSSAcquisition","Gallery/Client/Service/VSSItem","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForAccountScopeFree","Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelectionStepPerformer","VSS/Contributions/Contracts"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var w=c.WindowWrapper,k=s.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,b=function(n){function t(t){var r=n.call(this,{galleryDataProvider:t.galleryDataProvider,extensionManagementDataProvider:t.extensionManagementDataProvider,detailedItem:t.detailedItem,eulaContent:t.eulaContent,onAbandonment:t.onAbandonment})||this;return r._createNewAccountUrl="",r._testCommerce=!1,r._isTrial=!0,r.workflowHeader=null,r.completeButtonText=i.observable(o.ConfirmText),r.workflowAlreadyComplete=i.observable(!1),r._commerceDataProvider=t.commerceDataProvider,r._createNewAccountUrl=t.createNewAccountUrl,r._accountIdsFilter=t.accountIdsFilter,r._targetAccountId=t.targetAccountId,r._targetSelectionTextRequest=o.AccountSelectionReadOnlyText_Request,r._noPermissionsText=o.VSS_Install_DoNotHavePermissionText_Hosted,r._testCommerce=h.GalleryURLs.isTestCommerceEnabled(c.WindowWrapper.getQueryString()),r._isTrial=!h.GalleryURLs.isSkipBuy(w.getQueryString()),r._acquisitionService=new l.VSSAcquisition(t.galleryDataProvider,t.extensionManagementDataProvider),r}return __extends(t,n),t.prototype.getStepDefinitions=function(){var t=n.prototype.getStepDefinitions.call(this),i={accounts:[],targetAccountId:this._targetAccountId,createNewAccountUrl:this._createNewAccountUrl,createNewAccountCallback:this._onAbandonment,completeButtonText:o.ConfirmText,isAlwaysEditable:!0},r;return(a.ItemModelHelper.isFirstPartyPaidExtension(this._detailedItem)&&this._isTrial||a.ItemModelHelper.isThirdPartyPaidExtensionWithOfferPlans(this._detailedItem,this._detailedItem.offerDetails,h.GalleryURLs.isTestCommerceEnabled(c.WindowWrapper.getQueryString())))&&!this._detailedItem.isPreview&&(i.accountSelectionHelpText=o.AccountSelectionHelpTextForTrial),r={stepTemplateName:"vss-account-selection-template",stepCSSClassName:"install-flow-step account-step",stepViewModelOptions:i},t.splice(0,0,r),t},t.prototype.startWorkflow=function(n){this._initializeViewModels(n);var t=new y.VSSAccountSelectionStepPerformer({accountSelectionViewModel:this._accountSelectionViewModel,commerceDataProvider:this._commerceDataProvider,item:this._detailedItem,accountIdsFilter:this._accountIdsFilter,onValidationComplete:this._onAccountValidationComplete.bind(this),onValidationError:this._onGetAcquisitionOptionsFailed.bind(this),acquisitionService:this._acquisitionService,isFreeWorkflow:!0,isFreeInstall:this._isTrial,isTestCommerce:this._testCommerce});t.StartStep()},t.prototype._acquireItem=function(){return this._acquisitionService.acquireItem(this._detailedItem,this._accountSelectionViewModel.selectedTarget().id,this._installOption,null,0,0,this._accountSelectionViewModel.availableTargets(),this._requestItemViewModel.requestReason())},t.prototype.completeWorkflow=function(){var n=this,t=r.defer(),i;return this.isRedirectToBuyWorkFlow()?(i=h.GalleryURLs.getInstallItemURLForDetailsPage(a.ItemModelHelper.getFullyQualifiedNameForItem(this._detailedItem.publisherName,this._detailedItem.name),this._accountSelectionViewModel.selectedTarget().id),w.open(i,"_self")):(this._setCompleteButtonTextOnCompleteWorkFlow(),this._acquireItem().then(function(i){n._logCITelemetry(n._detailedItem,n._installOption);n._getAcquireItemCompletionStep(i).then(function(n){t.resolve(n)})},function(i){u.CiUtil.publishTelemetryOnError(n._detailedItem,i,e.AcquisitionStepIds.Confirm,e.AcquisitionErrorTypes.SystemError,"FreeExtensionWorkflow.completeWorkflow",n._targetSelectionViewModel.selectedTarget());n._acquireItemErrorHandler(t,i)})),t.promise},t.prototype._getAcquireItemCompletionStep=function(n){var t=new v.AcquisitionCompletionStepCreatorForAccountScopeFree({item:this._detailedItem,selectedTarget:this._accountSelectionViewModel.selectedTarget(),extensionAcquisitionRequest:n,workflowType:this._getWorkFlowType(),acquisitionOption:this._installOption,isNewAccount:this._accountSelectionViewModel.isNewAccount()});return t.CreateStep()},t.prototype._logCITelemetry=function(n,t,i){i===void 0&&(i=!1);u.CiUtil.publishTelemetryForConfirmEventForFreeInstallOrRequest(t,n,this._accountSelectionViewModel.selectedTarget(),i)},t.prototype._initializeViewModels=function(t){n.prototype._initializeViewModels.call(this,t);this._accountSelectionViewModel=t[0]},t.prototype._logTelemetryForInstallRequest=function(n){u.CiUtil.publishTelemetryForInitiateRequest(n,this._accountSelectionViewModel.availableTargets(),this._accountSelectionViewModel.selectedTarget());u.CiUtil.publishTelemetryOnError(n,new Error(o.UserNotAnAdminText),e.AcquisitionStepIds.Request,e.AcquisitionErrorTypes.UserError,"FreeExtensionWorkflow._logTelemetryForInstallRequest",this._targetSelectionViewModel.selectedTarget())},t.prototype._logTelemetryForDisallowedInstall=function(n,t){u.CiUtil.publishTelemetryOnError(this._detailedItem,new Error(t),e.AcquisitionStepIds.AccountSelection,e.AcquisitionErrorTypes.UserError,"FreeExtensionWorkflow._logTelemetryForDisallowedInstall",n)},t.prototype._onAccountValidationComplete=function(n,t){var i=t.acquisitionOption.reasons&&t.acquisitionOption.reasons.length>0?t.acquisitionOption.reasons[0].message:"",r;t.acquisitionOption.operationState===p.AcquisitionOperationState.Disallow?this._logTelemetryForDisallowedInstall(t.selectedTarget,i):t.acquisitionOption.operationType===p.AcquisitionOperationType.Request?this._logTelemetryForInstallRequest(this._detailedItem):t.acquisitionOption.operationType===p.AcquisitionOperationType.Try&&(this._reviewViewModel.isHidden(!1),this._requestItemViewModel.isHidden(!0),t.acquisitionOption.operationState===p.AcquisitionOperationState.Completed?(r=i,this._onActionAlreadyPerformed(p.AcquisitionOperationType.Try,t.selectedTarget,r)):this._setWorkflowStatesForAcquisitionOptionOnSuccess(p.AcquisitionOperationType.Try,o.AccountSelectionReadOnlyText_Trial));this._shouldContinueOnTargetSelectionChanged(t.selectedTarget,t.acquisitionOption)},t.prototype._getNameForTarget=function(n){return n?c.getAccountNameFromAccountUrl(n.uri):""},t.prototype._getRequestExtensionUrl=function(){return e.GalleryRequestUrlsConstants.RequestExtensionURLWithDefaultCollection},t.prototype._onActionAlreadyPerformed=function(t,i,r){n.prototype._onActionAlreadyPerformed.call(this,t,i,r);var u=this._getVSSItemAcquisitionOptionForAcquisitionOperation(t);this._logCITelemetry(this._detailedItem,u,!0)},t}(f.FreeExtensionWorkflowBase);t.FreeExtensionWorkflow=b});
define("Gallery/Client/Service/HistoryService",["require","exports"],function(n,t){var r=function(){function n(){if(n._instance)throw new Error("Use HashDataService.getInstance");}return n.getInstance=function(){return n._instance},n.prototype.getCurrentHashData=function(){var n=window.location.hash;return n&&n[0]==="#"&&(n=n.substr(1)),n},n.prototype.setHashData=function(n){window.location.hash=n},n.prototype.replaceHashData=function(n){window.location.replace("#"+n)},n}(),i;r._instance=new r;i=function(){function n(){if(this.supportHash=!0,this.listeningPopStateChangeEvent=!1,this.stateChangeEventHandlers=[],n._instance)throw new Error("Use HistoryService.getInstance");window.history.pushState&&(this._isPushStateSupported=!0)}return n.getInstance=function(){return n._instance},n.prototype.pushState=function(t,i,r,u){this._isPushStateSupported?(u&&(u=this._addSlashAtEnd(u),r=u+r),window.location.protocol!=="file:"&&window.history.pushState(t,i,r)):n._hashDataService.setHashData(r)},n.prototype.getCurrentState=function(){return this._isPushStateSupported?window.history.state:n._hashDataService.getCurrentHashData()},n.prototype.getCurrentHash=function(){return n._hashDataService.getCurrentHashData()},n.prototype.replaceState=function(t,i,r,u){this._isPushStateSupported?(u&&(u=this._addSlashAtEnd(u),r=u+r),window.location.protocol!=="file:"&&window.history.replaceState(t,i,r)):n._hashDataService.replaceHashData(r)},n.prototype.registerHandler=function(n){this.listeningPopStateChangeEvent||(this._isPushStateSupported?$(window).bind("popstate",this._onStateChanged.bind(this)):$(window).bind("hashchange",this._onStateChanged.bind(this)),this.listeningPopStateChangeEvent=!0);this.stateChangeEventHandlers.push(n)},n.prototype.detachHandler=function(n){this.stateChangeEventHandlers=this.stateChangeEventHandlers.filter(function(t){return t!==n})},n.prototype.isPushStateSupported=function(){return this._isPushStateSupported},n.prototype._addSlashAtEnd=function(n){return n[n.length-1]!=="/"&&(n+="/"),n},n.prototype._onStateChanged=function(){for(var t=this.getCurrentState(),i=this.stateChangeEventHandlers.length,n=0;n<i;n++)this.stateChangeEventHandlers[n](this,t)},n.prototype._isParentPage=function(n){var t=this._getLastPartOfUrl();return t&&t.toLowerCase()===n.toLowerCase()},n.prototype._getLastPartOfUrl=function(){for(var t=window.location.pathname.split("/"),i="",n=t.length-1;n>=0;)if(t[n].length===0)n--;else{i=t[n];break}return i},n.prototype._clearHash=function(){window.history.replaceState("",document.title,window.location.pathname)},n}();i._instance=new i;i._hashDataService=r.getInstance();t.HistoryService=i});
define("Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForCollectionScope",["require","exports","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorBase","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSItem","Gallery/Client/Service/VSSItem","VSS/Utils/Url","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o,s,h,c){var a=f.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,l=function(n){function t(t){var i=n.call(this,t)||this;return i._isConnectedWorkflow=!1,i._selectedTarget=t.selectedTarget,i._acquisitionOption=t.acquisitionOption,t.isConnectedWorkflow&&(i._isConnectedWorkflow=t.isConnectedWorkflow),i}return __extends(t,n),t.prototype._getDiscoverMoreLink=function(){return e.UrlUtils.getDiscoverMoreLink()},t.prototype._updateOptionsForAcquireItemCompletionMessage=function(n){return $.extend(n,{accountName:this._selectedTarget.name,extensionName:this._item.name,publisherName:this._item.publisherName})},t.prototype._onAcquisitionOptionClick=function(){return!0},t.prototype._getAcquisitionButtonForInstall=function(){var n=this._item;return n.properties&&n.properties[o.ItemConstants.PROPERTY_GET_STARTED_LINK]?{linkText:u.GetStartedButtonText,linkUrl:n.properties[o.ItemConstants.PROPERTY_GET_STARTED_LINK],openInNewTab:!0}:this._isConnectedWorkflow?{linkText:u.ProceedToCollectionButtonText,linkUrl:this._selectedTarget.uri,openInNewTab:!0}:{linkText:u.ManageExtensionsButtonText,linkUrl:h.combineUrl(this._selectedTarget.uri,r.GalleryEmsUrlConstants.ManageInstalledExtensionsURL),openInNewTab:!0}},t.prototype._getAcquireButtons=function(){var t=this._item,n=[];return this._acquisitionOption===s.VSSItemAcquisitionOption.Request?n.push({linkText:u.VSS_Install_ViewRequest,linkUrl:this._selectedTarget.uri+this._getRequestExtensionUrl(),openInNewTab:!0,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.VIEW_REQUEST)}):n.push(this._getAcquisitionButtonForInstall()),n},t.prototype._getCompletionMessage=function(){return this._acquisitionOption===s.VSSItemAcquisitionOption.Request?u.CollectionInstallRequestSuccessMessage:u.ExtensionOnPremInstallSuccessMessage},t.prototype._getRequestExtensionUrl=function(){return r.GalleryRequestUrlsConstants.RequestExtensionURL},t.prototype._getCompletionLinks=function(){var n=this._item,t=[];return n.properties&&n.properties[o.ItemConstants.PROPERTY_LEARN_LINK]&&t.push({linkText:u.ExtensionLearnMoreDescriptiveText,linkUrl:n.properties[o.ItemConstants.PROPERTY_LEARN_LINK],openInNewTab:!0,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.LEARN_MORE)}),t.push({linkText:u.AcquireCompletionBrowseMarketplace,linkUrl:this._getDiscoverMoreLink(),openInNewTab:!0,onClick:c.curry(c.delegate(this,this._onAcquisitionOptionClick),r.AcquireWorkFlowConstants.DISCOVER_MORE_EXTENSIONS)}),t},t}(i.AcquisitionCompletionStepCreatorBase);t.AcquisitionCompletionStepCreatorForCollectionScope=l});
define("Gallery/Client/Controls/AcquireItemWizard/OnPremExtensionWorkflow",["require","exports","q","Gallery/Client/Controls/AcquireItemWizard/FreeExtensionWorkFlowBase","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForCollectionScope","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o){var s=function(n){function t(t){var i=n.call(this,{galleryDataProvider:t.galleryDataProvider,extensionManagementDataProvider:t.extensionManagementDataProvider,detailedItem:t.detailedItem,eulaContent:t.eulaContent})||this;return i._options=t,i._targetSelectionTextRequest=f.CollectionSelectionReadOnlyText_Request,i._noPermissionsText=f.VSS_Install_DoNotHavePermissionText_OnPrem,i}return __extends(t,n),t.prototype.getStepDefinitions=function(){var t=n.prototype.getStepDefinitions.call(this),i={collections:this._options.collections,targetCollectionId:this._options.targetCollectionId,completeButtonText:f.ConfirmText,onCollectionSelected:this._collectionSelectionChanged.bind(this),isAlwaysEditable:!0,serverName:location.hostname,showServerDetails:!0,inlineCollectionSelectionTitle:f.VSSCollectionSelectionInlineHeader,stepHeader:f.SelectCollection},r={stepTemplateName:"vss-collection-selection-template",stepCSSClassName:"install-flow-step collection-step",stepViewModelOptions:i};return t.splice(0,0,r),t},t.prototype.startWorkflow=function(n){this._initializeViewModels(n);this._startCollectionEdit()},t.prototype._acquireItem=function(){return this._acquisitionService.acquireItem(this._options.detailedItem,this._collectionSelectionViewModel.selectedTarget().id,this._installOption,null,0,0,[this._collectionSelectionViewModel.selectedTarget()],this._requestItemViewModel.requestReason())},t.prototype.completeWorkflow=function(){var t=this,n=i.defer();return this._setCompleteButtonTextOnCompleteWorkFlow(),this._acquireItem().then(function(i){t._getAcquireItemCompletionStep(i).then(function(t){n.resolve(t)})},function(i){t._acquireItemErrorHandler(n,i)}),n.promise},t.prototype._startCollectionEdit=function(){this._collectionSelectionViewModel.isActive(!0);this._collectionSelectionViewModel.startEdit()},t.prototype._initializeViewModels=function(t){n.prototype._initializeViewModels.call(this,t);this._collectionSelectionViewModel=t[this._getTargetSelectionStepIndex()]},t.prototype._getAcquireItemCompletionStep=function(){var n=new e.AcquisitionCompletionStepCreatorForCollectionScope({item:this._detailedItem,selectedTarget:this._targetSelectionViewModel.selectedTarget(),workflowType:this._getWorkFlowType(),acquisitionOption:this._installOption});return n.CreateStep()},t.prototype._collectionSelectionChanged=function(t){var u=this,r;return n.prototype._onTargetSelectionChanged.call(this),r=i.defer(),this._acquisitionService.getAcquisitionOptions(this._detailedItem,t).then(function(n){var i=u._shouldContinueOnTargetSelectionChanged(t,n);r.resolve(i)},function(n){u._onGetAcquisitionOptionsFailed(n);r.resolve(!1)}),r.promise},t.prototype._getTargetLink=function(n){return o.combineUrl(n.uri,u.GalleryRequestUrlsConstants.RequestExtensionURL)},t}(r.FreeExtensionWorkflowBase);t.OnPremExtensionWorkflow=s});
define("Gallery/Client/Controls/AcquireItemWizard/OnPremConnectedFreeWorkflow",["require","exports","q","Gallery/Client/Controls/AcquireItemWizard/AcquireItemWizard.ViewModel","Gallery/Client/Controls/AcquireItemWizard/OnPremExtensionWorkflow","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquisitionCompletionStepCreatorForCollectionScope","VSS/Events/Services"],function(n,t,i,r,u,f,e){var o=function(n){function t(t){var i=n.call(this,t)||this;return i._externalProvider=t.externalProvider,i._publishJobId=t.publishJobId,i}return __extends(t,n),t.prototype.getStepDefinitions=function(){var t=n.prototype.getStepDefinitions.call(this),i={detailedItem:this._options.detailedItem,publishJobId:this._publishJobId,galleryDataProvider:this._options.galleryDataProvider,externalDataProvider:this._externalProvider},r={stepTemplateName:"package-compat-check-template",stepCSSClassName:"install-flow-step collection-step publish-step",stepViewModelOptions:i};return t.splice(0,0,r),t},t.prototype.getErrorStepDefinition=function(){var n=i.defer(),t={message:this._packageCompatViewModel.errorMessage};return n.resolve({stepTemplateName:"acquire-item-wizard-error",stepViewModelOptions:t}),n.promise},t.prototype.startWorkflow=function(n){this._initializeViewModels(n);this._startPackageDownloadStep()},t.prototype._startPackageDownloadStep=function(){var n=this;this._collectionSelectionViewModel.isHidden(!0);this._reviewViewModel.isHidden(!0);this._packageCompatViewModel.isCompleted.subscribe(function(t){if(t){if(n._detailedItem.scopes){var i=$.map(n._detailedItem.scopes,function(n){return n.title});n._reviewViewModel.scopes(i)}n._collectionSelectionViewModel.isHidden(!1);n._reviewViewModel.isHidden(!1);n._packageCompatViewModel.isHidden(!0);n._startCollectionEdit()}});this._packageCompatViewModel.hasNonRecoverableError.subscribe(function(n){n&&e.getService().fire(r.AcquireItemWizardViewModel.EVENT_WORKFLOW_ERROR)});this._packageCompatViewModel.isActive(!0);this._packageCompatViewModel.startEdit()},t.prototype._initializeViewModels=function(t){n.prototype._initializeViewModels.call(this,t);this._packageCompatViewModel=t[0]},t.prototype._getTargetSelectionStepIndex=function(){return 1},t.prototype._getAcquireItemCompletionStep=function(){var n=new f.AcquisitionCompletionStepCreatorForCollectionScope({item:this._detailedItem,selectedTarget:this._targetSelectionViewModel.selectedTarget(),workflowType:this._getWorkFlowType(),acquisitionOption:this._installOption,isConnectedWorkflow:!0});return n.CreateStep()},t}(u.OnPremExtensionWorkflow);t.OnPremConnectedFreeWorkflow=o});
define("Gallery/Client/Controls/AcquireItemWizard/OnPremConnectedPaidWorkflow",["require","exports","q","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Controls/AcquireItemWizard/OnPremConnectedFreeWorkflow","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Service/VSSItem","VSS/Contributions/Contracts","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o,s,h){var c=e.WindowWrapper,l=function(n){function t(t){var i=n.call(this,t)||this;return i._alreadyInstalled=!1,i._emsService=null,i._emsService=t.extensionManagementDataProvider,i.completeButtonText(r.ContinueToPurchase),i}return __extends(t,n),t.prototype.completeWorkflow=function(){var n=this,t=i.defer(),r,u;return this._setCompleteButtonTextOnCompleteWorkFlow(),r=function(i){n._acquireItemErrorHandler(t,i)},u=function(){n._options.galleryDataProvider.getConnectedServerContext(n._collectionSelectionViewModel.selectedTarget().id).then(function(t){var i=h.combineUrl(e.UrlUtils.getExternalSourceUrl(),f.GalleryURLs.getInstallItemURLForDetailsPageSuffix(o.ItemModelHelper.getFullyQualifiedNameForItem(n._detailedItem.publisherName,n._detailedItem.name)));i=h.replaceUrlParam(i,"serverKey",encodeURIComponent(t));c.open(i,"_self")},r)},this._alreadyInstalled?u():this._acquisitionService.acquireItem(this._options.detailedItem,this._collectionSelectionViewModel.selectedTarget().id,this._installOption,null,0,0,[this._collectionSelectionViewModel.selectedTarget()],this._requestItemViewModel.requestReason(),!1).then(function(){n._installOption===o.VSSItemAcquisitionOption.Request?n._getAcquireItemCompletionStep().then(function(n){t.resolve(n)}):u()},r),t.promise},t.prototype._collectionSelectionChanged=function(n){var u=this,t=i.defer(),r;return this._onTargetSelectionChanged(),r=function(n){u._onGetAcquisitionOptionsFailed(n);t.resolve(!1)},this._acquisitionService.getAcquisitionOptions(this._detailedItem,n).then(function(i){u._shouldContinueOnCollectionSelectionChanged(n,i).then(function(n){t.resolve(n)},function(n){r(n)})},function(n){r(n)}),t.promise},t.prototype._shouldContinueOnCollectionSelectionChanged=function(n,t){var f=this,u=i.defer(),e;this._alreadyInstalled=!1;e=function(){f._requestItemViewModel.isHidden(!0);f._reviewViewModel.isHidden(!1);f._setWorkflowStatesForAcquisitionOptionOnSuccess(s.AcquisitionOperationType.Install);f.completeButtonText(r.ContinueToPurchase);u.resolve(!0)};switch(t.operationType){case s.AcquisitionOperationType.Install:if(t.operationState===s.AcquisitionOperationState.Completed){this._alreadyInstalled=!0;this._emsService&&this._emsService.getPolicies(n).then(function(i){i.permissions.install?e():u.resolve(f._shouldContinueOnTargetSelectionChanged(n,t))},function(n){u.reject(n)});break}else if(t.operationState===s.AcquisitionOperationState.Allow){e();break}else{u.resolve(this._shouldContinueOnTargetSelectionChanged(n,t));break}case s.AcquisitionOperationType.None:case s.AcquisitionOperationType.Request:default:u.resolve(this._shouldContinueOnTargetSelectionChanged(n,t))}return u.promise},t.prototype._setCompleteButtonTextOnCompleteWorkFlow=function(){this._installOption===o.VSSItemAcquisitionOption.Request?this.completeButtonText(r.RequestingText):this.completeButtonText(r.ContinueToPurchase)},t}(u.OnPremConnectedFreeWorkflow);t.OnPremConnectedPaidWorkflow=l});
define("Gallery/Client/Controls/PackageCompatCheck/PackageCompatCheck.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.PackageCompatCheck=r});
define("Gallery/Client/Controls/PackageCompatCheck/PackageCompatCheck.ViewModel",["require","exports","knockout","Gallery/Client/Common/AccessibilityUtils","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/URLHelper","Gallery/Client/Service/VSSItem","Gallery/Client/Common/Constants","VSS/Adapters/Knockout","VSS/Operations/Contracts"],function(n,t,i,r,u,f,e,o,s,h){var c=function(n){function t(t){var r=n.call(this)||this;return r.isValid=i.observable(!0),r.isCompleted=i.observable(!1),r.isActive=i.observable(!1),r.isHidden=i.observable(!1),r.hasNonRecoverableError=i.observable(!1),r.downloadAndInstallExtensionText=u.DownloadAndInstallExtensionText,r.completeButtonText=u.VSS_Install_RequestButtonText,r.cancelButtonText=u.CancelButtonText,r.cancelButtonLink=f.GalleryURLs.getHomePageURL(),r.stepId=o.AcquisitionStepIds.PackageCompat,r.isStepCancellable=!1,r.errorMessage="",r._options=t,r.completeButtonText=t.completeButtonText,r}return __extends(t,n),t.prototype.reset=function(){},t.prototype.startEdit=function(){this.isActive(!0);this.isCompleted(!1);r.announce(u.StartPackageCompatCheckScreenReaderMessage);this._startDownloadAndPublish()},t.prototype._startDownloadAndPublish=function(){var n=this;this._options.externalDataProvider&&e.ItemModelHelper.isVSSExtension(this._options.detailedItem.itemType)?this._options.externalDataProvider.waitForOperation(this._options.publishJobId,t.IMPORT_QUERY_POLL_INTERVAL,t.IMPORT_QUERY_MAX_RETRIES).then(function(i){i.status===h.OperationStatus.Succeeded?n._options.galleryDataProvider.waitForExtensionValidation(n._options.detailedItem.publisherName,n._options.detailedItem.name,t.VALIDATION_QUERY_POLL_INTERVAL,t.VALIDATION_QUERY_MAX_RETRIES).then(function(){n._loadExtensionScopes()},function(t){n._handleError(t)}):n._handleError(i.resultMessage)},function(t){n._handleError(t)}):this.completeStep()},t.prototype._loadExtensionScopes=function(){var n=this,t;if(!this._options.detailedItem){this.completeStep();return}t=e.ItemModelHelper.getFullyQualifiedNameForItem(this._options.detailedItem.publisherName,this._options.detailedItem.name);this._options.galleryDataProvider.getExtensionScopes(t).then(function(t){n._options.detailedItem.scopes=t;n.completeStep()})},t.prototype.completeStep=function(){this.isCompleted(!0);this.isActive(!1);r.announce(u.EndPackageCompatCheckScreenReaderMessage)},t.prototype._handleError=function(n){this.errorMessage=n?n:u.ErrorDownloadingExtension;this.hasNonRecoverableError(!0)},t}(s.TemplateViewModel);c.IMPORT_QUERY_POLL_INTERVAL=3e3;c.IMPORT_QUERY_MAX_RETRIES=140;c.VALIDATION_QUERY_POLL_INTERVAL=1e3;c.VALIDATION_QUERY_MAX_RETRIES=120;t.PackageCompatCheckViewModel=c});
define("Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelection.View",["require","exports","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Controls","VSS/Adapters/Knockout","VSS/Controls/PopupContent","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var s=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);var t=this.getElement(),f=t.find(".info-container").first(),s=o.format("<a href='{0}' target='_blank'>"+r.LearnMore+"<\/a>",i.GalleryUrls.SubscriptionPickerInformationLink),h=r.SubscriptionPickerInformationText+" "+s;u.Enhancement.enhance(e.RichContentTooltip,f,{cssClass:"subscription-help-tooltip",content:h,openCloseOnHover:!1,elementAlign:"left-bottom",baseAlign:"right-top",popupTag:!1})},t}(f.TemplateControl);t.SubscriptionSelection=s});
define("Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelection.ViewModel",["require","exports","knockout","q","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Service/VSSCommerce/IVSSCommerce","Gallery/Client/Common/Telemetry","Gallery/Client/Common/Utility","Gallery/Client/Common/Utility.Common","Gallery/Client/Service/VSSItem","Gallery/Client/Controls/Spinner/Spinner.ViewModel","Gallery/Client/Common/Constants","VSS/Events/Services","VSS/Adapters/Knockout","VSS/Utils/Core","VSS/Utils/String","Gallery/Client/URLHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var d=s.WindowWrapper,nt=p.delegate,k=o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,g=function(n){function t(t){var r=n.call(this)||this;r.availableSubscriptions=i.observableArray([]);r.selectedSubscription=i.observable(null);r.validateSubscriptionMsg=i.observable("");r.createNewSubscriptionUrl=i.observable("");r.newSubscriptionId=i.observable("");r.readonlyContainerVisible=i.observable(!1);r.editContainerVisible=i.observable(!1);r.headerVisible=i.observable(!0);r.isSubscriptionAvailable=i.observable(!1);r.subscriptionSelectionDisabled=i.observable(!1);r.isCreateNewClicked=i.observable(!1);r.accountLinkedToDifferentSubscriptionMessage=i.observable("");r.subscriptionLoadingErrorMessage=i.observable(null);r.subscriptionValidationErrorMessage=i.observable(null);r.subscriptionSelectionHeader=f.SubscriptionSelectionHeader;r.createNewSubscription=f.CreateNewSubscription_Link_Text;r.subscriptionSelectedText=f.SubscriptionSelectionReadOnlyText;r.continueButtonText=f.ContinueButtonText;r.subscriptionsNotAvailable=f.SubscriptionNotAvailableText;r.dropdownAriaLabel=f.SubscriptionsDropdownAriaLabel;r._koIsLinkedSubscription=i.observable(!1);r.loadingSubscriptionsSpinner=new l.SpinnerViewModel({startSpinnerAnnounceMessage:f.StartSubscriptionsFetchScreenReaderText,endSpinnerAnnounceMessage:f.EndSubscriptionsFetchScreenReaderText,errorSpinnerAnnounceMessage:f.ErrorSubscriptionsFetchScreenReaderText,showSpinner:!1,spinnerMessage:f.LoadingAzureSubscriptionsMessage});r.validatingSubscriptionsSpinner=new l.SpinnerViewModel({startSpinnerAnnounceMessage:f.StartSubscriptionValidationScreenReaderText,endSpinnerAnnounceMessage:f.EndSubscriptionValidationScreenReaderText,errorSpinnerAnnounceMessage:f.ErrorSubscriptionValidationScreenReaderText,showSpinner:!1,spinnerMessage:null});r.subscriptionPickerHelpText=i.observable(f.BilledToSubscription);r.accountId=null;r.itemName=null;r.showWarningMessage=r.computed(function(){return r.subscriptionValidationErrorMessage()!==null&&r.subscriptionValidationErrorMessage()!==""&&w.equals(r.subscriptionValidationErrorMessage(),r._defaultWarningText,!0)});r.selectedSubscriptionNameWithId=r.computed(function(){return r.validateSubscriptionMsg(""),r.selectedSubscription()?r.getSubscriptionDisplayName(r.selectedSubscription()):f.None_Label});r.isValid=i.observable(!0);r.isCompleted=i.observable(!1);r.isContinueCompleted=i.observable(!1);r.isActive=i.observable(!1);r.isHidden=i.observable(!1);r.stepId=u.AcquisitionStepIds.SubscriptionSelection;r.isNew=r.computed(function(){return b.GalleryURLs.isNewAzureSubscription(d.getQueryString())?!0:!1});r.disableContinueButtonAndShowStatusMsg=r.computed(function(){return r.validateSubscriptionMsg()!==""?!0:!1});r.isSubscriptionValidated=i.observable(!1);r._subscriptionCreationUrl=t.subscriptionCreationUrl?t.subscriptionCreationUrl:$.parseJSON($(".vss-subscription-creation").html());r.availableSubscriptions(t.subscriptions);r.isSubscriptionForExtension=t.isExtension;t.defaultWarningText&&(r._defaultWarningText=t.defaultWarningText,r.subscriptionValidationErrorMessage(r._defaultWarningText));var o=d.getCurrentUrl(),e=/subscriptionId=([\d\w-]*)[#&]?/g.exec(o);return e!=null&&r.newSubscriptionId(r._normalizeSubscriptionId(e[1])),r.availableSubscriptions.subscribe(function(n){n.length>0&&r.selectedSubscription(n[0])}),r._item=t.item,t.subscriptionPickerHelpText&&r.subscriptionPickerHelpText(t.subscriptionPickerHelpText),r.selectedSubscription.subscribe(function(){r.subscriptionValidationErrorMessage(r._defaultWarningText)}),r.itemName=c.ItemModelHelper.getFullyQualifiedNameForItem(t.item.publisherName,t.item.name),r}return __extends(t,n),t.prototype._normalizeSubscriptionId=function(n){return n.replace("-","").toLowerCase()},t.prototype.reset=function(){},t.prototype.startEdit=function(){this.readonlyContainerVisible(!1);this.editContainerVisible(!0);this.headerVisible(!0);this.isActive(!0);this.isCompleted(!1)},t.prototype.bindValidator=function(n){this._stepValidator=n},t.prototype.setCompletionPreProcess=function(n){this._completionPreProcess=n},t.prototype.storeCookieAndRedirect=function(n,t){var y=this,l,i;if(t.type==="mousedown"&&t.button===a.MOUSE_BUTTON_RIGHT)return!0;v.getService().fire(e.CommerceConstants.CreateNewSubscriptionEvent);s.storeRedirectionCookie(this.accountId,this.itemName);l=!1;t&&(t.ctrlKey||t.button===a.MOUSE_BUTTON_MIDDLE)&&(l=!0);this.isCreateNewClicked(!0);i={};i[k.Id]=c.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name);i[k.AvailableSubscriptions]=this.availableSubscriptions().length;i[k.ProductType]=c.ItemModelHelper.getItemTypeText(this._item.itemType);r.allSettled([o.TelemetryHelper.publishEventAsync(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CREATE_AZURE_SUBSCRIPTION,i)]).then(function(){sessionStorage&&h.isSessionStorageAvailable()&&sessionStorage.setItem(u.TelemetryConstants.abandonmentReason,w.format(f.RedirectReason,"createNewAzureSubscription"));l?s.WindowWrapper.open(y._subscriptionCreationUrl,"_blank"):s.WindowWrapper.open(y._subscriptionCreationUrl,"_self")})},t.prototype._validate=function(){var n=this,t=r.defer(),u=function(){n.validatingSubscriptionsSpinner.startSpinner();n.validateSubscriptionMsg(f.CheckingYourSubscription);n.subscriptionValidationErrorMessage(n._defaultWarningText)},i=function(){n.validatingSubscriptionsSpinner.stopSpinner()};return this._stepValidator?(u(),this._stepValidator.validate(this).then(function(n){i();t.resolve(n.isValid)},function(r){i();n.validateSubscriptionMsg("");r&&r.message&&r.message.length>0?n.subscriptionValidationErrorMessage(r.message):n.subscriptionValidationErrorMessage(f.ValidateSubscription_ErrorMessage);t.reject(r)})):t.reject("Cannot call validate without stepValidator being set"),t.promise},t.prototype.completeStep=function(){var n=this,t=r.defer(),i=function(i){i&&i.message&&i.message.length>0?n.subscriptionValidationErrorMessage(i.message):n.subscriptionValidationErrorMessage(f.ValidateSubscription_ErrorMessage);t.reject(i)},u=function(){n.readonlyContainerVisible(!0);n.editContainerVisible(!1);n.headerVisible(!1);n.isCompleted(!0);n.isActive(!1)},e;return this.selectedSubscription()?(e=[],this._validate().then(function(r){r?n._completionPreProcess?n._getPreProcessResult().then(function(n){n===!0&&u();t.resolve(n)},p.delegate(n,i)):(u(),t.resolve(!0)):t.resolve(!1)},p.delegate(this,i))):t.reject("Subscription needs to be selected before calling complete step"),t.promise},t.prototype._getPreProcessResult=function(){var n=this,t=r.defer();return this.validatingSubscriptionsSpinner.startSpinner(),this.validateSubscriptionMsg(f.CheckingYourSubscription),this._completionPreProcess(this.selectedSubscription()).then(function(i){n.validatingSubscriptionsSpinner.stopSpinner();n.validateSubscriptionMsg("");t.resolve(i)},function(i){n.validatingSubscriptionsSpinner.stopSpinner(!0);n.validateSubscriptionMsg("");t.reject(i)}),t.promise},t.prototype.handleEnterKeyOnSelectSubscription=function(n,t){var i=t.which?t.which:t.keyCode;return i===13&&this.completeStep(),!0},t.prototype.handleEnterKeyOnCreateSubscription=function(n,t){var i=t.which?t.which:t.keyCode;return(i===a.ENTER_KEY_CODE||t.ctrlKey&&i===a.ENTER_KEY_CODE_WITH_CRTL_KEY)&&this.storeCookieAndRedirect(n,t),!0},t.prototype.getSubscriptionDisplayName=function(n){return n.subscriptionName+" ("+n.subscriptionId+")"},t}(y.TemplateViewModel);t.SubscriptionSelectionViewModel=g});
define("Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelection",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.VSSAccountSelection=r});
define("Gallery/Client/Controls/TargetSelection/TargetSelection.ViewModel",["require","exports","knockout","q","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/URLHelper","Gallery/Client/Service/VSSItem","VSS/Adapters/Knockout","VSS/Utils/String","VSS/Utils/Url","Gallery/Client/Common/AccessibilityUtils"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a=function(n){function t(t){var r=n.call(this)||this;return r.stepId=u.AcquisitionStepIds.TargetSelection,r.availableTargets=i.observableArray([]),r.selectedTarget=i.observable(null),r.headerVisible=i.observable(!0),r.cancelButtonText=f.CancelButtonText,r.completeButtonText=i.observable(""),r.targetStatusCheckErrorMessage=i.observable(null),r.isValid=i.observable(!0),r.isCompleted=i.observable(!1),r.isActive=i.observable(!1),r.isHidden=i.observable(!1),r.isWarning=i.observable(!0),r.isAlwaysEditable=i.observable(!1),r.isValidTarget=!1,r.targetStatusText=i.observable(null),r.readonlyContainerVisible=i.observable(!1),r.editContainerVisible=i.observable(!1),r.htmlEncodedSelectedTargetName="",r.showContinueButton=i.observable(!0),r.cancelButtonLink=e.GalleryURLs.getHomePageURL(),r.targetSelectionHelpTextId="target-selection-help-text",r._koUnmetDemands=i.observable(null),r.targetSelectedText=i.observable(""),r.disableContinueButton=i.observable(!1),r.disableTargetPicker=i.observable(!1),r._completionPreProcess=null,r._options=t,r.availableTargets(t.targets),r.completeButtonText(f.ContinueButtonText),r._koInlineTargetSelectionTitle=t.inlineTargetSelectionTitle,r.isAlwaysEditable(t.isAlwaysEditable&&t.targets.length<=1),r.targetCheckingSpinner=r._getTargetCheckingSpinner(),t.completionPreProcess&&(r._completionPreProcess=t.completionPreProcess),r.availableTargets.subscribe(function(n){if(n!==undefined){var t=n.length>1;r._options.isAlwaysEditable&&(t?r.isAlwaysEditable(!1):r.isAlwaysEditable(!0))}}),r.selectedTarget.subscribe(function(){var n,t;r.targetStatusCheckErrorMessage(null);r.isWarning(!1);r.disableContinueButton(!1);r.completeButtonText(f.ContinueButtonText);r.targetStatusText(null);r._koUnmetDemands(null);r.showContinueButton(!0);n=e.GalleryURLs.isAccountIdSet(location.search)&&r.isValidTarget;r.isCompleted(!1);t=r.availableTargets()&&r.availableTargets().length===1?!0:!1;r.isAlwaysEditable()&&r.showContinueButton(!1);(r.isAlwaysEditable()||n||t)&&r.completeStep()}),r}return __extends(t,n),t.prototype.reset=function(){},t.prototype.startEdit=function(){var t=this._options,n,i;t.targets&&t.targets.length>0&&(n=null,t.targetId&&(n=t.targets.filter(function(n){return n.id===t.targetId}),n&&n.length>0&&this.selectedTarget(n[0])),n&&n.length!==0||this.selectedTarget(t.targets[0]));this.readonlyContainerVisible(!1);this.editContainerVisible(!0);this.headerVisible(!0);this.isActive(!0);this.isCompleted(!1);i=$("#install-pop-up");l.setFocusOnFirstTabbableElement(i)},t.prototype._validate=function(){var n=this,t=r.defer(),e=function(){n.targetCheckingSpinner.startSpinner();n.disableContinueButton(!0);n.disableTargetPicker(!0)},i=function(t){t===void 0&&(t=!1);n.disableTargetPicker(!1);n.targetCheckingSpinner.stopSpinner(t)},o=function(t){if(i(!0),t&&t.status===u.ErrorCode.Unauthorised)n.targetStatusCheckErrorMessage(t.message);else{var r=t&&t.message?t.message:"";n.targetStatusCheckErrorMessage(h.format(f.AcquisitionErrorMessageTemplate,f.CheckInstallationStatus_ErrorMessage,r))}};return this._stepValidator?(e(),this._stepValidator.validate(this).then(function(n){i();t.resolve(n.isValid)},function(n){o(n);t.reject(n)}),t.promise):this._completionPreProcess?(e(),this._completionPreProcess(this.selectedTarget()).then(function(n){i();t.resolve(n)},function(n){o(n);t.reject(n)}),t.promise):r.resolve(!0)},t.prototype.completeStep=function(){var n=this,t=function(){return n.isAlwaysEditable()||n.targetStatusText()||n.targetSelectionCompleteStep(),n.isCompleted(!0),r.resolve(!0)};return this.selectedTarget()?this._stepValidator||this._completionPreProcess?this._validate().then(function(n){if(n)return t()}):t():r.reject("Expected completeStep to be called only with selectedTarget")},t.prototype.setTargetAsActionPerformed=function(n,t,i){var r,u;this.isWarning(!1);switch(n){case o.VSSItemAcquisitionOption.Install:r=i?i:this._alreadyInstalledText;this.completeButtonText(f.ItemAlreadyInstalled);break;case o.VSSItemAcquisitionOption.Request:r=i?i:this._alreadyRequestedText;this.completeButtonText(f.ItemAlreadyRequested);break;case o.VSSItemAcquisitionOption.Try:r=i?i:this._alreadyRegisteredText;this.completeButtonText(f.ItemAlreadyUnderTrial);break;case o.VSSItemAcquisitionOption.None:r=i?i:this._noActionAvailableText;this.completeButtonText(f.ItemAlreadyInstalled)}t.id===this.selectedTarget().id&&(u=this._getTargetLink(n,t),r=h.format(r,u[0].outerHTML),this.availableTargets().length>1&&(r=r+this._multiTargetAlreadyInstalledText),this.targetStatusText(r),this.disableContinueButton(!0))},t.prototype.targetSelectionCompleteStep=function(){this.editContainerVisible(!1);this.headerVisible(!1);this.disableContinueButton(!1);this.readonlyContainerVisible(!0);this.isActive(!1)},t.prototype.setTargetAsDisallowed=function(n){this.targetStatusText(n);this.isWarning(!1);this.disableContinueButton(!0)},t.prototype.handleUnmetDemands=function(n){this._koUnmetDemands(n);this.targetStatusText(this._unmetDemandsText)},t.prototype._getTargetLink=function(n,t){var i=t.uri;switch(n){case o.VSSItemAcquisitionOption.Install:i=c.combineUrl(t.uri,u.GalleryEmsUrlConstants.ManageInstalledExtensionsURL);break;case o.VSSItemAcquisitionOption.Request:i=c.combineUrl(t.uri,u.GalleryRequestUrlsConstants.RequestExtensionURL)}return $("<a>").attr("href",i).text(t.name).attr("target","_blank").addClass("target-name")},t.prototype._getTargetCheckingSpinner=function(){return null},t}(s.TemplateViewModel);t.TargetSelectionViewModel=a});
define("Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelection.ViewModel",["require","exports","knockout","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Controls/Spinner/Spinner.ViewModel","Gallery/Client/Controls/TargetSelection/TargetSelection.ViewModel","Gallery/Client/Common/Utility","Gallery/Client/Common/Utility.Common","VSS/Utils/String","VSS/Events/Action"],function(n,t,i,r,u,f,e,o,s,h,c){var l=function(n){function t(t){var e=n.call(this,{targets:t.accounts,targetId:t.targetAccountId,completionPreProcess:t.completionPreProcess,isAlwaysEditable:t.isAlwaysEditable})||this;return e.createNewAccountUrl=i.observable(""),e.createNewAccountCallback=i.observable(null),e.vssAccountSelectionCreateNewAccount=u.CreateNewAccount_Link_Text,e.isNewAccount=i.observable(!1),e.accountLoadingErrorMessage=i.observable(null),e.loadingAccountSpinner=new f.SpinnerViewModel({startSpinnerAnnounceMessage:u.StartAccountFetchingScreenReaderText,endSpinnerAnnounceMessage:u.EndAccountFetchingScreenReaderText,errorSpinnerAnnounceMessage:u.ErrorAccountFetchingScreenReaderText,showSpinner:!1,spinnerMessage:u.LoadingAccountsMessage}),e._accountIdParam="accountId",e.stepId=r.AcquisitionStepIds.AccountSelection,e.createNewAccountUrl(t.createNewAccountUrl),e.createNewAccountCallback(t.createNewAccountCallback),e._targetSelectionHeader=u.VSSAccountSelectionHeader,t.accountSelectionReadOnlyText?e.targetSelectedText(t.accountSelectionReadOnlyText):e.targetSelectedText(u.AccountSelectionReadOnlyText),e._targetSelectionHelpText=u.AccountSelectionHelpText,e._noTargetsAvailableText=u.NoAccountsAvailableText,e._alreadyInstalledText=u.VSS_Install_AlreadyInstalledText,e._multiTargetAlreadyInstalledText=u.MultiAccountAlreadyInstalled,e._alreadyRequestedText=u.VSS_Request_AlreadyRequestedText,e._multiTargetAlreadyRequestedText=u.MultiAccountAlreadyRequested,e._noActionAvailableText=u.VSS_NoActionAvailable,e._multiTargetNoActionAvailableText=u.MultiAccountAlreadyInstalled,e._alreadyRegisteredText=u.ExtensionAlreadyUnderTrial,e._multiTargetAlreadyRegisteredText=u.MultiAccountAlreadyRequested,e._unmetDemandsText=h.format(u.ExtensionInstallUnmetDemands,u.InstallationTargetAccount),e._targetSelectionHelpText=t.accountSelectionHelpText?t.accountSelectionHelpText:u.AccountSelectionHelpText,e.availableTargets.subscribe(function(n){var i,r;if(n.length>0){if(i=o.UrlUtils.parseUrlParameter(e._accountIdParam),!i&&t.targetAccountId&&(i=t.targetAccountId),i&&i!==""&&(r=n.filter(function(n){return n.id===i}),r&&r.length>0)){e.isValidTarget=!0;e.selectedTarget(r[0]);return}e.selectedTarget(n[0])}}),e.selectedTargetName=e.computed(function(){if(e.selectedTarget()){e.targetCheckingSpinner.spinnerMessage(h.format("{0} {1}",u.SelectedAccountCheckMessage,e.selectedTarget().name));var n=o.getAccountNameFromAccountUrl(e.selectedTarget().uri);return e.htmlEncodedSelectedTargetName=h.htmlEncode(n),n}return""}),e}return __extends(t,n),t.prototype.bindValidator=function(n){this._stepValidator=n},t.prototype.reset=function(){},t.prototype.onNewAccountButtonClick=function(){return this.isNewAccount(!0),c.getService().performAction(r.GalleryEvents.CREATE_ACCOUNT),sessionStorage&&s.isSessionStorageAvailable()&&sessionStorage.setItem(r.TelemetryConstants.abandonmentReason,h.format(u.RedirectReason,u.CreateNewAccountCallbackMessage)),!0},t.prototype.setAccountAsDisallowed=function(t){n.prototype.setTargetAsDisallowed.call(this,t?t:u.AcquireItem_Disallowed_DefaultMessage)},t.prototype._getTargetCheckingSpinner=function(){return new f.SpinnerViewModel({startSpinnerAnnounceMessage:u.StartAccountValidationScreenReaderText,endSpinnerAnnounceMessage:u.EndAccountValidationScreenReaderText,errorSpinnerAnnounceMessage:u.ErrorAccountValidationScreenReaderText,showSpinner:!1,spinnerMessage:""})},t}(e.TargetSelectionViewModel);t.VSSAccountSelectionViewModel=l});
define("Gallery/Client/Controls/VSSAcquireItemReview/VSSAcquireItemReview.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.VSSAcquireItemReview=r});
define("Gallery/Client/Controls/VSSAcquireItemReview/VSSAcquireItemReview.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Constants","VSS/Adapters/Knockout"],function(n,t,i,r,u,f){var e=function(n){function t(t){var f=n.call(this)||this;return f.isValid=i.observable(!0),f.isCompleted=i.observable(!1),f.isActive=i.observable(!1),f.isHidden=i.observable(!1),f.stepId=u.AcquisitionStepIds.Review,f.editContainerVisible=i.observable(!1),f.headerVisible=i.observable(!0),f.acquireitemReviewHeader=null,f.scopes=i.observable([]),f.scopeHeaderText=r.ItemScopeHeader,f.eulaContent=i.observable(""),f.acquireItemHelpText=i.observable(r.AcquireItemHelpText),f._options=t,t.scopes&&f.scopes(t.scopes),t.eulaContent&&f.eulaContent(t.eulaContent),t.acquireItemReviewHeader&&(f.acquireitemReviewHeader=t.acquireItemReviewHeader),t.isAlwaysEditable&&(f.isActive(!0),f.editContainerVisible(!0)),f}return __extends(t,n),t.prototype.reset=function(){},t.prototype.startEdit=function(){this.editContainerVisible(!0);this.isActive(!0);this.isCompleted(!0)},t.prototype.completeStep=function(){this.isCompleted(!0);this.isActive(!1)},t}(f.TemplateViewModel);t.VSSAcquireItemReviewViewModel=e});
define("Gallery/Client/Controls/VSSCollectionSelection/VSSCollectionSelection",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.VSSCollectionSelection=r});
define("Gallery/Client/Controls/VSSCollectionSelection/VSSCollectionSelection.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Controls/Spinner/Spinner.ViewModel","Gallery/Client/Controls/TargetSelection/TargetSelection.ViewModel","Gallery/Client/Common/Constants","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var s=function(n){function t(t){var f=n.call(this,{targets:t.collections,targetId:t.targetCollectionId,completionPreProcess:t.onCollectionSelected,isAlwaysEditable:t.isAlwaysEditable,inlineTargetSelectionTitle:t.inlineCollectionSelectionTitle})||this,s;return f._koServerName="",f._koShowServerDetails=!1,f._koCollectionLoadingErrorMessage=i.observable(null),f.loadingCollectionSpinner=new u.SpinnerViewModel({startSpinnerAnnounceMessage:r.StartCollectionFetchingScreenReaderText,endSpinnerAnnounceMessage:r.EndCollectionFetchingScreenReaderText,errorSpinnerAnnounceMessage:r.ErrorCollectionFetchingScreenReaderText,showSpinner:!1,spinnerMessage:r.LoadingCollectionsMessage}),f.stepId=e.AcquisitionStepIds.CollectionSelection,f._targetSelectionHelpText=t.isAlwaysEditable?"":r.CollectionSelectionHelpText,t.serverName&&(f._koServerName=t.serverName),f._koShowServerDetails=t.showServerDetails,f._koServerText=r.Server,f._noTargetsAvailableText=r.NoCollectionsAvailableText,f._targetSelectionHeader=t.stepHeader?t.stepHeader:r.VSSCollectionSelectionHeader,s="<div class='selected-target'>"+o.htmlEncode(t.serverName)+"<\/div>",f.targetSelectedText(o.format(r.CollectionSelectionReadOnlyText,s)),f._alreadyInstalledText=r.VSSCollectionAlreadyInstalledText,f._multiTargetAlreadyInstalledText=r.VSSCollectionMultiCollectionAlreadyInstalled,f._alreadyRequestedText=r.VSSCollectionAlreadyRequestedText,f._multiTargetAlreadyRequestedText=r.VSSCollectionMultiCollectionAlreadyRequested,f._noActionAvailableText=r.VSSCollectionNoActionAvailable,f._multiTargetNoActionAvailableText=r.VSSCollectionMultiCollectionAlreadyInstalled,f._unmetDemandsText=o.format(r.ExtensionInstallUnmetDemands,r.InstallationTargetCollection),f.targetSelectionHelpTextId="target-selection-header-text",f.selectedTargetName=f.computed(function(){if(f.selectedTarget()){var n=f.selectedTarget().name;return f.targetCheckingSpinner.spinnerMessage(o.format("{0} {1}",r.SelectedAccountCheckMessage,n)),f.htmlEncodedSelectedTargetName=o.htmlEncode(n),n}return""}),f}return __extends(t,n),t.prototype.bindValidator=function(n){this._stepValidator=n},t.prototype.reset=function(){},t.prototype._getTargetCheckingSpinner=function(){return new u.SpinnerViewModel({startSpinnerAnnounceMessage:r.StartCollectionValidationScreenReaderText,endSpinnerAnnounceMessage:r.EndCollectionValidationScreenReaderText,errorSpinnerAnnounceMessage:r.ErrorCollectionValidationScreenReaderText,showSpinner:!1,spinnerMessage:""})},t}(f.TargetSelectionViewModel);t.VSSCollectionSelectionViewModel=s});
define("VSS/ExtensionManagement/RestClient",["require","exports","VSS/Contributions/Contracts","VSS/Gallery/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u,f){"use strict";function d(n){return window.VSS&&window.VSS.VssSDKRestVersion&&b[window.VSS.VssSDKRestVersion]?u.getClient(b[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(l,undefined,undefined,undefined,n)}var s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getToken=function(){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"3a2e24ed-1d6f-4cb2-9f3b-45a96bbfaf50",resource:"Token",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.tokenApiVersion})},t.prototype.requestExtension=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"f5afca1e-a728-4294-aa2d-4af0173431b5",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/requests/me",responseType:i.TypeInfo.RequestedExtension,routeValues:{publisherName:n,extensionName:t},apiVersion:this.requestedExtensionsApiVersion,data:r})},t.prototype.deleteRequest=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"ExtensionManagement",locationId:"f5afca1e-a728-4294-aa2d-4af0173431b5",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/requests/me",routeValues:{publisherName:n,extensionName:t},apiVersion:this.requestedExtensionsApiVersion})},t.prototype.resolveAllRequests=function(n,t,i,r){var u={state:r};return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"ba93e1f3-511c-4364-8b9c-eb98818f2e0b",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}",routeValues:{publisherName:t,extensionName:i},queryParams:u,apiVersion:this.requestedExtensionsApiVersion_ba93e1f3,data:n})},t.prototype.getRequests=function(){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"216b978f-b164-424e-ada2-b77561e842b7",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.RequestedExtension,responseIsCollection:!0,apiVersion:this.requestedExtensionsApiVersion_216b978f})},t.prototype.resolveRequest=function(n,t,i,r,u){var f={state:u};return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"aa93e1f3-511c-4364-8b9c-eb98818f2e0b",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/requests/{requesterId}",routeValues:{publisherName:t,extensionName:i,requesterId:r},queryParams:f,apiVersion:this.requestedExtensionsApiVersion_aa93e1f3,data:n})},t.prototype.updateInstalledExtension=function(n){return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"275424d0-c844-4fe2-bda6-04933a1357d8",resource:"InstalledExtensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",requestType:i.TypeInfo.InstalledExtension,responseType:i.TypeInfo.InstalledExtension,apiVersion:this.installedExtensionsApiVersion,data:n})},t.prototype.getInstalledExtensions=function(n,t,r,u){var f={includeDisabledExtensions:n,includeErrors:t,assetTypes:r&&r.join(":"),includeInstallationIssues:u};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"275424d0-c844-4fe2-bda6-04933a1357d8",resource:"InstalledExtensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.InstalledExtension,responseIsCollection:!0,queryParams:f,apiVersion:this.installedExtensionsApiVersion})},t}(f.VssHttpClient),h,e,o,c,l,a,v,y,p,w,k,b;s.serviceInstanceId="00000028-0000-8888-8000-000000000000";t.CommonMethods2To3_2=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.uninstallExtensionByName=function(n,t,i,r){var u={reason:i,reasonCode:r};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"ExtensionManagement",locationId:"fb0da285-f23e-4b56-8b53-3ef5f9f6de66",resource:"InstalledExtensionsByName",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/{version}",routeValues:{publisherName:n,extensionName:t},queryParams:u,apiVersion:this.installedExtensionsByNameApiVersion})},t.prototype.installExtensionByName=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"fb0da285-f23e-4b56-8b53-3ef5f9f6de66",resource:"InstalledExtensionsByName",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/{version}",responseType:i.TypeInfo.InstalledExtension,routeValues:{publisherName:n,extensionName:t,version:r},apiVersion:this.installedExtensionsByNameApiVersion})},t.prototype.getInstalledExtensionByName=function(n,t,r){var u={assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"fb0da285-f23e-4b56-8b53-3ef5f9f6de66",resource:"InstalledExtensionsByName",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/{version}",responseType:i.TypeInfo.InstalledExtension,routeValues:{publisherName:n,extensionName:t},queryParams:u,apiVersion:this.installedExtensionsByNameApiVersion})},t.prototype.queryExtensions=function(n){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"046c980f-1345-4ce2-bf85-b46d10ff4cfd",resource:"InstalledExtensionQuery",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.InstalledExtension,responseIsCollection:!0,apiVersion:this.installedExtensionQueryApiVersion,data:n})},t.prototype.getStates=function(n,t,r){var u={includeDisabled:n,includeErrors:t,includeInstallationIssues:r};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"92755d3d-9a8a-42b3-8a4d-87359fe5aa93",resource:"ExtensionStates",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ExtensionState,responseIsCollection:!0,queryParams:u,apiVersion:this.extensionStatesApiVersion})},t.prototype.updateDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:t,extensionName:i,scopeType:r,scopeValue:u,collectionName:f},apiVersion:this.dataApiVersion,data:n})},t.prototype.setDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"PUT",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:t,extensionName:i,scopeType:r,scopeValue:u,collectionName:f},apiVersion:this.dataApiVersion,data:n})},t.prototype.getDocumentsByName=function(n,t,i,r,u){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",responseIsCollection:!0,routeValues:{publisherName:n,extensionName:t,scopeType:i,scopeValue:r,collectionName:u},apiVersion:this.dataApiVersion})},t.prototype.getDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:n,extensionName:t,scopeType:i,scopeValue:r,collectionName:u,documentId:f},apiVersion:this.dataApiVersion})},t.prototype.deleteDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:n,extensionName:t,scopeType:i,scopeValue:r,collectionName:u,documentId:f},apiVersion:this.dataApiVersion})},t.prototype.createDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:t,extensionName:i,scopeType:r,scopeValue:u,collectionName:f},apiVersion:this.dataApiVersion,data:n})},t}(s);t.CommonMethods2_1To3_2=h;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getPolicies=function(n){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"e5cc8c09-407b-4867-8319-2ae3338cbf6f",resource:"Policies",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:r.TypeInfo.UserExtensionPolicy,routeValues:{userId:n},apiVersion:this.policiesApiVersion})},t.prototype.queryCollectionsByName=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"56c331f1-ce53-4318-adfd-4db5c52a7a2e",resource:"ExtensionDataCollectionQuery",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}",responseIsCollection:!0,routeValues:{publisherName:t,extensionName:i},apiVersion:this.extensionDataCollectionQueryApiVersion,data:n})},t}(h);t.CommonMethods2_2To3_2=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.registerAuthorization=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"ExtensionManagement",locationId:"f21cfc80-d2d2-4248-98bb-7820c74c4606",resource:"Authorizations",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/{registrationId}",routeValues:{publisherName:n,extensionName:t,registrationId:i},apiVersion:this.authorizationsApiVersion})},t.prototype.requestAcquisition=function(n){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"da616457-eed3-4672-92d7-18d21f5c1658",resource:"AcquisitionRequests",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.ExtensionAcquisitionRequest,responseType:i.TypeInfo.ExtensionAcquisitionRequest,apiVersion:this.acquisitionRequestsApiVersion,data:n})},t.prototype.getAcquisitionOptions=function(n,t,r){var u={itemId:n,testCommerce:t,isFreeOrTrialInstall:r};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"288dff58-d13b-468e-9671-0fb754e9398c",resource:"AcquisitionOptions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.AcquisitionOptions,queryParams:u,apiVersion:this.acquisitionOptionsApiVersion})},t}(e);t.CommonMethods3To3_2=o;c=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="3.2-preview.1",r}return __extends(t,n),t}(o);t.ExtensionManagementHttpClient3_2=c;l=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="3.1-preview.1",r}return __extends(t,n),t}(o);t.ExtensionManagementHttpClient3_1=l;a=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="3.0-preview.1",r}return __extends(t,n),t}(o);t.ExtensionManagementHttpClient3=a;v=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.3-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient2_3=v;y=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.2-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient2_2=y;p=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.dataApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.1-preview.1",r}return __extends(t,n),t}(h);t.ExtensionManagementHttpClient2_1=p;w=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.installedExtensionsApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.0-preview.1",r}return __extends(t,n),t}(s);t.ExtensionManagementHttpClient2=w;k=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(c);t.ExtensionManagementHttpClient=k;b={"3.2":c,"3.1":l,"3.0":a,"2.3":v,"2.2":y,"2.1":p,"2.0":w};t.getClient=d});
define("Gallery/Client/Service/VSSExtensionManagement/VSSExtensionManagement",["require","exports","q","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Service/HttpClientProvider/HttpClientProvider","Gallery/Client/Service/Item","Gallery/Client/Service/VSSCommerce/IVSSCommerce","Gallery/Client/Service/VSSCommerce/VSSCommerce","Gallery/Client/Service/VSSItem","VSS/Context","VSS/Common/Contracts/Platform","VSS/Contributions/Contracts","VSS/ExtensionManagement/RestClient","VSS/Locations/RestClient","VSS/Service"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var b=function(){function n(n){this._collectionLevelEmsClients={};this._commerceDataProvider=n?n:new h.VSSCommerce}return n.prototype._getCollectionContext=function(n){var i=l.getDefaultWebContext(),t=$.extend(!0,{},i);return t.host.id=n.id,t.host.relativeUri=t.host.relativeUri+n.name+"/",t.host.hostType=a.ContextHostType.ProjectCollection,t.host.uri=t.host.uri+n.name+"/",t.host.name=n.name,t.collection=t.host,t},n.prototype._getCollectionEmsClient=function(n){var u=this,t=$.Deferred(),i,r;return l.getPageContext().webAccessConfiguration.isHosted?this._collectionLevelEmsClients[n.id]===undefined||this._collectionLevelEmsClients[n.id]===null?(i=n,this._getEmsCollections(i).then(function(r){var f=e.HttpClientProvider.getHttpClient(y.ExtensionManagementHttpClient3_1,r.locationMappings[0].location,i.id,i.tenantId);u._collectionLevelEmsClients[n.id]=f;t.resolve(f)},function(n){t.reject(n)})):t.resolve(this._collectionLevelEmsClients[n.id]):(this._collectionLevelEmsClients[n.id]===undefined&&(r=w.getCollectionClient(y.ExtensionManagementHttpClient3_1,this._getCollectionContext(n)),this._collectionLevelEmsClients[n.id]=r),t.resolve(this._collectionLevelEmsClients[n.id])),t.promise()},n.prototype._getEmsCollections=function(n){var t=$.Deferred(),i=e.HttpClientProvider.getHttpClient(p.LocationsHttpClient,n.spsAccountUrl,n.id,n.tenantId);return i.getServiceDefinition("LocationService2","00000028-0000-8888-8000-000000000000",!0).then(function(n){n&&n.locationMappings&&n.locationMappings.length>=1?t.resolve(n):t.reject(new Error(r.AcquireItemGenericError))},function(n){t.reject(n)}),t.promise()},n.prototype._handleAcquireItemError=function(t,i,r,e,s){var h={},l=u.CustomerIntelligenceConstants.MarketPlaceIntelligencePropertyName;h[l.ITEM_NAME]=e;h[l.PRICE_CATEGORY]=o.priceCategory[r.priceCategory];h[l.OPERATION]=c.VSSItemAcquisitionOption[s];h[l.ERROR]=JSON.stringify(t);h[l.PRODUCT_TYPE]=n.VSTS_PRODUCT_TYPE;f.TelemetryHelper.publishEvent(u.CustomerIntelligenceConstants.MarketPlaceIntelligenceErrors.ACQUIRE_ITEM_ERROR,h);i.reject(t)},n.prototype.acquireItemEms=function(t,r,u,f,e,o,h,l,a){var k=this,y,p,d;if(h===void 0&&(h=[]),y=i.defer(),p=null,r?h.forEach(function(n){n.id===r&&(p=n)}):r=s.SubscriptionConstants.EmptyGuid,t){var b=c.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name),w=v.AcquisitionOperationType.Request,g={};a&&(g.skipInstall=!0);u===c.VSSItemAcquisitionOption.Buy?w=v.AcquisitionOperationType.Buy:u===c.VSSItemAcquisitionOption.Install?w=v.AcquisitionOperationType.Install:u===c.VSSItemAcquisitionOption.Try&&(w=v.AcquisitionOperationType.Try);d={assignmentType:v.AcquisitionAssignmentType.None,billingId:f,itemId:b,operationType:w,quantity:e+o,properties:g};l&&(d.properties.requestMessage=l);p=p?p:{};this._getCollectionEmsClient(p).then(function(i){i.requestAcquisition(d).then(function(i){u===c.VSSItemAcquisitionOption.Buy?d.quantity>0?k._commerceDataProvider.createOfferSubscriptionForItem(b,p.id,f,d.quantity).then(function(){y.resolve(i)},function(n){k._handleAcquireItemError(n,y,t,b,w)}):k._commerceDataProvider.cancelOfferSubscriptionForItem(b,p.id,f,n.CANCEL_REASON).then(function(){y.resolve(i)},function(n){k._handleAcquireItemError(n,y,t,b,w)}):y.resolve(i)},function(n){k._handleAcquireItemError(n,y,t,b,w)})},function(n){y.reject(n)})}else y.reject("item is invalid");return y.promise},n.prototype.getEmsAcquisitionOptions=function(n,t,r,u){var f,e;return r===void 0&&(r=!1),u===void 0&&(u=!1),f=i.defer(),n&&t?(e=n.publisherName+"."+n.name,this._getCollectionEmsClient(t).then(function(n){n.getAcquisitionOptions(e,r,u).then(function(n){var t=n.defaultOperation;f.resolve(t)},function(n){f.reject(n)})},function(n){f.reject(n)})):f.reject("item is invalid"),f.promise},n.prototype.getPolicies=function(n){var t=i.defer(),r=l.getDefaultWebContext().user?l.getDefaultWebContext().user.id:null;return this._getCollectionEmsClient(n).then(function(n){n.getPolicies("me").then(function(n){t.resolve(n)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise},n}();b.CANCEL_REASON="Canceled by selecting 0 quantity in Visual Studio Marketplace";b.VSTS_PRODUCT_TYPE="VSTS";t.VSSExtensionManagement=b});
define("Gallery/Client/Controls/VSSRequestItem/VSSRequestItem.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i.TemplateControl);t.VSSRequestItem=r});
define("Gallery/Client/Controls/VSSRequestItem/VSSRequestItem.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Utils/Core","Gallery/Client/Common/Constants","VSS/Context","VSS/Adapters/Knockout"],function(n,t,i,r,u,f,e,o){var s=function(n){function t(){var t=n.call(this)||this;return t.isValid=i.observable(!0),t.isCompleted=i.observable(!1),t.isActive=i.observable(!1),t.isHidden=i.observable(!0),t.stepId=f.AcquisitionStepIds.Request,t.subHeaderText=r.VSS_RequestItemHeader,t.headerText=r.ConfirmRequestText,t.requestReason=i.observable(""),t.targetStatusText=i.observable(null),t.requestHelpText=r.VSS_RequestHelpText,t.requestContainerHasFocus=i.observable(!1),e.getPageContext().webAccessConfiguration.isHosted||(t.requestHelpText=r.CollectionInstallRequestHelpText),t}return __extends(t,n),t.prototype.reset=function(){},t.prototype.startEdit=function(){var n=this;this.isActive(!0);this.isCompleted(!0);u.delay(this,0,function(){n.requestContainerHasFocus(!0)})},t.prototype.completeStep=function(){this.isCompleted(!0);this.isActive(!1)},t}(o.TemplateViewModel);t.VSSRequestItemViewModel=s});
define("Gallery/Client/Pages/Install/Install.View",["require","exports","q","Gallery/Client/Controls/AccountBasedPurchaseDetails/AccountBasedPurchaseDetails.View","Gallery/Client/Controls/AccountBasedPurchaseDetails/AccountBasedPurchaseDetails.ViewModel","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquireItemCompletionMessage.View","Gallery/Client/Controls/AcquireItemCompletionMessage/AcquireItemCompletionMessage.ViewModel","Gallery/Client/Controls/AcquireItemWizard/AcquireItemWizard.View","Gallery/Client/Controls/AcquireItemWizard/AcquireItemWizard.ViewModel","Gallery/Client/Common/AcquisitionTelemetry","Gallery/Client/Controls/BuyCustomization/AnnualBuyCustomization.ViewModel","Gallery/Client/Pages/Common/Base.View","Gallery/Client/Controls/BreadCrumb/BreadCrumb.ViewModel","Gallery/Client/Controls/BuyCustomization/BuyCustomization.View","Gallery/Client/Controls/BuyCustomization/BuyCustomization.ViewModel","Gallery/Client/Controls/AcquireItemWizard/BuyExtensionWorkflow","Gallery/Client/Controls/AcquireItemWizard/BuyExtensionWorkflowForOnPrem","Gallery/Client/Controls/AcquireItemWizard/BuyOfferWorkflow","Gallery/Client/Controls/AcquireItemWizard/BuyResourceWorkflow","Gallery/Client/Common/ConnectedContext","Gallery/Client/Common/Constants","Gallery/Client/Controls/AcquireItemWizard/FreeExtensionWorkflow","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Service/HistoryService","Gallery/Client/Pages/Common/ItemContext","Gallery/Client/Service/Item","Gallery/Client/Controls/ItemTile/Item.View","Gallery/Client/Controls/ItemTile/ItemTile.ViewModel","Gallery/Client/Controls/AcquireItemWizard/OnPremConnectedFreeWorkflow","Gallery/Client/Controls/AcquireItemWizard/OnPremConnectedPaidWorkflow","Gallery/Client/Controls/AcquireItemWizard/OnPremExtensionWorkflow","Gallery/Client/Controls/PackageCompatCheck/PackageCompatCheck.View","Gallery/Client/Controls/PackageCompatCheck/PackageCompatCheck.ViewModel","Gallery/Client/Controls/RatingControl/RatingControl.View","Gallery/Client/Controls/RatingControl/RatingControl.ViewModel","Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelection.View","Gallery/Client/Controls/SubscriptionSelection/SubscriptionSelection.ViewModel","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Common/Utility.Common","Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelection","Gallery/Client/Controls/VSSAccountSelection/VSSAccountSelection.ViewModel","Gallery/Client/Controls/VSSAcquireItemReview/VSSAcquireItemReview.View","Gallery/Client/Controls/VSSAcquireItemReview/VSSAcquireItemReview.ViewModel","Gallery/Client/Controls/VSSCollectionSelection/VSSCollectionSelection","Gallery/Client/Controls/VSSCollectionSelection/VSSCollectionSelection.ViewModel","Gallery/Client/Service/VSSCommerce/VSSCommerce","Gallery/Client/Service/VSSExtensionManagement/VSSExtensionManagement","Gallery/Client/Service/VSSGallery/VSSGallery","Gallery/Client/Service/VSSItem","Gallery/Client/Controls/VSSRequestItem/VSSRequestItem.View","Gallery/Client/Controls/VSSRequestItem/VSSRequestItem.ViewModel","Gallery/Client/Service/VSSItemHelper","VSS/Context","VSS/Common/Contracts/Platform","VSS/Controls","VSS/Events/Action","VSS/Gallery/Contracts","VSS/Adapters/Knockout","VSS/Context","VSS/Serialization","VSS/Utils/Core","VSS/Utils/String","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir){var fr=nr.delegate,er=rt.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties,or=rt.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ConnectedContextWorkflowProperties,rr=dt.WindowWrapper,ur=function(n){function t(t){var i=n.call(this,t)||this;return i._vssCommerce=new ei.VSSCommerce,i._vssExtensionManagement=new oi.VSSExtensionManagement,i._itemBannerViewModel=null,i._isFreeInstall=!1,i._isSkipBuy=!1,i._isTestCommerceEnabled=!1,i._isExternalSource=!1,i._installContext=null,i._errorCount=0,i._isWorkFlowCompleted=!1,i._isPaidItem=!1,i._errorString="",i._abandonmentString="",i._detailedItem=null,i._historyService=ut.HistoryService.getInstance(),i}return __extends(t,n),t.prototype.initialize=function(){var t=this,r,u;rt.GalleryPerformance.startScenario(rt.PerformanceConstants.LoadInstallPage);rt.GalleryPerformance.split("Install.View.ScriptsLoaded");n.prototype.initialize.call(this);r=dt.getItemNameForInstall();this._itemId=r;this._detectURLParamSettings();this._targetId=gi.deserializeJsonIsland($(".vss-target-id"),null);this._isExternalSource&&(this._publishJobId=gi.deserializeJsonIsland($(".vss-publish-jobid"),null),this._installContext=JSON.parse(gi.deserializeJsonIsland($(".vss-install-context"),null)));u=function(){var n=kt.GalleryURLs.getItemDetailsURL(r);dt.WindowWrapper.open(n,"_self","handleItemNotFound")};this._acquireItemWizardVMCreattionDeferred=i.defer();this._acquireItemWizardVMCreationPromise=this._acquireItemWizardVMCreattionDeferred.promise;this._getDetailedItemPromise=this._getItemPromise(r);this._getDetailedItemPromise?this._getDetailedItemPromise.then(function(n){t._isPaidItem=n.priceCategory===et.priceCategory.Paid?!0:!1;t._logInitiateWorkflowTelemetry(n);t._windowUnloadEventHandler=fr(t,t._handleAbandonment);t._populateItemScopeData(n);t._detailedItem=n;t._drawPageContent(n);wi.getService().registerActionWorker(g.GalleryEvents.LAUNCH_INSTALL,function(){t._vssCommerce=new ei.VSSCommerce;t._detectURLParamSettings();t._detailedItem!==null&&t._drawPageContent(t._detailedItem);t._logInitiateWorkflowTelemetry(n)});wi.getService().registerActionWorker(g.GalleryEvents.CREATE_ACCOUNT,function(){h.CiUtil.publishTelemetryForCreateNewAccount(n)});wi.getService().registerActionWorker(g.GalleryEvents.UNLOAD_DETAILS,function(){t._windowUnloadEventHandler()});wi.getService().registerActionWorker(g.GalleryEvents.UNLOAD_INSTALL,function(){t._windowUnloadEventHandler()});rt.GalleryPerformance.endScenario(rt.PerformanceConstants.LoadInstallPage)},u):u()},t.prototype._logInitiateWorkflowTelemetry=function(n){h.CiUtil.publishTelemetryForInitiateWorkflow(n,kt.GalleryURLs.getQueryParameters(rr.getCurrentUrl())[kt.GalleryURLs.Referrer]||document.referrer)},t.prototype._detectURLParamSettings=function(){rr.getQueryString()&&rr.getQueryString().length>0&&(this._isFreeInstall=kt.GalleryURLs.isFreeInstall(rr.getQueryString()),this._isSkipBuy=kt.GalleryURLs.isSkipBuy(rr.getQueryString()),this._isTestCommerceEnabled=kt.GalleryURLs.isTestCommerceEnabled(rr.getQueryString()),this._isExternalSource=kt.GalleryURLs.isExternalInstall(rr.getQueryString()))},t.prototype._getItemPromise=function(n){var i=this,t;return this._options.VSSDataProvider?(this._vssGallery=this._options.VSSDataProvider,this._options.VSSDataProvider instanceof si.VSSGalleryExternalProvider&&(this._externalGallery=this._options.VSSDataProvider),this._projectCollections=gi.deserializeJsonIsland($(".vss-project-collections"),null)):(t=ft.getVSSJsonDataProviderInitOptions(),t&&(this._vssGallery=new si.VSSCachingProvider(t),this._projectCollections=t.projectCollections,t.extension&&(t.extension.flags&bi.PublishedExtensionFlags.Public)!==bi.PublishedExtensionFlags.Public&&(this._accountIdsFilter={},t.extension.sharedWith&&t.extension.sharedWith.forEach(function(n){i._accountIdsFilter[n.id.toLowerCase()]=!0})))),this._vssGallery.getDetailedItem(n)},t.prototype._drawPageContent=function(n){this._showItemBanner(n);vi.getPageContext().webAccessConfiguration.isHosted?this._drawPageContentHosted(n):this._drawPageContentOnPrem(n)},t.prototype._drawPageContentOnPrem=function(n){var t=gi.deserializeJsonIsland($(".is-connected-server"),!1);!t||this._isSkipBuy||n.priceCategory===et.priceCategory.Free||n.isPreview?this._showOnPremFreeExtensionWizardControl(n):this._showOnPremConnectedPaidExtensionWizardControl(n)},t.prototype._drawPageContentHosted=function(n){var i=this._getUserId(),r=d.getConnectedContext(),t=ai.VSSItemHelper.getWorkFlow(n,this._isFreeInstall,this._isSkipBuy,this._isTestCommerceEnabled);t===hi.VSSWorkFlow.BuyOfferWorkflow?this._showItemOfferWizardControl(i,n):t===hi.VSSWorkFlow.BuyResourceWorkflow?this._showItemResourceWizardControl(n):t===hi.VSSWorkFlow.BuyOnPremExtensionWorkflow?this._showForOnPremBuyExtensionWizardControl(i,n,r):t===hi.VSSWorkFlow.TrialExtensionWorkflow||t===hi.VSSWorkFlow.FreeExtensionWorkflow?this._showFreeExtensionWizardControl(n):t===hi.VSSWorkFlow.BuyExtensionWorkflow&&this._showBuyExtensionWizardControl(i,n)},t.prototype._getUserId=function(){var n=di.getPageContext();return n.webContext.user.id},t.prototype._getEulaContent=function(n){var u=vi.getPageContext().webAccessConfiguration.isHosted,i,f="",r="",e=it.TermsAndConditionsText;n.itemType===hi.VSSItemType.VSSOffer?(i=it.EulaContent_Offer_CustomLicense,e=gt.isHockeyAppOffer(n.name)?it.HockeyAppOfferTermsAndConditionsText:dt.isXamarinUniversityAndPurchaseable(n)?it.XamarinUniversity_SubscriptionAgreement:it.OfferTermsAndConditionsText,r=n.licenseUrl?n.licenseUrl:dt.isXamarinUniversityAndPurchaseable(n)?tt.GalleryUrls.XamarinUniversityEulaUrl:tt.GalleryUrls.Eula_AzureLicenseUrl):tr.ignoreCaseComparer(n.publisherDisplayName,t.MICROSOFT_PUBLISHER_NAME)===0?n.isPreview?u?i=n.licenseUrl?it.EulaContent_Microsoft_Preview_CustomLicense:it.EulaContent_Microsoft_Preview_NoCustomLicense:(r=n.licenseUrl,i=it.EulaContent_Microsoft_Preview_CustomLicense):n.licenseUrl?(r=n.licenseUrl,i=it.EulaContent_Microsoft_CustomLicense):i=it.EulaContent_Microsoft_NoCustomLicense:(f=n.licenseUrl?tr.format("<a href='{0}' target='_blank'>"+it.PublisherTerms+"<\/a>",n.licenseUrl):it.PublisherTerms,i=it.EulaContent_ThirdPartyInstall);var o=tr.format("<a href='{0}' target='_blank'>"+e+"<\/a>",r),s=r?r:tt.GalleryUrls.Eula_AzureLicenseUrl,h=u?it.EulaTargetAccount:it.EulaTargetCollection,c=u?it.EulaContent_OnlineServiceTerms:it.EulaContent_MicrosoftSoftwareTerms;return tr.format(i,h,s,o,c,f)},t.prototype._showItemOfferWizardControl=function(n,t){var i=new b.BuyOfferWorkflow({commerceDataProvider:this._vssCommerce,userId:n,item:t,galleryDataProvider:this._vssGallery,eulaContent:this._getEulaContent(t)}),r={wizardWorkflow:i,eulaContent:this._getEulaContent(t),cssClassName:"buy-offer-workflow"};this._createAcquireItemWizard(r)},t.prototype._showItemResourceWizardControl=function(n){var t=new k.BuyResourceWorkflow({commerceDataProvider:this._vssCommerce,item:n,galleryDataProvider:this._vssGallery,createNewAccountUrl:this.getCreateNewAccountUrl(),targetAccountId:this._targetId,accountIdsFilter:this._accountIdsFilter,extensionManagementDataProvider:this._vssExtensionManagement}),i={wizardWorkflow:t,cssClassName:"buy-resource-workflow"};this._createAcquireItemWizard(i)},t.prototype._showForOnPremBuyExtensionWizardControl=function(n,t,i){var r=[{id:i.targetId,name:i.targetCollectionName,uri:i.targetUrl,hiddenAccountId:i.targetHiddenAccountId,subscriptionId:null,userHubUrl:i.targetUserHubUrl}],u=new w.BuyExtensionWorkflowForOnPrem({commerceDataProvider:new ei.VSSCommerce(null,!0),item:t,galleryDataProvider:this._vssGallery,extensionManagementDataProvider:null,collections:r,targetCollectionId:i.targetId,targetServerName:i.targetServerName,eulaContent:this._getEulaContent(t),targetServerId:i.targetServerId,connectUri:i.connectUrl,registrationId:i.registrationId,registrationKey:i.registrationKey,enabledFeatures:i.enabledFeatures,connectedAuthToken:i.authToken}),f={wizardWorkflow:u,eulaContent:this._getEulaContent(t),cssClassName:"buy-extension-workflow buy-workflow-onprem"};this._createAcquireItemWizard(f)},t.prototype._showBuyExtensionWizardControl=function(n,t){var i=new p.BuyExtensionWorkflow({commerceDataProvider:this._vssCommerce,userId:n,item:t,galleryDataProvider:this._vssGallery,extensionManagementDataProvider:this._vssExtensionManagement,createNewAccountUrl:this.getCreateNewAccountUrl(),accountIdsFilter:this._accountIdsFilter,targetAccountId:this._targetId,eulaContent:this._getEulaContent(t),onAbandonment:fr(this,this._onAbandonmentOccured)}),r={wizardWorkflow:i,eulaContent:this._getEulaContent(t),cssClassName:"buy-extension-workflow"};this._createAcquireItemWizard(r)},t.prototype._showOnPremFreeExtensionWizardControl=function(n){var t,i,r;this._externalGallery?(i=this._installContext?this._installContext[g.InstallContextConstants.itemLink]:null,t=new ht.OnPremConnectedFreeWorkflow({externalProvider:this._externalGallery,galleryDataProvider:this._vssGallery,extensionManagementDataProvider:this._vssExtensionManagement,collections:this._projectCollections,detailedItem:n,eulaContent:this._getEulaContent(n),targetCollectionId:this._targetId,publishJobId:this._publishJobId})):t=new lt.OnPremExtensionWorkflow({galleryDataProvider:this._vssGallery,extensionManagementDataProvider:this._vssExtensionManagement,detailedItem:n,collections:this._projectCollections,eulaContent:this._getEulaContent(n),targetCollectionId:this._targetId});r={wizardWorkflow:t,eulaContent:this._getEulaContent(n),cssClassName:"install-extension-workflow onprem-free-workflow-install",cancelButtonLink:i};this._createAcquireItemWizard(r)},t.prototype._showOnPremConnectedPaidExtensionWizardControl=function(n){var t=this._installContext?this._installContext[g.InstallContextConstants.itemLink]:null,i=new ct.OnPremConnectedPaidWorkflow({externalProvider:this._externalGallery,galleryDataProvider:this._vssGallery,extensionManagementDataProvider:this._vssExtensionManagement,collections:this._projectCollections,detailedItem:n,eulaContent:this._getEulaContent(n),targetCollectionId:this._targetId,publishJobId:this._publishJobId}),r={wizardWorkflow:i,eulaContent:this._getEulaContent(n),cssClassName:"install-extension-workflow onprem-paid-workflow-install",cancelButtonLink:t};this._createAcquireItemWizard(r)},t.prototype._showFreeExtensionWizardControl=function(n){var t=new nt.FreeExtensionWorkflow({commerceDataProvider:this._vssCommerce,galleryDataProvider:this._vssGallery,extensionManagementDataProvider:this._vssExtensionManagement,createNewAccountUrl:vi.getPageContext().webAccessConfiguration.isHosted?this.getCreateNewAccountUrl():"",detailedItem:n,eulaContent:this._getEulaContent(n),accountIdsFilter:this._accountIdsFilter,targetAccountId:this._targetId,onAbandonment:fr(this,this._onAbandonmentOccured)}),i={wizardWorkflow:t,eulaContent:this._getEulaContent(n),cssClassName:"install-extension-workflow"};this._createAcquireItemWizard(i)},t.prototype._createAcquireItemWizard=function(n){var t=this,r,u,i;this._isWorkFlowCompleted=!1;r=this.getElement().find(".acquire-item-workflow-container");u=ki.TemplateControl.applyRegisteredBinding("acquire-item-wizard-template",r,n);this._acquireItemWizardViewModel=u.getViewModel();this._acquireItemWizardVMCreattionDeferred.resolve(null);i=function(){t._acquireItemWizardViewModel.hasNonRecoverableError||(t._isWorkFlowCompleted=!0,t._itemBannerViewModel&&t._itemBannerViewModel.itemCss("acquire-item-completed"))};this._acquireItemWizardViewModel.subscribe(this._acquireItemWizardViewModel.workflowCompleted,i);this._acquireItemWizardViewModel.workflowAlreadyComplete&&this._acquireItemWizardViewModel.subscribe(this._acquireItemWizardViewModel.workflowAlreadyComplete,i)},t.prototype._onAbandonmentOccured=function(n){this._abandonmentString=n},t.prototype._clearInstallQueryParams=function(){var n=dt.getItemNameForInstall(),t=kt.GalleryURLs.getItemDetailsURL(n);this._historyService.replaceState(null,null,t)},t.prototype._handleAbandonment=function(){if(this._clearInstallQueryParams(),!this._isWorkFlowCompleted&&this._acquireItemWizardViewModel){var n=this._acquireItemWizardViewModel.currentStep();h.CiUtil.publishTelemetryOnAbandonment(this._detailedItem,this._isFreeInstall,this._isSkipBuy,this._isTestCommerceEnabled,n)}},t.prototype._showItemBanner=function(n){var t=null,i=null;n.properties[hi.ItemConstants.PROPERTY_BRANDING_COLOR]&&(t=n.properties[hi.ItemConstants.PROPERTY_BRANDING_COLOR]);n.properties[hi.ItemConstants.PROPERTY_BRANDING_THEME]&&(i=n.properties[hi.ItemConstants.PROPERTY_BRANDING_THEME]);var r=this.getElement().find(".install-page-item-banner"),u={item:n,brandingColor:t,brandingTheme:i},f=ki.TemplateControl.applyRegisteredBinding("item-banner-template",r,u);this._itemBannerViewModel=f.getViewModel()},t.prototype._populateItemScopeData=function(n){var t=$.parseJSON($(".vss-item-scope").html()),i=[];t&&$.each(t,function(n,t){i.push({title:t.Title,description:t.Description,value:t.Value})});n.scopes=i},t.prototype.getCreateNewAccountUrl=function(){var n=kt.GalleryURLs.CampaignWorkflowQueryParam+"&"+kt.GalleryURLs.CampaignWorkflowCreateContextQueryParam+"&account=true&createproject=none&reply_to="+encodeURIComponent(document.URL),t=vi.getPageContext().serviceLocations.locations[ir.ServiceInstanceTypes.SPS],i=t[yi.ContextHostType.Deployment];return i+"profile/account?"+n},t.prototype.registerControls=function(){n.prototype.registerControls.call(this);ki.TemplateControl.registerBinding("item-banner-template",ot.ItemBannerView,function(n){return new st.ItemTileViewModel(n)});ki.TemplateControl.registerBinding("vss-collection-selection-template",ui.VSSCollectionSelection,function(n){return new fi.VSSCollectionSelectionViewModel(n)});vi.getPageContext().webAccessConfiguration.isHosted?ki.TemplateControl.registerBinding("vss-account-selection-template",ni.VSSAccountSelection,function(n){return new ti.VSSAccountSelectionViewModel(n)}):ki.TemplateControl.registerBinding("package-compat-check-template",at.PackageCompatCheck,function(n){return new vt.PackageCompatCheckViewModel(n)});ki.TemplateControl.registerBinding("vss-request-item-template",ci.VSSRequestItem,function(n){return new li.VSSRequestItemViewModel(n)});ki.TemplateControl.registerBinding("subscription-selection-template",wt.SubscriptionSelection,function(n){return new bt.SubscriptionSelectionViewModel(n)});ki.TemplateControl.registerBinding("account-based-purchase-details-template",r.AccountBasedPurchaseDetailsView,function(n){return new u.AccountBasedPurchaseDetailsViewModel(n)});ki.TemplateControl.registerBinding("buy-customization-template",v.BuyCustomization,function(n){return n.isOfferWorkFlow?n.isYearlyItem?new c.AnnualBuyCustomizationViewModel(n):new y.MonthlyOfferBuyCustomizationViewModel(n):new y.BuyCustomizationViewModel(n)});ki.TemplateControl.registerBinding("acquire-item-wizard-template",o.AcquireItemWizard,function(n){return new s.AcquireItemWizardViewModel(n)});ki.TemplateControl.registerBinding("acquire-item-completion-message",f.AcquireItemCompletionMessageView,function(n){return new e.AcquireItemCompletionMessageViewModel(n)});ki.TemplateControl.registerBinding("bread-crumb-template",ki.TemplateControl,function(n){return new a.BreadCrumbViewModel(n)});ki.TemplateControl.registerBinding("rating-control-page-template",yt.RatingControlView,function(n){return new pt.RatingControlViewModel(n)});ki.TemplateControl.registerBinding("vss-acquireitem-review-template",ii.VSSAcquireItemReview,function(n){return new ri.VSSAcquireItemReviewViewModel(n)})},t}(l.BaseView);ur.TESTMANAGER_EXTENSION_NAME="vss-testmanager-web";ur.MICROSOFT_PUBLISHER_NAME="Microsoft";t.InstallView=ur;pi.Enhancement.registerEnhancement(ur,".main-section")});
/**
 * React (with addons) v15.3.1
 *
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e(44),o=e(162),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},{162:162,44:44}],2:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case S.topCompositionStart:return k.compositionStart;case S.topCompositionEnd:return k.compositionEnd;case S.topCompositionUpdate:return k.compositionUpdate}}function a(e,t){return e===S.topKeyDown&&t.keyCode===_}function s(e,t){switch(e){case S.topKeyUp:return b.indexOf(t.keyCode)!==-1;case S.topKeyDown:return t.keyCode!==_;case S.topKeyPress:case S.topMouseDown:case S.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var o,l;if(E?o=i(e):R?s(e,n)&&(o=k.compositionEnd):a(e,n)&&(o=k.compositionStart),!o)return null;P&&(R||o!==k.compositionStart?o===k.compositionEnd&&R&&(l=R.getData()):R=v.getPooled(r));var c=g.getPooled(o,t,n,r);if(l)c.data=l;else{var p=u(n);null!==p&&(c.data=p)}return h.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case S.topCompositionEnd:return u(t);case S.topKeyPress:var n=t.which;return n!==N?null:(M=!0,w);case S.topTextInput:var r=t.data;return r===w&&M?null:r;default:return null}}function p(e,t){if(R){if(e===S.topCompositionEnd||s(e,t)){var n=R.getData();return v.release(R),R=null,n}return null}switch(e){case S.topPaste:return null;case S.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case S.topCompositionEnd:return P?null:t.data;default:return null}}function d(e,t,n,r){var o;if(o=x?c(e,n):p(e,n),!o)return null;var i=y.getPooled(k.beforeInput,t,n,r);return i.data=o,h.accumulateTwoPhaseDispatches(i),i}var f=e(16),h=e(20),m=e(154),v=e(21),g=e(106),y=e(110),C=e(172),b=[9,13,27,32],_=229,E=m.canUseDOM&&"CompositionEvent"in window,T=null;m.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var x=m.canUseDOM&&"TextEvent"in window&&!T&&!r(),P=m.canUseDOM&&(!E||T&&T>8&&T<=11),N=32,w=String.fromCharCode(N),S=f.topLevelTypes,k={beforeInput:{phasedRegistrationNames:{bubbled:C({onBeforeInput:null}),captured:C({onBeforeInputCapture:null})},dependencies:[S.topCompositionEnd,S.topKeyPress,S.topTextInput,S.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:C({onCompositionEnd:null}),captured:C({onCompositionEndCapture:null})},dependencies:[S.topBlur,S.topCompositionEnd,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:C({onCompositionStart:null}),captured:C({onCompositionStartCapture:null})},dependencies:[S.topBlur,S.topCompositionStart,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:C({onCompositionUpdate:null}),captured:C({onCompositionUpdateCapture:null})},dependencies:[S.topBlur,S.topCompositionUpdate,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]}},M=!1,R=null,A={eventTypes:k,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};t.exports=A},{106:106,110:110,154:154,16:16,172:172,20:20,21:21}],3:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],4:[function(e,t,n){"use strict";var r=e(3),o=e(154),i=(e(71),e(156),e(124)),a=e(167),s=e(173),u=(e(175),s(function(e){return a(e)})),l=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=u(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=i(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)o[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var p in u)o[p]="";else o[a]=""}}}};t.exports=d},{124:124,154:154,156:156,167:167,173:173,175:175,3:3,71:71}],5:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e(143),i=e(176),a=e(26);e(168);i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?o("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),t.exports=r},{143:143,168:168,176:176,26:26}],6:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=x.getPooled(M.change,A,e,P(e));b.accumulateTwoPhaseDispatches(t),T.batchedUpdates(i,t)}function i(e){C.enqueueEvents(e),C.processEventQueue(!1)}function a(e,t){R=e,A=t,R.attachEvent("onchange",o)}function s(){R&&(R.detachEvent("onchange",o),R=null,A=null)}function u(e,t){if(e===k.topChange)return t}function l(e,t,n){e===k.topFocus?(s(),a(t,n)):e===k.topBlur&&s()}function c(e,t){R=e,A=t,O=e.value,D=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",U),R.attachEvent?R.attachEvent("onpropertychange",d):R.addEventListener("propertychange",d,!1)}function p(){R&&(delete R.value,R.detachEvent?R.detachEvent("onpropertychange",d):R.removeEventListener("propertychange",d,!1),R=null,A=null,O=null,D=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,o(e))}}function f(e,t){if(e===k.topInput)return t}function h(e,t,n){e===k.topFocus?(p(),c(t,n)):e===k.topBlur&&p()}function m(e,t){if((e===k.topSelectionChange||e===k.topKeyUp||e===k.topKeyDown)&&R&&R.value!==O)return O=R.value,A}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){if(e===k.topClick)return t}var y=e(16),C=e(17),b=e(20),_=e(154),E=e(44),T=e(97),x=e(108),P=e(132),N=e(139),w=e(140),S=e(172),k=y.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:S({onChange:null}),captured:S({onChangeCapture:null})},dependencies:[k.topBlur,k.topChange,k.topClick,k.topFocus,k.topInput,k.topKeyDown,k.topKeyUp,k.topSelectionChange]}},R=null,A=null,O=null,D=null,I=!1;_.canUseDOM&&(I=N("change")&&(!("documentMode"in document)||document.documentMode>8));var L=!1;_.canUseDOM&&(L=N("input")&&(!("documentMode"in document)||document.documentMode>11));var U={get:function(){return D.get.call(this)},set:function(e){O=""+e,D.set.call(this,e)}},F={eventTypes:M,extractEvents:function(e,t,n,o){var i,a,s=t?E.getNodeFromInstance(t):window;if(r(s)?I?i=u:a=l:w(s)?L?i=f:(i=m,a=h):v(s)&&(i=g),i){var c=i(e,t);if(c){var p=x.getPooled(M.change,c,n,o);return p.type="change",b.accumulateTwoPhaseDispatches(p),p}}a&&a(e,s,t)}};t.exports=F},{108:108,132:132,139:139,140:140,154:154,16:16,17:17,172:172,20:20,44:44,97:97}],7:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):v(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(v(e,o,r),o===n)break;o=i}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&v(r,document.createTextNode(n),o):n?(m(o,n),u(r,o,t)):u(r,e,t)}var c=e(8),p=e(12),d=e(76),f=(e(44),e(71),e(123)),h=e(145),m=e(146),v=f(function(e,t,n){e.insertBefore(t,n)}),g=p.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case d.INSERT_MARKUP:o(e,s.content,r(e,s.afterNode));break;case d.MOVE_EXISTING:i(e,s.fromNode,r(e,s.afterNode));break;case d.SET_MARKUP:h(e,s.content);break;case d.TEXT_CONTENT:m(e,s.content);break;case d.REMOVE_NODE:a(e,s.fromNode)}}}};t.exports=y},{12:12,123:123,145:145,146:146,44:44,71:71,76:76,8:8}],8:[function(e,t,n){"use strict";function r(e){if(v){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)g(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&f(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){v?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){v?e.html=t:p(e.node,t)}function s(e,t){v?e.text=t:f(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=e(9),p=e(145),d=e(123),f=e(146),h=1,m=11,v="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),g=d(function(e,t,n){t.node.nodeType===m||t.node.nodeType===h&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=g,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},{123:123,145:145,146:146,9:9}],9:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],10:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(143),i=(e(168),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?o("48",p):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o("50",p),u.hasOwnProperty(p)){var m=u[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),s.properties[p]=h}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};t.exports=s},{143:143,168:168}],11:[function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var i=e(10),a=(e(44),e(71),e(142)),s=(e(175),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=c},{10:10,142:142,175:175,44:44,71:71}],12:[function(e,t,n){"use strict";var r=e(143),o=e(8),i=e(154),a=e(159),s=e(160),u=(e(168),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});t.exports=u},{143:143,154:154,159:159,160:160,168:168,8:8}],13:[function(e,t,n){"use strict";var r=e(172),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{172:172}],14:[function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getHostProps:function(e,t){if(!t.disabled)return t;var n={};for(var o in t)!r[o]&&t.hasOwnProperty(o)&&(n[o]=t[o]);return n}};t.exports=o},{}],15:[function(e,t,n){"use strict";var r=e(16),o=e(20),i=e(44),a=e(112),s=e(172),u=r.topLevelTypes,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},c={eventTypes:l,extractEvents:function(e,t,n,r){if(e===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var p,d;if(e===u.topMouseOut){p=t;var f=n.relatedTarget||n.toElement;d=f?i.getClosestInstanceFromNode(f):null}else p=null,d=t;if(p===d)return null;var h=null==p?s:i.getNodeFromInstance(p),m=null==d?s:i.getNodeFromInstance(d),v=a.getPooled(l.mouseLeave,p,n,r);v.type="mouseleave",v.target=h,v.relatedTarget=m;var g=a.getPooled(l.mouseEnter,d,n,r);return g.type="mouseenter",g.target=m,g.relatedTarget=h,o.accumulateEnterLeaveDispatches(v,g,p,d),[v,g]}};t.exports=c},{112:112,16:16,172:172,20:20,44:44}],16:[function(e,t,n){"use strict";var r=e(171),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};t.exports=a},{171:171}],17:[function(e,t,n){"use strict";var r=e(143),o=e(18),i=e(19),a=e(62),s=e(119),u=e(128),l=(e(168),{}),c=null,p=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h=function(e){return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?r("94",t,typeof n):void 0;var i=h(e),a=l[t]||(l[t]={});a[i]=n;var s=o.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t],r=h(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=l[t];if(r){var i=h(e);delete r[i]}},deleteAllListeners:function(e){var t=h(e);for(var n in l)if(l.hasOwnProperty(n)&&l[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete l[n][t]}},extractEvents:function(e,t,n,r){for(var i,a=o.plugins,u=0;u<a.length;u++){var l=a[u];if(l){var c=l.extractEvents(e,t,n,r);c&&(i=s(i,c))}}return i},enqueueEvents:function(e){e&&(c=s(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,d):u(t,f),c?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=m},{119:119,128:128,143:143,168:168,18:18,19:19,62:62}],18:[function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a("96",e),!l.plugins[n]){t.extractEvents?void 0:a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a("98",i,e)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]?a("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(143),s=(e(168),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]?a("102",n):void 0,u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{143:143,168:168}],19:[function(e,t,n){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function o(e){return e===y.topMouseMove||e===y.topTouchMove}function i(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=C.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(o,n,e):v.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?h("103"):void 0,e.currentTarget=t?C.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(143),m=e(16),v=e(62),g=(e(168),e(175),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),y=m.topLevelTypes,C={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:g};t.exports=C},{143:143,16:16,168:168,175:175,62:62}],20:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return C(e,r)}function o(e,t,n){var o=t?y.bubbled:y.captured,i=r(e,n,o);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchInstances=v(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=C(e,r);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchInstances=v(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){g(e,i)}function c(e){g(e,a)}function p(e,t,n,r){m.traverseEnterLeave(n,r,s,e,t)}function d(e){g(e,u)}var f=e(16),h=e(17),m=e(19),v=e(119),g=e(128),y=(e(175),f.PropagationPhases),C=h.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=b},{119:119,128:128,16:16,17:17,175:175,19:19}],21:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(176),i=e(26),a=e(136);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{136:136,176:176,26:26}],22:[function(e,t,n){"use strict";var r=e(10),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=l},{10:10}],23:[function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],24:[function(e,t,n){"use strict";var r=e(72),o=e(92),i={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};t.exports=i},{72:72,92:92}],25:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(143),u=e(82),l=e(81),c=e(83),p=(e(168),e(175),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t,n){return!e[t]||p[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},f={},h={checkPropTypes:function(e,t,n){for(var r in d){if(d.hasOwnProperty(r))var o=d[r](t,r,e,l.prop,null,c);o instanceof Error&&!(o.message in f)&&(f[o.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=h},{143:143,168:168,175:175,81:81,82:82,83:83}],26:[function(e,t,n){"use strict";var r=e(143),o=(e(168),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};t.exports=f},{143:143,168:168}],27:[function(e,t,n){"use strict";var r=e(176),o=e(32),i=e(34),a=e(84),s=e(33),u=e(47),l=e(60),c=e(82),p=e(98),d=e(141),f=(e(175),l.createElement),h=l.createFactory,m=l.cloneElement,v=r,g={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:d},Component:i,PureComponent:a,createElement:f,cloneElement:m,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:h,createMixin:function(e){return e},DOM:u,version:p,__spread:v};t.exports=g},{141:141,175:175,176:176,32:32,33:33,34:34,47:47,
60:60,82:82,84:84,98:98}],28:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=h++,d[e[v]]={}),d[e[v]]}var o,i=e(176),a=e(16),s=e(18),u=e(63),l=e(118),c=e(137),p=e(139),d={},f=!1,h=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=i({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=s.registrationNameDependencies[e],u=a.topLevelTypes,l=0;l<i.length;l++){var c=i[l];o.hasOwnProperty(c)&&o[c]||(c===u.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):m.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!o&&!f){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}}});t.exports=g},{118:118,137:137,139:139,16:16,176:176,18:18,63:63}],29:[function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var o=e(176),i=e(27),a=e(95),s=e(30),u=i.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:i.PropTypes.bool,transitionEnter:i.PropTypes.bool,transitionLeave:i.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return i.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return i.createElement(a,o({},this.props,{childFactory:this._wrapChild}))}});t.exports=u},{176:176,27:27,30:30,95:95}],30:[function(e,t,n){"use strict";var r=e(27),o=e(40),i=e(152),a=e(94),s=e(141),u=17,l=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=o.findDOMNode(this);if(!r)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||s+"-active",l=null,c=function(e){e&&e.target!==r||(clearTimeout(l),i.removeClass(r,s),i.removeClass(r,u),a.removeEndEventListener(r,c),t&&t())};i.addClass(r,s),this.queueClassAndNode(u,r),n?(l=setTimeout(c,n),this.transitionTimeouts.push(l)):a.addEndEventListener(r,c)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,u))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){i.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});t.exports=l},{141:141,152:152,27:27,40:40,94:94}],31:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var o=e(86),i=e(138),a=(e(23),e(148)),s=e(149);e(175);"undefined"!=typeof n&&n.env,1;var u={instantiateChildren:function(e,t,n,o){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var d,f;for(d in t)if(t.hasOwnProperty(d)){f=e&&e[d];var h=f&&f._currentElement,m=t[d];if(null!=f&&a(h,m))o.receiveComponent(f,m,s,c),t[d]=f;else{f&&(r[d]=o.getHostNode(f),o.unmountComponent(f,!1));var v=i(m,!0);t[d]=v;var g=o.mountComponent(v,s,u,l,c,p);n.push(g)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(f=e[d],r[d]=o.getHostNode(f),o.unmountComponent(f,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}};t.exports=u}).call(this,void 0)},{138:138,148:148,149:149,175:175,23:23,86:86}],32:[function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,o,n,v.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,i+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),o.push(u))}function l(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,o,i);g(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return l(e,t,null,v.thatReturnsArgument),t}var h=e(26),m=e(60),v=e(160),g=e(149),y=h.twoArgumentPooler,C=h.fourArgumentPooler,b=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,C);var _={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:d,toArray:f};t.exports=_},{149:149,160:160,26:26,60:60}],33:[function(e,t,n){"use strict";function r(e,t){var n=E.hasOwnProperty(t)?E[t]:null;x.hasOwnProperty(t)&&(n!==b.OVERRIDE_BASE?p("73",t):void 0),e&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?p("74",t):void 0)}function o(e,t){if(t){"function"==typeof t?p("75"):void 0,h.isValidElement(t)?p("76"):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(C)&&T.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==C){var a=t[i],l=n.hasOwnProperty(i);if(r(l,i),T.hasOwnProperty(i))T[i](e,a);else{var c=E.hasOwnProperty(i),d="function"==typeof a,f=d&&!c&&!l&&t.autobind!==!1;if(f)o.push(i,a),n[i]=a;else if(l){var m=E[i];!c||m!==b.DEFINE_MANY_MERGED&&m!==b.DEFINE_MANY?p("77",m,i):void 0,m===b.DEFINE_MANY_MERGED?n[i]=s(n[i],a):m===b.DEFINE_MANY&&(n[i]=u(n[i],a))}else n[i]=a}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in T;o?p("78",n):void 0;var i=n in e;i?p("79",n):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:p("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?p("81",n):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=l(e,o)}}var p=e(143),d=e(176),f=e(34),h=e(60),m=(e(81),e(80),e(78)),v=e(161),g=(e(168),e(171)),y=e(172),C=(e(175),y({mixins:null})),b=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],E={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},T={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},x={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};d(P.prototype,f.prototype,x);var N={createClass:function(e){var t=function(e,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=n,this.refs=v,this.updater=r||m,this.state=null;var o=this.getInitialState?this.getInitialState():null;"object"!=typeof o||Array.isArray(o)?p("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=o};t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],_.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:p("83");for(var n in E)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){_.push(e)}}};t.exports=N},{143:143,161:161,168:168,171:171,172:172,175:175,176:176,34:34,60:60,78:78,80:80,81:81}],34:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}var o=e(143),i=e(78),a=(e(121),e(161));e(168),e(175);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?o("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};t.exports=r},{121:121,143:143,161:161,168:168,175:175,78:78}],35:[function(e,t,n){"use strict";var r=e(7),o=e(49),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},{49:49,7:7}],36:[function(e,t,n){"use strict";var r=e(143),o=(e(168),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r("104"):void 0,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{143:143,168:168}],37:[function(e,t,n){"use strict";var r=e(147),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};t.exports=o},{147:147}],38:[function(e,t,n){"use strict";function r(e){}function o(e,t){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function a(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=e(143),u=e(176),l=e(36),c=e(39),p=e(60),d=e(62),f=e(70),h=(e(71),e(77)),m=(e(81),e(86)),v=e(122),g=e(161),y=(e(168),e(174)),C=e(148),b=(e(175),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=f.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var _=1,E={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,u){this._context=u,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var l,c=this._currentElement.props,d=this._processContext(u),h=this._currentElement.type,m=e.getUpdateQueue(),v=i(h),y=this._constructComponent(v,c,d,m);v||null!=y&&null!=y.render?a(h)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(l=y,o(h,l),null===y||y===!1||p.isValidElement(y)?void 0:s("105",h.displayName||h.name||"Component"),y=new r(h),this._compositeType=b.StatelessFunctional),y.props=c,y.context=d,y.refs=g,y.updater=m,this._instance=y,f.set(y,this);var C=y.state;void 0===C&&(y.state=C=null),"object"!=typeof C||Array.isArray(C)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var E;return E=y.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,u):this.performInitialMount(l,t,n,e,u),y.componentDidMount&&e.getReactMountReady().enqueue(y.componentDidMount,y),E},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o,i=this._currentElement.type;return o=e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var a=h.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==h.EMPTY);this._renderedComponent=s;var u=0,l=m.mountComponent(s,r,t,n,this._processChildContext(o),u);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,f.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var o in r)o in t.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",o);return u({},e,r)}return e},_checkContextTypes:function(e,t,n){v(e,t,n,this.getName(),null,this._debugID)},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===o?a=i.context:(a=this._processContext(o),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,a);var p=this._processPendingState(c,a),d=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?d=i.shouldComponentUpdate(c,p,a):this._compositeType===b.PureClass&&(d=!y(l,c)||!y(i.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,a,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=p,i.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=u({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];u(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(C(r,o))m.receiveComponent(n,o,e,this._processChildContext(t));else{var i=m.getHostNode(n);m.unmountComponent(n,!1);var a=h.getType(o);this._renderedNodeType=a;var s=this._instantiateReactComponent(o,a!==h.EMPTY);this._renderedComponent=s;var u=0,l=m.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),u);this._replaceNodeWithMarkup(i,l,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;if(this._compositeType!==b.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||p.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),o=n.refs===g?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b.StatelessFunctional?null:e},_instantiateReactComponent:null},T={Mixin:E};t.exports=T},{122:122,143:143,148:148,161:161,168:168,174:174,175:175,176:176,36:36,39:39,60:60,62:62,70:70,71:71,77:77,81:81,86:86}],39:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],40:[function(e,t,n){"use strict";var r=e(44),o=e(59),i=e(74),a=e(86),s=e(97),u=e(98),l=e(126),c=e(133),p=e(144);e(175);o.inject();var d={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});t.exports=d},{126:126,133:133,144:144,175:175,44:44,59:59,74:74,86:86,97:97,98:98}],41:[function(e,t,n){"use strict";var r=e(14),o={getHostProps:r.getHostProps};t.exports=o},{14:14}],42:[function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e,t){t&&($[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?m("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&K in t.dangerouslySetInnerHTML?void 0:m("61")),null!=t.style&&"object"!=typeof t.style?m("62",r(e)):void 0)}function i(e,t,n,r){if(!(r instanceof I)){var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===z,s=i?o._node:o._ownerDocument;B(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;M.postMountWrapper(e)}function u(){var e=this;O.postMountWrapper(e)}function l(){var e=this;R.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:m("63");var t=j(e);switch(t?void 0:m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(N.trapBubbledEvent(T.topLevelTypes[n],G[n],t));break;case"source":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topError,"error",t),N.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topReset,"reset",t),N.trapBubbledEvent(T.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topInvalid,"invalid",t)]}}function p(){A.postUpdateWrapper(this)}function d(e){ee.call(J,e)||(Z.test(e)?void 0:m("65",e),J[e]=!0)}function f(e,t){return e.indexOf("-")>=0||null!=t.is}function h(e){var t=e.type;d(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=e(143),v=e(176),g=e(1),y=e(4),C=e(8),b=e(9),_=e(10),E=e(11),T=e(16),x=e(17),P=e(18),N=e(28),w=e(41),S=e(43),k=e(44),M=e(50),R=e(51),A=e(52),O=e(56),D=(e(71),e(75)),I=e(90),L=(e(160),e(125)),U=(e(168),e(139),e(172)),F=(e(174),e(151),e(175),S),V=x.deleteListener,j=k.getNodeFromInstance,B=N.listenTo,W=P.registrationNameModules,H={string:!0,number:!0},q=U({style:null}),K=U({__html:null}),Y={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},z=11,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},$=v({menuitem:!0},Q),Z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},ee={}.hasOwnProperty,te=1;h.displayName="ReactDOMComponent",h.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=te++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"button":i=w.getHostProps(this,i,t);break;case"input":M.mountWrapper(this,i,t),i=M.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"option":R.mountWrapper(this,i,t),i=R.getHostProps(this,i);break;case"select":A.mountWrapper(this,i,t),i=A.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"textarea":O.mountWrapper(this,i,t),i=O.getHostProps(this,i),e.getReactMountReady().enqueue(c,this)}o(this,i);var a,p;null!=t?(a=t._namespaceURI,p=t._tag):n._tag&&(a=n._namespaceURI,p=n._tag),(null==a||a===b.svg&&"foreignobject"===p)&&(a=b.html),a===b.html&&("svg"===this._tag?a=b.svg:"math"===this._tag&&(a=b.mathml)),this._namespaceURI=a;var d;if(e.useCreateElement){var f,h=n._ownerDocument;if(a===b.html)if("script"===this._tag){var m=h.createElement("div"),v=this._currentElement.type;m.innerHTML="<"+v+"></"+v+">",f=m.removeChild(m.firstChild)}else f=i.is?h.createElement(this._currentElement.type,i.is):h.createElement(this._currentElement.type);else f=h.createElementNS(a,this._currentElement.type);k.precacheNode(this,f),this._flags|=F.hasCachedChildNodes,this._hostParent||E.setAttributeForRoot(f),this._updateDOMProperties(null,i,e);var y=C(f);this._createInitialChildren(e,i,r,y),d=y}else{var _=this._createOpenTagMarkupAndPutListeners(e,i),T=this._createContentMarkup(e,i,r);d=!T&&Q[this._tag]?_+"/>":_+">"+T+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"select":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"button":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return d},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(W.hasOwnProperty(r))o&&i(this,r,o,e);else{r===q&&(o&&(o=this._previousStyleCopy=v({},t.style)),o=y.createMarkupForStyles(o,this));var a=null;null!=this._tag&&f(this._tag,t)?Y.hasOwnProperty(r)||(a=E.createMarkupForCustomAttribute(r,o)):a=E.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+E.createMarkupForRoot()),n+=" "+E.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=H[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=L(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return X[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&C.queueHTML(r,o.__html);else{var i=H[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)C.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)C.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,a=this._currentElement.props;switch(this._tag){case"button":i=w.getHostProps(this,i),a=w.getHostProps(this,a);break;case"input":i=M.getHostProps(this,i),a=M.getHostProps(this,a);break;case"option":i=R.getHostProps(this,i),a=R.getHostProps(this,a);break;case"select":i=A.getHostProps(this,i),a=A.getHostProps(this,a);break;case"textarea":i=O.getHostProps(this,i),a=O.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,r),this._tag){case"input":M.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(p,this)}},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else W.hasOwnProperty(r)?e[r]&&V(this,r):f(this._tag,e)?Y.hasOwnProperty(r)||E.deleteValueForAttribute(j(this),r):(_.properties[r]||_.isCustomAttribute(r))&&E.deleteValueForProperty(j(this),r);for(r in t){var u=t[r],l=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===q)if(u?u=this._previousStyleCopy=v({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},
a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(W.hasOwnProperty(r))u?i(this,r,u,n):l&&V(this,r);else if(f(this._tag,t))Y.hasOwnProperty(r)||E.setValueForAttribute(j(this),r,u);else if(_.properties[r]||_.isCustomAttribute(r)){var c=j(this);null!=u?E.setValueForProperty(c,r,u):E.deleteValueForProperty(c,r)}}a&&y.setValueForStyles(j(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=H[typeof e.children]?e.children:null,i=H[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return j(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),k.uncacheNode(this),x.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return j(this)}},v(h.prototype,h.Mixin,D.Mixin),t.exports=h},{1:1,10:10,11:11,125:125,139:139,143:143,151:151,16:16,160:160,168:168,17:17,172:172,174:174,175:175,176:176,18:18,28:28,4:4,41:41,43:43,44:44,50:50,51:51,52:52,56:56,71:71,75:75,8:8,9:9,90:90}],43:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],44:[function(e,t,n){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=r(e);n._hostNode=t,t[m]=n}function i(e){var t=e._hostNode;t&&(delete t[m],e._hostNode=null)}function a(e,t){if(!(e._flags&h.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(0!==u){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(f)===String(u)||8===i.nodeType&&i.nodeValue===" react-text: "+u+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+u+" "){o(s,i);continue e}c("32",u)}}e._flags|=h.hasCachedChildNodes}}function s(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function u(e){var t=s(e);return null!=t&&t._hostNode===e?t:null}function l(e){if(void 0===e._hostNode?c("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:c("34"),e=e._hostParent;for(;t.length;e=t.pop())a(e,e._hostNode);return e._hostNode}var c=e(143),p=e(10),d=e(43),f=(e(168),p.ID_ATTRIBUTE_NAME),h=d,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:a,precacheNode:o,uncacheNode:i};t.exports=v},{10:10,143:143,168:168,43:43}],45:[function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var o=(e(151),9);t.exports=r},{151:151}],46:[function(e,t,n){"use strict";var r=e(176),o=e(8),i=e(44),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},{176:176,44:44,8:8}],47:[function(e,t,n){"use strict";var r=e(60),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=i},{60:60}],48:[function(e,t,n){"use strict";var r={useCreateElement:!0};t.exports=r},{}],49:[function(e,t,n){"use strict";var r=e(7),o=e(44),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};t.exports=i},{44:44,7:7}],50:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);p.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==a&&f.form===a.form){var h=c.getInstanceFromNode(f);h?void 0:i("90"),p.asap(r,h)}}}return n}var i=e(143),a=e(176),s=e(14),u=e(11),l=e(25),c=e(44),p=e(97),d=(e(168),e(175),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t),o=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),o=l.getValue(t);if(null!=o){var i=""+o;i!==r.value&&(r.value=i)}else null==t.value&&null!=t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=d},{11:11,14:14,143:143,168:168,175:175,176:176,25:25,44:44,97:97}],51:[function(e,t,n){"use strict";function r(e){var t="";return i.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var o=e(176),i=e(32),a=e(44),s=e(52),u=(e(175),!1),l={mountWrapper:function(e,t,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=r(t.children);return i&&(n.children=i),n}};t.exports=l},{175:175,176:176,32:32,44:44,52:52}],52:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=u.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=l.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=e(176),s=e(14),u=e(25),l=e(44),c=e(97),p=(e(175),!1),d={getHostProps:function(e,t){return a({},s.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=u.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=u.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d},{14:14,175:175,176:176,25:25,44:44,97:97}],53:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,f=d+l,h=document.createRange();h.setStart(n,o),h.setEnd(i,a);var m=h.collapsed;return{start:m?f:d,end:m?d:f}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=e(154),l=e(135),c=e(136),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:s};t.exports=d},{135:135,136:136,154:154}],54:[function(e,t,n){"use strict";var r=e(59),o=e(89),i=e(98);r.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};t.exports=a},{59:59,89:89,98:98}],55:[function(e,t,n){"use strict";var r=e(143),o=e(176),i=e(7),a=e(8),s=e(44),u=e(125),l=(e(168),e(151),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,p=c.createComment(i),d=c.createComment(l),f=a(c.createDocumentFragment());return a.queueChild(f,a(p)),this._stringText&&a.queueChild(f,a(c.createTextNode(this._stringText))),a.queueChild(f,a(d)),s.precacheNode(this,p),this._closingComment=d,f}var h=u(this._stringText);return e.renderToStaticMarkup?h:"<!--"+i+"-->"+h+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=l},{125:125,143:143,151:151,168:168,176:176,44:44,7:7,8:8}],56:[function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return c.asap(r,this),n}var i=e(143),a=e(176),s=e(14),u=e(25),l=e(44),c=e(97),p=(e(168),e(175),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?i("91"):void 0;var n=a({},s.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=u.getValue(t),r=n;if(null==n){var a=t.defaultValue,s=t.children;null!=s&&(null!=a?i("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:i("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),r=u.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e);t.value=t.textContent}});t.exports=p},{14:14,143:143,168:168,175:175,176:176,25:25,44:44,97:97}],57:[function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var o;for(o=r.length;o-- >0;)t(r[o],!1,n);for(o=0;o<r.length;o++)t(r[o],!0,n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],!0,o);for(l=u.length;l-- >0;)n(u[l],!1,i)}var u=e(143);e(168);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},{143:143,168:168}],58:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(176),i=e(97),a=e(117),s=e(160),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};t.exports=d},{117:117,160:160,176:176,97:97}],59:[function(e,t,n){"use strict";function r(){E||(E=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(p),g.EventPluginUtils.injectTreeTraversal(f),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:_,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:b,BeforeInputEventPlugin:o}),g.HostComponent.injectGenericComponentClass(c),g.HostComponent.injectTextComponentClass(h),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(C),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),g.Updates.injectReconcileTransaction(y),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(l))}var o=e(2),i=e(6),a=e(13),s=e(15),u=e(22),l=e(35),c=e(42),p=e(44),d=e(46),f=e(57),h=e(55),m=e(58),v=e(64),g=e(68),y=e(85),C=e(101),b=e(102),_=e(103),E=!1;t.exports={inject:r}},{101:101,102:102,103:103,13:13,15:15,2:2,22:22,35:35,42:42,44:44,46:46,55:55,57:57,58:58,6:6,64:64,68:68,85:85}],60:[function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var i=e(176),a=e(39),s=(e(175),e(121),Object.prototype.hasOwnProperty),u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,o,i,a){var s={$$typeof:u,type:e,key:t,ref:n,props:a,_owner:i};return s};c.createElement=function(e,t,n){var i,u={},p=null,d=null,f=null,h=null;if(null!=t){r(t)&&(d=t.ref),o(t)&&(p=""+t.key),f=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(i in t)s.call(t,i)&&!l.hasOwnProperty(i)&&(u[i]=t[i])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var v=Array(m),g=0;g<m;g++)v[g]=arguments[g+2];u.children=v}if(e&&e.defaultProps){var y=e.defaultProps;for(i in y)void 0===u[i]&&(u[i]=y[i])}return c(e,p,d,f,h,a.current,u)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var u,p=i({},e.props),d=e.key,f=e.ref,h=e._self,m=e._source,v=e._owner;if(null!=t){r(t)&&(f=t.ref,v=a.current),o(t)&&(d=""+t.key);var g;e.type&&e.type.defaultProps&&(g=e.type.defaultProps);for(u in t)s.call(t,u)&&!l.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==g?p[u]=g[u]:p[u]=t[u])}var y=arguments.length-2;if(1===y)p.children=n;else if(y>1){for(var C=Array(y),b=0;b<y;b++)C[b]=arguments[b+2];p.children=C}return c(e.type,d,f,h,m,v,p)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},c.REACT_ELEMENT_TYPE=u,t.exports=c},{121:121,175:175,176:176,39:39}],61:[function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,t.exports=i},{}],62:[function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(e){return void(null===o&&(o=e))}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=i},{}],63:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(17),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};t.exports=i},{17:17}],64:[function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){var t=h(window);e(t)}var s=e(176),u=e(153),l=e(154),c=e(26),p=e(44),d=e(97),f=e(132),h=e(165);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},{132:132,153:153,154:154,165:165,176:176,26:26,44:44,97:97}],65:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],66:[function(e,t,n){"use strict";var r=e(143),o=e(32),i=e(60),a=e(160),s=(e(168),e(175),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(i.isValidElement(e))return e;1===e.nodeType?r("0"):void 0;var t=[];for(var n in e)o.mapIntoWithKeyPrefixInternal(e[n],t,n,a.thatReturnsArgument);return t}});t.exports=s},{143:143,160:160,168:168,175:175,32:32,60:60}],67:[function(e,t,n){"use strict";function r(e){return u?void 0:a("111",e.type),new u(e)}function o(e){return new c(e)}function i(e){return e instanceof c}var a=e(143),s=e(176),u=(e(168),null),l={},c=null,p={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){c=e},injectComponentClasses:function(e){s(l,e)}},d={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:p};t.exports=d},{143:143,168:168,176:176}],68:[function(e,t,n){"use strict";var r=e(10),o=e(17),i=e(19),a=e(36),s=e(33),u=e(61),l=e(28),c=e(67),p=e(97),d={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:p.injection};t.exports=d},{10:10,17:17,19:19,28:28,33:33,36:36,61:61,67:67,97:97}],69:[function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e(53),i=e(157),a=e(162),s=e(163),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{157:157,162:162,163:163,53:53}],70:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],71:[function(e,t,n){"use strict";var r=null;t.exports={debugTool:r}},{}],72:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}function o(e){var t={value:void 0===e?i.PropTypes.any.isRequired:e.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(t)}var i=e(27);r.PropTypes={link:o},t.exports=r},{27:27}],73:[function(e,t,n){"use strict";var r=e(120),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=a},{120:120}],74:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===D?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(R)||""}function a(e,t,n,r,o){var i;if(_.logTopLevelRenders){var a=e._currentElement.props,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=x.mountComponent(e,n,null,y(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,V._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var o=N.ReactReconcileTransaction.getPooled(!n&&C.useCreateElement);o.perform(a,null,e,t,o,n,r),N.ReactReconcileTransaction.release(o)}function u(e,t,n){for(x.unmountComponent(e,n),t.nodeType===D&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=g.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==O&&e.nodeType!==D&&e.nodeType!==I)}function p(e){var t=o(e),n=t&&g.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var f=e(143),h=e(8),m=e(10),v=e(28),g=(e(39),e(44)),y=e(45),C=e(48),b=e(60),_=e(65),E=e(70),T=(e(71),e(73)),x=e(86),P=e(96),N=e(97),w=e(161),S=e(138),k=(e(168),e(145)),M=e(148),R=(e(175),m.ID_ATTRIBUTE_NAME),A=m.ROOT_ATTRIBUTE_NAME,O=1,D=9,I=11,L={},U=1,F=function(){this.rootID=U++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props};var V={TopLevelWrapper:F,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return V.scrollMonitor(r,function(){P.enqueueElementInternal(e,t,n),o&&P.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:f("37"),v.ensureScrollValueMonitoring();var o=S(e,!1);N.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return L[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&E.has(e)?void 0:f("38"),V._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){P.validateCallback(r,"ReactDOM.render"),b.isValidElement(t)?void 0:f("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=b(F,null,null,null,null,null,t);if(e){var u=E.get(e);a=u._processChildContext(u._context)}else a=w;var c=d(n);if(c){var p=c._currentElement,h=p.props;if(M(h,t)){var m=c._renderedComponent.getPublicInstance(),v=r&&function(){r.call(m)};return V._updateRootComponent(c,s,a,n,v),m}V.unmountComponentAtNode(n)}var g=o(n),y=g&&!!i(g),C=l(n),_=y&&!c&&!C,T=V._renderNewRootComponent(s,n,_,a)._renderedComponent.getPublicInstance();return r&&r.call(T),T},render:function(e,t,n){return V._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:f("40");var t=d(e);return t?(delete L[t._instance.rootID],N.batchedUpdates(u,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(A),!1)},_mountImageIntoNode:function(e,t,n,i,a){if(c(t)?void 0:f("41"),i){var s=o(t);if(T.canReuseMarkup(e,s))return void g.precacheNode(n,s);var u=s.getAttribute(T.CHECKSUM_ATTR_NAME);s.removeAttribute(T.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(T.CHECKSUM_ATTR_NAME,u);var p=e,d=r(p,l),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===D?f("42",m):void 0}if(t.nodeType===D?f("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else k(t,e),g.precacheNode(n,t.firstChild)}};t.exports=V},{10:10,138:138,143:143,145:145,148:148,161:161,168:168,175:175,28:28,39:39,44:44,45:45,48:48,60:60,65:65,70:70,71:71,73:73,8:8,86:86,96:96,97:97}],75:[function(e,t,n){"use strict";function r(e,t,n){return{type:d.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:d.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:f.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:d.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:d.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:d.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=e(143),p=e(36),d=(e(70),e(71),e(76)),f=(e(39),e(86)),h=e(31),m=(e(160),e(127)),v=(e(168),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return h.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a,s=0;return a=m(t,s),h.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=f.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[a(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,c=null,p=0,d=0,h=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=u(c,this.moveChild(v,m,p,d)),d=Math.max(v._mountIndex,d),v._mountIndex=p):(v&&(d=Math.max(v._mountIndex,d)),c=u(c,this._mountChildAtIndex(g,i[h],m,p,t,n)),h++),p++,m=f.getHostNode(g)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;h.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){
if(e._mountIndex<r)return o(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});t.exports=v},{127:127,143:143,160:160,168:168,31:31,36:36,39:39,70:70,71:71,76:76,86:86}],76:[function(e,t,n){"use strict";var r=e(171),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{171:171}],77:[function(e,t,n){"use strict";var r=e(143),o=e(60),i=(e(168),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});t.exports=i},{143:143,168:168,60:60}],78:[function(e,t,n){"use strict";function r(e,t){}var o=(e(175),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});t.exports=o},{175:175}],79:[function(e,t,n){"use strict";var r=e(143),o=(e(168),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});t.exports=o},{143:143,168:168}],80:[function(e,t,n){"use strict";var r={};t.exports=r},{}],81:[function(e,t,n){"use strict";var r=e(171),o=r({prop:null,context:null,childContext:null});t.exports=o},{171:171}],82:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function i(e){function t(t,n,r,i,a,s,u){if(i=i||N,s=s||r,null==n[r]){var l=E[a];return t?new o("Required "+l+" `"+s+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,a,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){function t(t,n,r,i,a,s){var u=t[n],l=y(u);if(l!==e){var c=E[i],p=C(u);return new o("Invalid "+c+" `"+a+"` of type "+("`"+p+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function s(){return i(x.thatReturns(null))}function u(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=E[i],l=y(s);return new o("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var p=e(s,c,r,i,a+"["+c+"]",T);if(p instanceof Error)return p}return null}return i(t)}function l(){function e(e,t,n,r,i){var a=e[t];if(!_.isValidElement(a)){var s=E[r],u=y(a);return new o("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return i(e)}function c(e){function t(t,n,r,i,a){if(!(t[n]instanceof e)){var s=E[i],u=e.name||N,l=b(t[n]);return new o("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return i(t)}function p(e){function t(t,n,i,a,s){for(var u=t[n],l=0;l<e.length;l++)if(r(u,e[l]))return null;var c=E[a],p=JSON.stringify(e);return new o("Invalid "+c+" `"+s+"` of value `"+u+"` "+("supplied to `"+i+"`, expected one of "+p+"."))}return Array.isArray(e)?i(t):x.thatReturnsNull}function d(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=y(s);if("object"!==u){var l=E[i];return new o("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in s)if(s.hasOwnProperty(c)){var p=e(s,c,r,i,a+"."+c,T);if(p instanceof Error)return p}return null}return i(t)}function f(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,r,i,a,T))return null}var l=E[i];return new o("Invalid "+l+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?i(t):x.thatReturnsNull}function h(){function e(e,t,n,r,i){if(!v(e[t])){var a=E[r];return new o("Invalid "+a+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(e)}function m(e){function t(t,n,r,i,a){var s=t[n],u=y(s);if("object"!==u){var l=E[i];return new o("Invalid "+l+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var p=e[c];if(p){var d=p(s,c,r,i,a+"."+c,T);if(d)return d}}return null}return i(t)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||_.isValidElement(e))return!0;var t=P(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!v(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!v(o[1]))return!1}return!0;default:return!1}}function g(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(t,e)?"symbol":t}function C(e){var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:N}var _=e(60),E=e(80),T=e(83),x=e(160),P=e(134),N=(e(175),"<<anonymous>>"),w={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:l(),instanceOf:c,node:h(),objectOf:d,oneOf:p,oneOfType:f,shape:m};o.prototype=Error.prototype,t.exports=w},{134:134,160:160,175:175,60:60,80:80,83:83}],83:[function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},{}],84:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}function o(){}var i=e(176),a=e(34),s=e(78),u=e(161);o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r,i(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,t.exports=r},{161:161,176:176,34:34,78:78}],85:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e(176),i=e(5),a=e(26),s=e(28),u=e(69),l=(e(71),e(117)),c=e(96),p={initialize:u.getSelectionInformation,close:u.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l.Mixin,m),a.addPoolingTo(r),t.exports=r},{117:117,176:176,26:26,28:28,5:5,69:69,71:71,96:96}],86:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(87),i=(e(71),e(175),{mountComponent:function(e,t,n,o,i,a){var s=e.mountComponent(t,n,o,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=i},{175:175,71:71,87:87}],87:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e(79),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t.ref!==e.ref||"string"==typeof t.ref&&t._owner!==e._owner},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{79:79}],88:[function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],89:[function(e,t,n){"use strict";function r(e,t){var n;try{return h.injection.injectBatchingStrategy(d),n=f.getPooled(t),g++,n.perform(function(){var r=v(e,!0),o=p.mountComponent(r,n,null,s(),m,0);return t||(o=c.addChecksumToMarkup(o)),o},null)}finally{g--,f.release(n),g||h.injection.injectBatchingStrategy(u)}}function o(e){return l.isValidElement(e)?void 0:a("46"),r(e,!1)}function i(e){return l.isValidElement(e)?void 0:a("47"),r(e,!0)}var a=e(143),s=e(45),u=e(58),l=e(60),c=(e(71),e(73)),p=e(86),d=e(88),f=e(90),h=e(97),m=e(161),v=e(138),g=(e(168),0);t.exports={renderToString:o,renderToStaticMarkup:i}},{138:138,143:143,161:161,168:168,45:45,58:58,60:60,71:71,73:73,86:86,88:88,90:90,97:97}],90:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=e(176),i=e(26),a=e(117),s=(e(71),e(91)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a.Mixin,c),i.addPoolingTo(r),t.exports=r},{117:117,176:176,26:26,71:71,91:91}],91:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){}var i=e(96),a=(e(117),e(175),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?i.enqueueForceUpdate(e):o(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?i.enqueueReplaceState(e,t):o(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?i.enqueueSetState(e,t):o(e,"setState")},e}());t.exports=a},{117:117,175:175,96:96}],92:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,i,a,s){var u=t.call(e,n,r,o,i,a,s);u&&e.setState(u)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},t.exports=o},{}],93:[function(e,t,n){"use strict";var r=e(127),o={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};t.exports=o},{127:127}],94:[function(e,t,n){"use strict";function r(){var e=s("animationend"),t=s("transitionend");e&&u.push(e),t&&u.push(t)}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var a=e(154),s=e(137),u=[];a.canUseDOM&&r();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(n){o(e,n,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(n){i(e,n,t)})}};t.exports=l},{137:137,154:154}],95:[function(e,t,n){"use strict";var r=e(176),o=e(27),i=(e(70),e(93)),a=e(160),s=o.createClass({displayName:"ReactTransitionGroup",propTypes:{component:o.PropTypes.any,childFactory:o.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t;t=i.getChildMapping(e.children);var n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=t&&t.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(o.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var i=r({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,o.createElement(this.props.component,i,e)}});t.exports=s},{160:160,176:176,27:27,70:70,93:93}],96:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);return n?n:null}var a=e(143),s=(e(39),e(70)),u=(e(71),e(97)),l=(e(168),e(175),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=i(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void r(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,o(e)):void 0}});t.exports=l},{143:143,168:168,175:175,39:39,70:70,71:71,97:97}],97:[function(e,t,n){"use strict";function r(){w.ReactReconcileTransaction&&_?void 0:c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=w.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){r(),_.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?c("124",t,g.length):void 0,g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(h.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)e.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(e){return r(),_.isBatchingUpdates?(g.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void _.batchedUpdates(u,e)}function l(e,t){_.isBatchingUpdates?void 0:c("125"),C.enqueue(e,t),b=!0}var c=e(143),p=e(176),d=e(5),f=e(26),h=e(65),m=e(86),v=e(117),g=(e(168),[]),y=0,C=d.getPooled(),b=!1,_=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),P()):g.length=0}},T={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[E,T];p(o.prototype,v.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,w.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var P=function(){for(;g.length||b;){if(g.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(b){b=!1;var t=C;C=d.getPooled(),t.notifyAll(),d.release(t)}}},N={injectReconcileTransaction:function(e){e?void 0:c("126"),w.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,_=e}},w={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:P,injection:N,asap:l};t.exports=w},{117:117,143:143,168:168,176:176,26:26,5:5,65:65,86:86}],98:[function(e,t,n){"use strict";t.exports="15.3.1"},{}],99:[function(e,t,n){"use strict";var r=e(24),o=e(27),i=e(37),a=e(29),s=e(66),u=e(95),l=e(147),c=e(150);o.addons={CSSTransitionGroup:a,LinkedStateMixin:r,PureRenderMixin:i,TransitionGroup:u,createFragment:s.create,shallowCompare:l,update:c},t.exports=o},{147:147,150:150,24:24,27:27,29:29,37:37,66:66,95:95}],100:[function(e,t,n){"use strict";var r=e(176),o=e(40),i=e(54),a=e(99),s=r({__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:o,__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:i},a);t.exports=s},{176:176,40:40,54:54,99:99}],101:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),t.exports=i},{}],102:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(_||null==y||y!==p())return null;var n=r(y);if(!b||!h(b,n)){b=n;var o=c.getPooled(g.select,C,e,t);return o.type="select",o.target=y,a.accumulateTwoPhaseDispatches(o),o}return null}var i=e(16),a=e(20),s=e(154),u=e(44),l=e(69),c=e(108),p=e(163),d=e(140),f=e(172),h=e(174),m=i.topLevelTypes,v=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,C=null,b=null,_=!1,E=!1,T=f({onSelect:null}),x={eventTypes:g,extractEvents:function(e,t,n,r){if(!E)return null;var i=t?u.getNodeFromInstance(t):window;switch(e){case m.topFocus:(d(i)||"true"===i.contentEditable)&&(y=i,C=t,b=null);break;case m.topBlur:y=null,C=null,b=null;break;case m.topMouseDown:_=!0;break;case m.topContextMenu:case m.topMouseUp:return _=!1,o(n,r);case m.topSelectionChange:if(v)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(e,t,n){t===T&&(E=!0)}};t.exports=x},{108:108,140:140,154:154,16:16,163:163,172:172,174:174,20:20,44:44,69:69}],103:[function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}var o=e(143),i=e(16),a=e(153),s=e(20),u=e(44),l=e(104),c=e(105),p=e(108),d=e(109),f=e(111),h=e(112),m=e(107),v=e(113),g=e(114),y=e(115),C=e(116),b=e(160),_=e(129),E=(e(168),e(172)),T=i.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:E({onAbort:!0}),captured:E({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:E({onAnimationEnd:!0}),captured:E({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:E({onAnimationIteration:!0}),captured:E({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:E({onAnimationStart:!0}),captured:E({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:E({onBlur:!0}),captured:E({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:E({onCanPlay:!0}),captured:E({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:E({onCanPlayThrough:!0}),captured:E({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:E({onClick:!0}),captured:E({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:E({onContextMenu:!0}),captured:E({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:E({onCopy:!0}),captured:E({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:E({onCut:!0}),captured:E({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:E({onDoubleClick:!0}),captured:E({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:E({onDrag:!0}),captured:E({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:E({onDragEnd:!0}),captured:E({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:E({onDragEnter:!0}),captured:E({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:E({onDragExit:!0}),captured:E({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:E({onDragLeave:!0}),captured:E({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:E({onDragOver:!0}),captured:E({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:E({onDragStart:!0}),captured:E({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:E({onDrop:!0}),captured:E({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:E({onDurationChange:!0}),captured:E({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:E({onEmptied:!0}),captured:E({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:E({onEncrypted:!0}),captured:E({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:E({onEnded:!0}),captured:E({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:E({onError:!0}),captured:E({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:E({onFocus:!0}),captured:E({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:E({onInput:!0}),captured:E({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:E({onInvalid:!0}),captured:E({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:E({onKeyDown:!0}),captured:E({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:E({onKeyPress:!0}),captured:E({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:E({onKeyUp:!0}),captured:E({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:E({onLoad:!0}),captured:E({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:E({onLoadedData:!0}),captured:E({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:E({onLoadedMetadata:!0}),captured:E({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:E({onLoadStart:!0}),captured:E({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:E({onMouseDown:!0}),captured:E({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:E({onMouseMove:!0}),captured:E({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:E({onMouseOut:!0}),captured:E({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:E({onMouseOver:!0}),captured:E({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:E({onMouseUp:!0}),captured:E({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:E({onPaste:!0}),captured:E({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:E({onPause:!0}),captured:E({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:E({onPlay:!0}),captured:E({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:E({onPlaying:!0}),captured:E({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:E({onProgress:!0}),captured:E({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:E({onRateChange:!0}),captured:E({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:E({onReset:!0}),captured:E({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:E({onScroll:!0}),captured:E({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:E({onSeeked:!0}),captured:E({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:E({onSeeking:!0}),captured:E({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:E({
onStalled:!0}),captured:E({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:E({onSubmit:!0}),captured:E({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:E({onSuspend:!0}),captured:E({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:E({onTimeUpdate:!0}),captured:E({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:E({onTouchCancel:!0}),captured:E({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:E({onTouchEnd:!0}),captured:E({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:E({onTouchMove:!0}),captured:E({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:E({onTouchStart:!0}),captured:E({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:E({onTransitionEnd:!0}),captured:E({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:E({onVolumeChange:!0}),captured:E({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:E({onWaiting:!0}),captured:E({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:E({onWheel:!0}),captured:E({onWheelCapture:!0})}}},P={topAbort:x.abort,topAnimationEnd:x.animationEnd,topAnimationIteration:x.animationIteration,topAnimationStart:x.animationStart,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topInvalid:x.invalid,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topTransitionEnd:x.transitionEnd,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var N in P)P[N].dependencies=[N];var w=E({onClick:null}),S={},k={eventTypes:x,extractEvents:function(e,t,n,r){var i=P[e];if(!i)return null;var a;switch(e){case T.topAbort:case T.topCanPlay:case T.topCanPlayThrough:case T.topDurationChange:case T.topEmptied:case T.topEncrypted:case T.topEnded:case T.topError:case T.topInput:case T.topInvalid:case T.topLoad:case T.topLoadedData:case T.topLoadedMetadata:case T.topLoadStart:case T.topPause:case T.topPlay:case T.topPlaying:case T.topProgress:case T.topRateChange:case T.topReset:case T.topSeeked:case T.topSeeking:case T.topStalled:case T.topSubmit:case T.topSuspend:case T.topTimeUpdate:case T.topVolumeChange:case T.topWaiting:a=p;break;case T.topKeyPress:if(0===_(n))return null;case T.topKeyDown:case T.topKeyUp:a=f;break;case T.topBlur:case T.topFocus:a=d;break;case T.topClick:if(2===n.button)return null;case T.topContextMenu:case T.topDoubleClick:case T.topMouseDown:case T.topMouseMove:case T.topMouseOut:case T.topMouseOver:case T.topMouseUp:a=h;break;case T.topDrag:case T.topDragEnd:case T.topDragEnter:case T.topDragExit:case T.topDragLeave:case T.topDragOver:case T.topDragStart:case T.topDrop:a=m;break;case T.topTouchCancel:case T.topTouchEnd:case T.topTouchMove:case T.topTouchStart:a=v;break;case T.topAnimationEnd:case T.topAnimationIteration:case T.topAnimationStart:a=l;break;case T.topTransitionEnd:a=g;break;case T.topScroll:a=y;break;case T.topWheel:a=C;break;case T.topCopy:case T.topCut:case T.topPaste:a=c}a?void 0:o("86",e);var u=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if(t===w){var o=r(e),i=u.getNodeFromInstance(e);S[o]||(S[o]=a.listen(i,"click",b))}},willDeleteListener:function(e,t){if(t===w){var n=r(e);S[n].remove(),delete S[n]}}};t.exports=k},{104:104,105:105,107:107,108:108,109:109,111:111,112:112,113:113,114:114,115:115,116:116,129:129,143:143,153:153,16:16,160:160,168:168,172:172,20:20,44:44}],104:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{108:108}],105:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{108:108}],106:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={data:null};o.augmentClass(r,i),t.exports=r},{108:108}],107:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(112),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{112:112}],108:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e(176),i=e(26),a=e(160),s=(e(175),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},{160:160,175:175,176:176,26:26}],109:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{115:115}],110:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={data:null};o.augmentClass(r,i),t.exports=r},{108:108}],111:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i=e(129),a=e(130),s=e(131),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{115:115,129:129,130:130,131:131}],112:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i=e(118),a=e(131),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{115:115,118:118,131:131}],113:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i=e(131),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{115:115,131:131}],114:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{108:108}],115:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i=e(132),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{108:108,132:132}],116:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(112),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{112:112}],117:[function(e,t,n){"use strict";var r=e(143),o=(e(168),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}}),i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i},{143:143,168:168}],118:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],119:[function(e,t,n){"use strict";function r(e,t){return null==t?o("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(143);e(168);t.exports=r},{143:143,168:168}],120:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=i&-4;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],121:[function(e,t,n){"use strict";var r=!1;t.exports=r},{}],122:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r,u,l){for(var c in e)if(e.hasOwnProperty(c)){var p;try{"function"!=typeof e[c]?o("84",r||"React class",i[n],c):void 0,p=e[c](t,c,r,n,null,a)}catch(e){p=e}p instanceof Error&&!(p.message in s)&&(s[p.message]=!0)}}var o=e(143),i=e(80),a=e(83);e(168),e(175);"undefined"!=typeof n&&n.env,1;var s={};t.exports=r}).call(this,void 0)},{143:143,168:168,175:175,80:80,83:83}],123:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],124:[function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);return o||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(3),i=(e(175),o.isUnitlessNumber);t.exports=r},{175:175,3:3}],125:[function(e,t,n){"use strict";function r(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function o(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var i=/["'&<>]/;t.exports=o},{}],126:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?i.getNodeFromInstance(t):null):void("function"==typeof e.render?o("44"):o("45",Object.keys(e)))}var o=e(143),i=(e(39),e(44)),a=e(70),s=e(133);e(168),e(175);t.exports=r},{133:133,143:143,168:168,175:175,39:39,44:44,70:70}],127:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e,i=void 0===o[n];i&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(23),e(149));e(175);"undefined"!=typeof n&&n.env,t.exports=o}).call(this,void 0)},{149:149,175:175,23:23}],128:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}t.exports=r},{}],129:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],130:[function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e(129),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{129:129}],131:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],132:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],133:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(77);t.exports=r},{77:77}],134:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],135:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],136:[function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e(154),i=null;t.exports=r},{154:154}],137:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(154),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{154:154}],138:[function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if(null===e||e===!1)n=l.create(i);else if("object"==typeof e){var s=e;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=e(143),s=e(176),u=e(38),l=e(61),c=e(67),p=(e(168),e(175),function(e){this.construct(e)});s(p.prototype,u.Mixin,{_instantiateReactComponent:i});t.exports=i},{143:143,168:168,175:175,176:176,38:38,61:61,67:67}],139:[function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e(154);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{154:154}],140:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],141:[function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o("143"),e}var o=e(143),i=e(60);e(168);t.exports=r},{143:143,168:168,60:60}],142:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(125);t.exports=r},{125:125}],143:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],144:[function(e,t,n){"use strict";var r=e(74);t.exports=r.renderSubtreeIntoContainer},{74:74}],145:[function(e,t,n){"use strict";var r,o=e(154),i=e(9),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=e(123),l=u(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild.childNodes,o=0;o<n.length;o++)e.appendChild(n[o])}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}t.exports=l},{123:123,154:154,9:9}],146:[function(e,t,n){"use strict";var r=e(154),o=e(125),i=e(145),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),t.exports=a},{125:125,145:145,154:154}],147:[function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=e(174);t.exports=r},{174:174}],148:[function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],149:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||s.isValidElement(e))return n(i,e,""===t?c+r(e,0):t),1;var f,h,m=0,v=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var C,b=y.call(e);if(y!==e.entries)for(var _=0;!(C=b.next()).done;)f=C.value,h=v+r(f,_++),m+=o(f,h,n,i);else for(;!(C=b.next()).done;){var E=C.value;E&&(f=E[1],h=v+l.escape(E[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){var T="",x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,T)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(143),s=(e(39),e(60)),u=e(134),l=(e(168),e(23)),c=(e(175),"."),p=":";t.exports=i},{134:134,143:143,168:168,175:175,23:23,39:39,60:60}],150:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function o(e,t,n){Array.isArray(e)?void 0:a("1",n,e);var r=t[n];Array.isArray(r)?void 0:a("2",n,r)}function i(e,t){if("object"!=typeof t?a("3",v.join(", "),f):void 0,l.call(t,f))return 1!==Object.keys(t).length?a("4",f):void 0,t[f];var n=r(e);if(l.call(t,h)){var u=t[h];u&&"object"==typeof u?void 0:a("5",h,u),n&&"object"==typeof n?void 0:a("6",h,n),s(n,t[h])}l.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),l.call(t,p)&&(o(e,t,p),t[p].forEach(function(e){n.unshift(e)})),l.call(t,d)&&(Array.isArray(e)?void 0:a("7",d,e),Array.isArray(t[d])?void 0:a("8",d,t[d]),t[d].forEach(function(e){Array.isArray(e)?void 0:a("8",d,t[d]),n.splice.apply(n,e)})),l.call(t,m)&&("function"!=typeof t[m]?a("9",m,t[m]):void 0,n=t[m](n));for(var y in t)g.hasOwnProperty(y)&&g[y]||(n[y]=i(e[y],t[y]));return n}var a=e(143),s=e(176),u=e(172),l=(e(168),{}.hasOwnProperty),c=u({$push:null}),p=u({$unshift:null}),d=u({$splice:null}),f=u({$set:null}),h=u({$merge:null}),m=u({$apply:null}),v=[c,p,d,f,h,m],g={};v.forEach(function(e){g[e]=!0}),t.exports=i},{143:143,168:168,172:172,176:176}],151:[function(e,t,n){"use strict";var r=(e(176),e(160)),o=(e(175),r);t.exports=o},{160:160,175:175,176:176}],152:[function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return Array.prototype.indexOf.call(r,e)!==-1}var o=e(168),i={addClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?o(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)};return n.call(e,t)}};t.exports=i},{168:168}],153:[function(e,t,n){"use strict";var r=e(160),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{160:160}],154:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],155:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],156:[function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e(155),i=/^-ms-/;t.exports=r},{155:155}],157:[function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=e(170);t.exports=r},{170:170}],158:[function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(168);t.exports=i},{168:168}],159:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:u(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e(154),a=e(158),s=e(164),u=e(168),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{154:154,158:158,164:164,168:168}],160:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],161:[function(e,t,n){"use strict";var r={};t.exports=r},{}],162:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],163:[function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],164:[function(e,t,n){"use strict";function r(e){return a?void 0:i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var o=e(154),i=e(168),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,s[e]=!0}),t.exports=r},{154:154,168:168}],165:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],166:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],167:[function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e(166),i=/^ms-/;t.exports=r},{166:166}],168:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}t.exports=r},{}],169:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],170:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(169);t.exports=r},{169:169}],171:[function(e,t,n){"use strict";var r=e(168),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{168:168}],172:[function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],173:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],174:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],175:[function(e,t,n){"use strict";var r=e(160),o=r;t.exports=o},{160:160}],176:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(e,t){for(var n,o,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var c=0;c<o.length;c++)a.call(n,o[c])&&(s[o[c]]=n[o[c]])}}return s}},{}]},{},[100])(100)});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Flux/Component",["require","exports","react","VSS/Utils/Core"],function(n,t,i,r){var u=0,f=function(n){function t(t){var i=n.call(this,t)||this;return i.state=i.getState(),i._changeDelegate=r.delegate(i,i.onChange),i}return __extends(t,n),t.prototype.getKey=function(n){return u+=1,""+n+u},t.prototype.getState=function(){return null},t.prototype.onChange=function(){var n=this.getState();this.setState(n)},t.prototype.getStore=function(){return null},t.prototype.componentDidMount=function(){var n=this.getStore();n&&n.addChangedListener(this._changeDelegate)},t.prototype.componentWillUnmount=function(){var n=this.getStore();n&&n.removeChangedListener(this._changeDelegate)},t}(i.Component);t.Component=f});
define("@uifabric/utilities/Async",["require","exports"],function(n,t){"use strict";var i=function(){function n(n,t){this._timeoutIds=null;this._immediateIds=null;this._intervalIds=null;this._animationFrameIds=null;this._isDisposed=!1;this._parent=n||null;this._onErrorHandler=t;this._noop=function(){}}return n.prototype.dispose=function(){var n;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(n in this._timeoutIds)this._timeoutIds.hasOwnProperty(n)&&this.clearTimeout(n);this._timeoutIds=null}if(this._immediateIds){for(n in this._immediateIds)this._immediateIds.hasOwnProperty(n)&&this.clearImmediate(n);this._immediateIds=null}if(this._intervalIds){for(n in this._intervalIds)this._intervalIds.hasOwnProperty(n)&&this.clearInterval(n);this._intervalIds=null}if(this._animationFrameIds){for(n in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(n)&&this.cancelAnimationFrame(n);this._animationFrameIds=null}},n.prototype.setTimeout=function(n,t){var i=this,r=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),r=setTimeout(function(){try{delete i._timeoutIds[r];n.apply(i._parent)}catch(t){i._onErrorHandler&&i._onErrorHandler(t)}},t),this._timeoutIds[r]=!0),r},n.prototype.clearTimeout=function(n){this._timeoutIds&&this._timeoutIds[n]&&(clearTimeout(n),delete this._timeoutIds[n])},n.prototype.setImmediate=function(n){var i=this,t=0,r;return this._isDisposed||(this._immediateIds||(this._immediateIds={}),r=function(){try{delete i._immediateIds[t];n.apply(i._parent)}catch(r){i._logError(r)}},t=window.setImmediate?window.setImmediate(r):window.setTimeout(r,0),this._immediateIds[t]=!0),t},n.prototype.clearImmediate=function(n){this._immediateIds&&this._immediateIds[n]&&(window.clearImmediate?window.clearImmediate(n):window.clearTimeout(n),delete this._immediateIds[n])},n.prototype.setInterval=function(n,t){var r=this,i=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),i=setInterval(function(){try{n.apply(r._parent)}catch(t){r._logError(t)}},t),this._intervalIds[i]=!0),i},n.prototype.clearInterval=function(n){this._intervalIds&&this._intervalIds[n]&&(clearInterval(n),delete this._intervalIds[n])},n.prototype.throttle=function(n,t,i){var u=this,o,a;if(this._isDisposed)return this._noop;var f=t||0,e=!0,s=!0,h=0,c,l,r=null;return i&&typeof i.leading=="boolean"&&(e=i.leading),i&&typeof i.trailing=="boolean"&&(s=i.trailing),o=function(t){var i=(new Date).getTime(),a=i-h,v=e?f-a:f;return a>=f&&(!t||e)?(h=i,r&&(u.clearTimeout(r),r=null),c=n.apply(u._parent,l)):r===null&&s&&(r=u.setTimeout(o,v)),c},a=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return l=t,o(!0)},a},n.prototype.debounce=function(n,t,i){var f=this,s,y;if(this._isDisposed)return this._noop;var e=t||0,h=!1,c=!0,u=null,o=0,l=(new Date).getTime(),a,v,r=null;return i&&typeof i.leading=="boolean"&&(h=i.leading),i&&typeof i.trailing=="boolean"&&(c=i.trailing),i&&typeof i.maxWait=="number"&&!isNaN(i.maxWait)&&(u=i.maxWait),s=function(t){var i=(new Date).getTime(),p=!1;t&&(h&&i-o>=e&&(p=!0),o=i);var w=i-o,y=e-w,b=i-l,k=!1;return u!==null&&(b>=u&&r?k=!0:y=Math.min(y,u-b)),w>=e||k||p?(r&&(f.clearTimeout(r),r=null),l=i,a=n.apply(f._parent,v)):(r===null||!t)&&c&&(r=f.setTimeout(s,y)),a},y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return v=t,s(!0)},y},n.prototype.requestAnimationFrame=function(n){var i=this,t=0,r;return this._isDisposed||(this._animationFrameIds||(this._animationFrameIds={}),r=function(){try{delete i._animationFrameIds[t];n.apply(i._parent)}catch(r){i._logError(r)}},t=window.requestAnimationFrame?window.requestAnimationFrame(r):window.setTimeout(r,0),this._animationFrameIds[t]=!0),t},n.prototype.cancelAnimationFrame=function(n){this._animationFrameIds&&this._animationFrameIds[n]&&(window.cancelAnimationFrame?window.cancelAnimationFrame(n):window.clearTimeout(n),delete this._animationFrameIds[n])},n.prototype._logError=function(n){this._onErrorHandler&&this._onErrorHandler(n)},n}();t.Async=i});
define("@uifabric/utilities/EventGroup",["require","exports"],function(n,t){"use strict";var i=function(){function n(t){this._id=n._uniqueId++;this._parent=t;this._eventRecords=[]}return n.raise=function(t,i,r,u){var f,e,v,c,o,l,a,s,h;if(n._isElement(t))document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(i,u,!0),e.args=r,f=t.dispatchEvent(e)):document.createEventObject&&(v=document.createEventObject(r),t.fireEvent("on"+i,v));else while(t&&f!==!1){c=t.__events__;o=c?c[i]:null;for(l in o)if(o.hasOwnProperty(l))for(a=o[l],s=0;f!==!1&&s<a.length;s++)h=a[s],h.objectCallback&&(f=h.objectCallback.call(h.parent,r));t=u?t.parent:null}return f},n.isObserved=function(n,t){var i=n&&n.__events__;return!!i&&!!i[t]},n.isDeclared=function(n,t){var i=n&&n.__declaredEvents;return!!i&&!!i[t]},n.stopPropagation=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},n._isElement=function(n){return!!n&&(n.addEventListener||n instanceof HTMLElement)},n.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},n.prototype.onAll=function(n,t,i){for(var r in t)if(t.hasOwnProperty(r))this.on(n,r,t[r],i)},n.prototype.on=function(t,i,r,u){var c=this,f,e,s,l;if(i.indexOf(",")>-1)for(f=i.split(/[ ,]+/),e=0;e<f.length;e++)this.on(t,f[e],r,u);else{var h=this._parent,o={target:t,eventName:i,parent:h,callback:r,objectCallback:null,elementCallback:null,useCapture:u},f=t.__events__=t.__events__||{};f[i]=f[i]||{count:0};f[i][this._id]=f[i][this._id]||[];f[i][this._id].push(o);f[i].count++;n._isElement(t)?(s=function(){for(var u,n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(!c._isDisposed){try{u=r.apply(h,t);u===!1&&t[0]&&(n=t[0],n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)}catch(n){}return u}},o.elementCallback=s,t.addEventListener?t.addEventListener(i,s,u):t.attachEvent&&t.attachEvent("on"+i,s)):(l=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!c._isDisposed)return r.apply(h,t)},o.objectCallback=l);this._eventRecords.push(o)}},n.prototype.off=function(n,t,i,r){for(var u,f=0;f<this._eventRecords.length;f++)if(u=this._eventRecords[f],(!n||n===u.target)&&(!t||t===u.eventName)&&(!i||i===u.callback)&&(typeof r!="boolean"||r===u.useCapture)){var s=u.target.__events__,e=s[u.eventName],o=e?e[this._id]:null;o&&(o.length!==1&&i?(e.count--,o.splice(o.indexOf(u),1)):(e.count-=o.length,delete s[u.eventName][this._id]),e.count||delete s[u.eventName]);u.elementCallback&&(u.target.removeEventListener?u.target.removeEventListener(u.eventName,u.elementCallback,u.useCapture):u.target.detachEvent&&u.target.detachEvent("on"+u.eventName,u.elementCallback));this._eventRecords.splice(f--,1)}},n.prototype.raise=function(t,i,r){return n.raise(this._parent,t,i,r)},n.prototype.declare=function(n){var i=this._parent.__declaredEvents=this._parent.__declaredEvents||{},t;if(typeof n=="string")i[n]=!0;else for(t=0;t<n.length;t++)i[n[t]]=!0},n}();i._uniqueId=0;t.EventGroup=i});
define("@uifabric/utilities/scroll",["require","exports"],function(n,t){"use strict";function r(){if(i===undefined){var n=document.createElement("div");n.style.setProperty("width","100px");n.style.setProperty("height","100px");n.style.setProperty("overflow","scroll");n.style.setProperty("position","absolute");n.style.setProperty("top","-9999px");document.body.appendChild(n);i=n.offsetWidth-n.clientWidth;document.body.removeChild(n)}return i}function u(n){for(var i=n,u,r;i&&i!==document.body;){if(i.getAttribute(t.DATA_IS_SCROLLABLE_ATTRIBUTE)==="true")return i;i=i.parentElement}for(i=n;i&&i!==document.body;){if(i.getAttribute(t.DATA_IS_SCROLLABLE_ATTRIBUTE)!=="false"&&(u=getComputedStyle(i),r=u?u.getPropertyValue("overflow-y"):"",r&&(r==="scroll"||r==="auto")))return i;i=i.parentElement}return i&&i!==document.body||(i=window),i}var i;t.DATA_IS_SCROLLABLE_ATTRIBUTE="data-is-scrollable";t.getScrollbarWidth=r;t.findScrollableParent=u});
define("@uifabric/utilities/dom",["require","exports"],function(n,t){"use strict";function f(n,t){var i=n,r=t,u,f;i._virtual||(i._virtual={children:[]});u=i._virtual.parent;u&&u!==t&&(f=u._virtual.children.indexOf(i),f>-1&&u._virtual.children.splice(f,1));i._virtual.parent=r||undefined;r&&(r._virtual||(r._virtual={children:[]}),r._virtual.children.push(i))}function r(n){var t;return n&&l(n)&&(t=n._virtual.parent),t}function u(n,t){return t===void 0&&(t=!0),n&&(t&&r(n)||n.parentNode&&n.parentNode)}function e(n,t,i){var r,f;if(i===void 0&&(i=!0),r=!1,n&&t)if(i)for(r=!1;t;){if(f=u(t),f===n){r=!0;break}t=f}else n.contains&&(r=n.contains(t));return r}function o(n){i=n}function s(n){return i?undefined:n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window}function h(n){return i?undefined:n&&n.ownerDocument?n.ownerDocument:document}function c(n){var t;return n&&(n===window?t={left:0,top:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:n.getBoundingClientRect&&(t=n.getBoundingClientRect())),t}function l(n){return n&&!!n._virtual}t.setVirtualParent=f;t.getVirtualParent=r;t.getParent=u;t.elementContains=e;var i=!1;t.setSSR=o;t.getWindow=s;t.getDocument=h;t.getRect=c});
define("@uifabric/utilities/AutoScroll",["require","exports","./EventGroup","./scroll","./dom"],function(n,t,i,r,u){"use strict";var o=16,f=100,e=15,s=function(){function n(n){if(this._events=new i.EventGroup(this),this._scrollableParent=r.findScrollableParent(n),this._incrementScroll=this._incrementScroll.bind(this),this._scrollRect=u.getRect(this._scrollableParent),this._scrollableParent===window&&(this._scrollableParent=document.body),this._scrollableParent)this._events.on(window,"mousemove",this._onMouseMove,!0)}return n.prototype.dispose=function(){this._events.dispose();this._stopScroll()},n.prototype._onMouseMove=function(n){var t=this._scrollRect.top,i=t+this._scrollRect.height-f;this._scrollVelocity=n.clientY<t+f?Math.max(-e,-e*((f-(n.clientY-t))/f)):n.clientY>i?Math.min(e,e*((n.clientY-i)/f)):0;this._scrollVelocity?this._startScroll():this._stopScroll()},n.prototype._startScroll=function(){this._timeoutId||this._incrementScroll()},n.prototype._incrementScroll=function(){this._scrollableParent.scrollTop+=Math.round(this._scrollVelocity);this._timeoutId=setTimeout(this._incrementScroll,o)},n.prototype._stopScroll=function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},n}();t.AutoScroll=s});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("@uifabric/utilities/BaseComponent",["require","exports","react","./Async","./EventGroup"],function(n,t,i,r,u){"use strict";function e(n,t,i){for(var r=0,u=i.length;r<u;r++)o(n,t,i[r])}function o(n,t,i){var r=n[i],u=t[i];(r||u)&&(n[i]=function(){var e,o;try{u&&(e=u.apply(this,arguments));r&&(e=r.apply(this,arguments))}catch(t){if(o="Exception in "+n.className+"."+i+"(): "+(typeof t=="string"?t:t.stack),f.onError)f.onError(o,t)}return e})}function s(n,t,i){if(console&&console.warn){var r=n.className+" property '"+t+"' was used but has been deprecated.";i&&(r+=" Use '"+i+"' instead.");console.warn(r)}}var f=function(n){function t(i,r){var f=n.call(this,i)||this,u;if(r)for(u in r)u in i&&s(f,u,r[u]);return e(f,t.prototype,["componentWillMount","componentDidMount","shouldComponentUpdate","componentWillUpdate","componentWillReceiveProps","render","componentDidUpdate","componentWillUnmount"]),f}return __extends(t,n),t.prototype.componentWillUnmount=function(){var n,i,t;if(this.__disposables){for(n=0,i=this._disposables.length;n<i;n++)t=this.__disposables[n],t.dispose&&t.dispose();this.__disposables=null}},Object.defineProperty(t.prototype,"className",{get:function(){var n=/function (.{1,})\(/.exec(this.constructor.toString());return n&&n.length>1?n[1]:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_async",{get:function(){return this.__async||(this.__async=new r.Async(this),this._disposables.push(this.__async)),this.__async},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_events",{get:function(){return this.__events||(this.__events=new u.EventGroup(this),this._disposables.push(this.__events)),this.__events},enumerable:!0,configurable:!0}),t.prototype._resolveRef=function(n){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[n]||(this.__resolves[n]=function(i){return t[n]=i}),this.__resolves[n]},t}(i.Component);t.BaseComponent=f;f.onError=function(n){console.error(n);throw n;}});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("@uifabric/utilities/DelayedRender",["require","exports","react"],function(n,t,i){"use strict";var r=function(n){function t(t){var i=n.call(this,t)||this;return i.state={isRendered:!1},i}return __extends(t,n),t.prototype.componentDidMount=function(){var n=this,t=this.props.delay;this._timeoutId=setTimeout(function(){n.setState({isRendered:!0})},t)},t.prototype.componentWillUnmount=function(){clearTimeout(this._timeoutId)},t.prototype.render=function(){return this.state.isRendered?i.Children.only(this.props.children):null},t}(i.Component);r.defaultProps={delay:0};t.DelayedRender=r});
define("@uifabric/utilities/KeyCodes",["require","exports"],function(n,t){"use strict";var i;(function(n){n[n.a=65]="a";n[n.backspace=8]="backspace";n[n.comma=188]="comma";n[n.del=46]="del";n[n.down=40]="down";n[n.end=35]="end";n[n.enter=13]="enter";n[n.escape=27]="escape";n[n.home=36]="home";n[n.left=37]="left";n[n.pageDown=34]="pageDown";n[n.pageUp=33]="pageUp";n[n.right=39]="right";n[n.semicolon=186]="semicolon";n[n.space=32]="space";n[n.tab=9]="tab";n[n.up=38]="up"})(i=t.KeyCodes||(t.KeyCodes={}))});
define("@uifabric/utilities/Rectangle",["require","exports"],function(n,t){"use strict";var i=function(){function n(n,t,i,r){n===void 0&&(n=0);t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=0);this.top=i;this.bottom=r;this.left=n;this.right=t}return Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),n.prototype.equals=function(n){return parseFloat(this.top.toFixed(4))===parseFloat(n.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(n.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(n.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(n.right.toFixed(4))},n}();t.Rectangle=i});
define("@uifabric/utilities/array",["require","exports"],function(n,t){"use strict";function i(n,t){for(var r=-1,i=0;n&&i<n.length;i++)if(t(n[i],i)){r=i;break}return r}function r(n,t){for(var r=[],i=0;i<n;i++)r.push(t(i));return r}t.findIndex=i;t.createArray=r});
define("@uifabric/utilities/autobind",["require","exports"],function(n,t){"use strict";function i(n,t,i){var r=i.value,u=!1;return{configurable:!0,get:function(){if(u||this===r.prototype||this.hasOwnProperty(t))return r;var n=r.bind(this);return u=!0,Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:n}),u=!1,n},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:n})}}}t.autobind=i});
define("@uifabric/utilities/css",["require","exports"],function(n,t){"use strict";function i(){for(var i,r,u,n,f,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(i=[],r=0,u=e;r<u.length;r++)if(n=u[r],n)if(typeof n=="string")i.push(n);else for(f in n)n[f]&&i.push(f);return i.join(" ")}t.css=i});
define("@uifabric/utilities/focus",["require","exports","./dom"],function(n,t,i){"use strict";function l(n,t,i){return r(n,t,!0,!1,!1,i)}function a(n,t,i){return u(n,t,!0,!1,!0,i)}function v(n){var t=r(n,n,!0,!1,!1,!0);return t?(t.focus(),!0):!1}function u(n,t,i,r,s,h){var c,l,a;return!t||t===n?null:(c=f(t),s&&(h||!o(t))&&c&&(l=u(n,t.lastElementChild,!0,!0,!0,h),l))?l:i&&c&&e(t)?t:(a=u(n,t.previousElementSibling,!0,!0,!0,h),a)?a:r?null:u(n,t.parentElement,!0,!1,!1,h)}function r(n,t,i,u,s,h){var c,l,a;return!t||t===n&&s?null:(c=f(t),i&&c&&e(t))?t:!s&&c&&(h||!o(t))&&(l=r(n,t.firstElementChild,!0,!0,!1,h),l)?l:t===n?null:(a=r(n,t.nextElementSibling,!0,!0,!1,h),a)?a:u?null:r(n,t.parentElement,!1,!1,!0,h)}function f(n){if(!n||!n.getAttribute)return!1;var t=n.getAttribute(h);return t!==null&&t!==undefined?t==="true":n.offsetHeight!==0||n.offsetParent!==null||n.isVisible===!0}function e(n){var t,i;return!n||n.disabled?!1:(t=-1,n&&n.getAttribute&&(t=parseInt(n.getAttribute("tabIndex"),10)),i=n.getAttribute?n.getAttribute(s):null,!!n&&i!=="false"&&(n.tagName==="A"||n.tagName==="BUTTON"||n.tagName==="INPUT"||n.tagName==="TEXTAREA"||t>=0||n.getAttribute&&i==="true"||n.getAttribute("role")==="button"))}function o(n){return n&&!!n.getAttribute(c)}function y(n){var t=i.getDocument(n).activeElement;return t&&i.elementContains(n,t)?!0:!1}var s="data-is-focusable",h="data-is-visible",c="data-focuszone-id";t.getFirstFocusable=l;t.getLastFocusable=a;t.focusFirstChild=v;t.getPreviousElement=u;t.getNextElement=r;t.isElementVisible=f;t.isElementTabbable=e;t.isElementFocusZone=o;t.doesElementContainFocus=y});
define("@uifabric/utilities/hoist",["require","exports"],function(n,t){"use strict";function r(n,t,r){var u,f,e;r===void 0&&(r=i);u=[];f=function(i){typeof t[i]!="function"||n[i]!==undefined||r&&r.indexOf(i)!==-1||(u.push(i),n[i]=function(){t[i].apply(t,arguments)})};for(e in t)f(e);return u}function u(n,t){t.forEach(function(t){return delete n[t]})}var i=["setState","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"];t.hoistMethods=r;t.unhoistMethods=u});
define("@uifabric/utilities/math",["require","exports"],function(n,t){"use strict";function i(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}t.getDistanceBetweenPoints=i});
define("@uifabric/utilities/object",["require","exports"],function(n,t){"use strict";function u(n,t){for(var i in n)if(n.hasOwnProperty(i)&&(!t.hasOwnProperty(i)||t[i]!==n[i]))return!1;return!0}function e(n,t){return u(n,t)&&u(t,n)}function o(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return f.apply(this,[null,n].concat(i))}function f(n,t){for(var f,e,i,r,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];for(t=t||{},f=0,e=o;f<e.length;f++)if(i=e[f],i)for(r in i)(i.hasOwnProperty(r)&&!n||n(r))&&(t[r]=i[r]);return t}function s(n){var t=r[i]++;return(n||"")+t}var i="__currentId__",r=typeof window!="undefined"&&window||process;r[i]===undefined&&(r[i]=0);t.shallowCompare=e;t.assign=o;t.filteredAssign=f;t.getId=s});
define("@uifabric/utilities/properties",["require","exports","./object"],function(n,t,i){"use strict";function r(n,t,r){return i.filteredAssign(function(n){return(!r||r.indexOf(n)<0)&&(n.indexOf("data-")===0||n.indexOf("aria-")===0||t.indexOf(n)>=0)},{},n)}t.baseElementEvents=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel"];t.baseElementProperties=["defaultChecked","defaultValue","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","charSet","challenge","checked","children","classID","className","cols","colSpan","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","placeholder","poster","preload","radioGroup","readOnly","rel","required","role","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","title","type","useMap","value","width","wmode","wrap"];t.htmlElementProperties=t.baseElementProperties.concat(t.baseElementEvents);t.anchorProperties=t.htmlElementProperties.concat(["href","target"]);t.buttonProperties=t.htmlElementProperties.concat(["disabled"]);t.divProperties=t.htmlElementProperties.concat(["align","noWrap"]);t.inputProperties=t.buttonProperties;t.textAreaProperties=t.buttonProperties;t.imageProperties=t.divProperties;t.getNativeProps=r});
define("@uifabric/utilities/resources",["require","exports"],function(n,t){"use strict";function r(n){return i+n}function u(n){i=n}function f(){return"en-us"}var i="";t.getResourceUrl=r;t.setBaseUrl=u;t.getLanguage=f});
define("@uifabric/utilities/rtl",["require","exports","./KeyCodes","./dom"],function(n,t,i,r){"use strict";function f(){if(u===undefined){var n=r.getDocument();if(n)u=document.documentElement.getAttribute("dir")==="rtl";else throw new Error("getRTL was called in a server environment without setRTL being called first. Call setRTL to set the correct direction first.");}return u}function e(n){var t=r.getDocument();t&&t.documentElement.setAttribute("dir",n?"rtl":"ltr");u=n}function o(n){return f()&&(n===i.KeyCodes.left?n=i.KeyCodes.right:n===i.KeyCodes.right&&(n=i.KeyCodes.left)),n}var u;t.getRTL=f;t.setRTL=e;t.getRTLSafeKeyCode=o});
define("@uifabric/utilities/string",["require","exports"],function(n,t){"use strict";function u(n){function e(n){var t=f[n.replace(i,"")];return(t===null||t===undefined)&&(t=""),t}for(var f,u=[],t=1;t<arguments.length;t++)u[t-1]=arguments[t];return f=u,n.replace(r,e)}var i=/[\{\}]/g,r=/\{\d+\}/g;t.format=u});
define("@uifabric/utilities/index",["require","exports","./Async","./AutoScroll","./BaseComponent","./DelayedRender","./EventGroup","./KeyCodes","./Rectangle","./array","./autobind","./css","./dom","./focus","./hoist","./math","./object","./properties","./resources","./rtl","./scroll","./string"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){"use strict";function tt(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}tt(i);tt(r);tt(u);tt(f);tt(e);tt(o);tt(s);tt(h);tt(c);tt(l);tt(a);tt(v);tt(y);tt(p);tt(w);tt(b);tt(k);tt(d);tt(g);tt(nt)});
define("@uifabric/utilities/lib/index",["require","exports","../index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/Utilities",["require","exports","@uifabric/utilities/lib/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Button/BaseButton",["require","exports","react","../../Utilities"],function(n,t,i,r){"use strict";var u=function(n){function t(t){var i=n.call(this,t,{rootProps:null})||this;return i._baseClassName="ms-Button",i._variantClassName="",i._labelId=r.getId(),i._descriptionId=r.getId(),i._ariaDescriptionId=r.getId(),i}return __extends(t,n),t.prototype.render=function(){var n=this.props,s=n.className,h=n.description,u=n.ariaLabel,c=n.ariaDescription,l=n.href,a=n.disabled,t=this,v=t._ariaDescriptionId,y=t._labelId,p=t._descriptionId,f=!!l,w=f?"a":"button",i=r.getNativeProps(this.props.rootProps||this.props,f?r.anchorProperties:r.buttonProperties,["disabled"]),e,o;e=c?v:h?p:i["aria-describedby"]?i["aria-describedby"]:null;o=r.assign(i,{className:r.css(s,this._baseClassName,this._variantClassName,{disabled:a}),ref:this._resolveRef("_buttonElement"),"aria-label":u,"aria-labelledby":u?null:y,"aria-describedby":e});return this.onRenderContent(w,o)},t.prototype.focus=function(){this._buttonElement&&this._buttonElement.focus()},t.prototype.onRenderContent=function(n,t){return i.createElement(n,t,this.onRenderIcon(),this.onRenderLabel(),this.onRenderDescription(),this.onRenderAriaDescription(),this.onRenderChildren())},t.prototype.onRenderIcon=function(){var n=this.props.icon;return n?i.createElement("span",{className:this._baseClassName+"-icon"},i.createElement("i",{className:"ms-Icon ms-Icon--"+n})):null},t.prototype.onRenderLabel=function(){var t=this.props,r=t.children,n=t.label;return n===undefined&&typeof r=="string"&&(n=r),n?i.createElement("span",{className:this._baseClassName+"-label",id:this._labelId},n):null},t.prototype.onRenderChildren=function(){var n=this.props,t=n.children,i=n.label;return i===undefined&&typeof t=="string"?null:t},t.prototype.onRenderDescription=function(){var n=this.props.description;return n?i.createElement("span",{className:this._baseClassName+"-description",id:this._descriptionId},n):null},t.prototype.onRenderAriaDescription=function(){var n=this.props.ariaDescription;return n?i.createElement("span",{className:"ms-u-screenReaderOnly",id:this._ariaDescriptionId},n):null},t}(r.BaseComponent);t.BaseButton=u});
define("OfficeFabric/components/Button/Button.Props",["require","exports"],function(n,t){"use strict";var i,r;(function(n){n[n.button=0]="button";n[n.anchor=1]="anchor"})(i=t.ElementType||(t.ElementType={})),function(n){n[n.normal=0]="normal";n[n.primary=1]="primary";n[n.hero=2]="hero";n[n.compound=3]="compound";n[n.command=4]="command";n[n.icon=5]="icon";n[n["default"]=6]="default"}(r=t.ButtonType||(t.ButtonType={}))});
define("@microsoft/load-themed-styles",["require","exports"],function(n,t){"use strict";function l(n){var t=Array.isArray(n)?n:f(n);u===undefined&&(u=b());s(t)}function a(n){i.loadStyles=n}function s(n,t){if(i.loadStyles){var f=r(n);i.loadStyles(f)}else u?w(n,t):p(n,t)}function v(n){i.theme=n;y()}function y(){var n,t,r;if(i.theme)for(n=0,t=i.registeredStyles;n<t.length;n++)r=t[n],s(r.themableStyle,r)}function h(n){return n&&(n=r(f(n))),n}function r(n){var t=i.theme,r,u;return n&&(u=n.map(function(n){var i=n.theme,r,u;return i?(r=t?t[i]:undefined,u=n.defaultValue,!t||r||!console||i in t||console.warn('Theming value not provided for "'+i+'". Falling back to "'+(u||"inherit")+'".'),r||u||"inherit"):n.rawString}),r=u.join("")),r}function f(n){var r=[],t,i,u;if(n){for(t=0,i=void 0;i=o.exec(n);)u=i.index,u>t&&r.push({rawString:n.substring(t,u)}),r.push({theme:i[1],defaultValue:i[2]}),t=o.lastIndex;r.push({rawString:n.substring(t)})}return r}function p(n,t){var f=document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css";u.appendChild(document.createTextNode(r(n)));t?(f.replaceChild(u,t.styleElement),t.styleElement=u):f.appendChild(u);t||i.registeredStyles.push({styleElement:u,themableStyle:n})}function w(n,t){var o=document.getElementsByTagName("head")[0],u=i.lastStyleElement,f=i.registeredStyles,s=u?u.styleSheet:undefined,a=s?s.cssText:"",e=f[f.length-1],l=r(n);(!u||a.length+l.length>c)&&(u=document.createElement("style"),u.type="text/css",t?(o.replaceChild(u,t.styleElement),t.styleElement=u):o.appendChild(u),t||(e={styleElement:u,themableStyle:n},f.push(e)));u.styleSheet.cssText+=h(l);Array.prototype.push.apply(e.themableStyle,n);i.lastStyleElement=u}function b(){var t=!1,n;return typeof document!="undefined"&&(n=document.createElement("style"),n.type="text/css",t=!!n.styleSheet),t}var u,e=typeof window=="undefined"?global:window,i=e.__themeState__=e.__themeState__||{theme:undefined,lastStyleElement:undefined,registeredStyles:[]},o=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,c=1e4;t.loadStyles=l;t.configureLoadStyles=a;t.loadTheme=v;t.detokenize=h;t.splitStyles=f});
define("OfficeFabric/components/Button/DefaultButton/DefaultButton.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Button.ms-Button--default{background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";border:1px solid "},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";min-width:80px;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.ms-Button.ms-Button--default .ms-Button-icon,.ms-Button.ms-Button--default .ms-Button-label{height:32px;line-height:32px}.ms-Button.ms-Button--default:hover{background-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";border-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";color:"},{theme:"black",defaultValue:"#000000"},{rawString:"}.ms-Button.ms-Button--default:focus{background-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";border-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";outline:1px solid transparent;color:"},{theme:"black",defaultValue:"#000000"},{rawString:"}.ms-Button.ms-Button--default:active{background-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.ms-Button.ms-Button--default .ms-Button-label{font-weight:600;font-size:14px}.ms-Button.ms-Button--default.disabled,.ms-Button.ms-Button--default:disabled{background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";border-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";cursor:default;pointer-events:none;color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-Button.ms-Button--default.disabled:focus,.ms-Button.ms-Button--default.disabled:hover,.ms-Button.ms-Button--default:disabled:focus,.ms-Button.ms-Button--default:disabled:hover{outline:0}.ms-Fabric.is-focusVisible .ms-Button:focus{color:"},{theme:"black",defaultValue:"#000000"},{rawString:"}.ms-Fabric.is-focusVisible .ms-Button:focus:before{border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}"}])});
define("OfficeFabric/components/Button/ButtonCore/ButtonCore.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-Button{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-width:0;text-decoration:none;text-align:center;cursor:pointer;display:inline-block;padding:0 16px}.ms-Button::-moz-focus-inner{border:0}.ms-Button{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-Button:focus:after{content:\'\';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid '},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}@media screen and (-ms-high-contrast:active){.ms-Button{color:#1AEBFF;border-color:#1AEBFF}}@media screen and (-ms-high-contrast:black-on-white){.ms-Button{color:#37006E;border-color:#37006E}}.ms-Button-icon{margin:0 4px;width:16px;vertical-align:top;display:inline-block}.ms-Button-label{margin:0 4px;vertical-align:top;display:inline-block}.ms-Button--hero{background-color:transparent;border:0;height:auto}.ms-Button--hero .ms-Button-icon{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";display:inline-block;padding-top:5px;font-size:20px;line-height:1}html[dir=ltr] .ms-Button--hero .ms-Button-icon{margin-right:8px}html[dir=rtl] .ms-Button--hero .ms-Button-icon{margin-left:8px}.ms-Button--hero .ms-Button-label{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";font-size:21px;font-weight:100;vertical-align:top}.ms-Button--hero:focus,.ms-Button--hero:hover{background-color:transparent}.ms-Button--hero:focus .ms-Button-icon,.ms-Button--hero:hover .ms-Button-icon{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}.ms-Button--hero:focus .ms-Button-label,.ms-Button--hero:hover .ms-Button-label{color:"},{theme:"themeDarker",defaultValue:"#004578"},{rawString:"}.ms-Button--hero:active .ms-Button-icon{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-Button--hero:active .ms-Button-label{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-Button--hero.is-disabled .ms-Button-icon,.ms-Button--hero:disabled .ms-Button-icon{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:"}.ms-Button--hero.is-disabled .ms-Button-label,.ms-Button--hero:disabled .ms-Button-label{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Button/DefaultButton/DefaultButton",["require","exports","../BaseButton","./DefaultButton.scss","../ButtonCore/ButtonCore.scss"],function(n,t,i){"use strict";var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._variantClassName="ms-Button--default",t}return __extends(t,n),t.prototype.onRenderDescription=function(){return null},t}(i.BaseButton);t.DefaultButton=r});
define("OfficeFabric/components/Button/CommandButton/CommandButton.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-Button.ms-Button--command{background-color:transparent;border:none;padding:0 4px}html[dir=ltr] .ms-Button.ms-Button--command{text-align:left}html[dir=rtl] .ms-Button.ms-Button--command{text-align:right}.ms-Button.ms-Button--command .ms-Button-icon,.ms-Button.ms-Button--command .ms-Button-label{height:40px;line-height:40px}.ms-Button.ms-Button--command .ms-Button-label{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;font-weight:400;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.ms-Button.ms-Button--command .ms-Button-icon{vertical-align:top;color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";display:inline-block;font-size:16px;position:relative}.ms-Button.ms-Button--command:focus,.ms-Button.ms-Button--command:hover{background-color:transparent}.ms-Button.ms-Button--command:focus,.ms-Button.ms-Button--command:focus .ms-Button-icon,.ms-Button.ms-Button--command:focus .ms-Button-label,.ms-Button.ms-Button--command:hover,.ms-Button.ms-Button--command:hover .ms-Button-icon,.ms-Button.ms-Button--command:hover .ms-Button-label{color:"},{theme:"themeDarker",defaultValue:"#004578"},{rawString:"}.ms-Button.ms-Button--command:active,.ms-Button.ms-Button--command:active .ms-Button-icon,.ms-Button.ms-Button--command:active .ms-Button-label{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-Button.ms-Button--command.disabled,.ms-Button.ms-Button--command:disabled{background-color:transparent}.ms-Button.ms-Button--command.disabled .ms-Button-icon,.ms-Button.ms-Button--command.disabled .ms-Button-label,.ms-Button.ms-Button--command:disabled .ms-Button-icon,.ms-Button.ms-Button--command:disabled .ms-Button-label{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Button/CommandButton/CommandButton",["require","exports","../BaseButton","./CommandButton.scss","../ButtonCore/ButtonCore.scss"],function(n,t,i){"use strict";var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._variantClassName="ms-Button--command",t}return __extends(t,n),t.prototype.onRenderDescription=function(){return null},t}(i.BaseButton);t.CommandButton=r});
define("OfficeFabric/components/Button/CompoundButton/CompoundButton.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Button.ms-Button--compound{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;max-width:280px;min-height:72px;padding:16px 20px;background:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:'}html[dir=ltr] .ms-Button.ms-Button--compound{text-align:left}html[dir=rtl] .ms-Button.ms-Button--compound{text-align:right}.ms-Button.ms-Button--compound .ms-Button-label{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;display:block;font-weight:600;color:'},{theme:"black",defaultValue:"#000000"},{rawString:';margin:0 0 2px}.ms-Button.ms-Button--compound .ms-Button-description{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:12px;font-weight:400;color:'},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:";display:block}.ms-Button.ms-Button--compound:hover{background-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";border-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}.ms-Button.ms-Button--compound:hover .ms-Button-description{color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}.ms-Button.ms-Button--compound:focus{border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:"}.ms-Button.ms-Button--compound:focus .ms-Button-label{color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.ms-Button.ms-Button--compound:focus .ms-Button-description{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.ms-Button.ms-Button--compound:active{background-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-Button.ms-Button--compound:active .ms-Button-description,.ms-Button.ms-Button--compound:active .ms-Button-label{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.ms-Button.ms-Button--compound.disabled .ms-Button-description,.ms-Button.ms-Button--compound.disabled .ms-Button-label,.ms-Button.ms-Button--compound:disabled .ms-Button-description,.ms-Button.ms-Button--compound:disabled .ms-Button-label{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Button/CompoundButton/CompoundButton",["require","exports","../BaseButton","./CompoundButton.scss","../ButtonCore/ButtonCore.scss"],function(n,t,i){"use strict";var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._variantClassName="ms-Button--compound",t}return __extends(t,n),t.prototype.onRenderIcon=function(){return null},t}(i.BaseButton);t.CompoundButton=r});
define("OfficeFabric/components/Button/IconButton/IconButton.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Button.ms-Button--icon{background-color:transparent;color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:";padding:0 4px;font-size:16px}.ms-Button.ms-Button--icon::-moz-focus-inner{border:0}.ms-Button.ms-Button--icon{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-Button.ms-Button--icon:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.ms-Button.ms-Button--icon .ms-Button-icon,.ms-Button.ms-Button--icon .ms-Button-label{height:32px;line-height:32px}.ms-Button.ms-Button--icon:active,.ms-Button.ms-Button--icon:hover{background-color:transparent;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.ms-Button.ms-Button--icon:focus{background-color:transparent}.ms-Button.ms-Button--icon.disabled,.ms-Button.ms-Button--icon:disabled{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";background-color:transparent}@media screen and (-ms-high-contrast:active){.ms-Button.ms-Button--icon{color:"},{theme:"yellowLight",defaultValue:"#fff100"},{rawString:"}}@media screen and (-ms-high-contrast:black-on-white){.ms-Button.ms-Button--icon{color:"},{theme:"blueMid",defaultValue:"#00188f"},{rawString:"}}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Button/IconButton/IconButton",["require","exports","../BaseButton","./IconButton.scss","../ButtonCore/ButtonCore.scss"],function(n,t,i){"use strict";var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._variantClassName="ms-Button--icon",t}return __extends(t,n),t.prototype.onRenderLabel=function(){return null},t.prototype.onRenderDescription=function(){return null},t.prototype.onRenderChildren=function(){return null},t}(i.BaseButton);t.IconButton=r});
define("OfficeFabric/components/Button/PrimaryButton/PrimaryButton.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Button.ms-Button--primary{min-width:80px;background-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.ms-Button.ms-Button--primary::-moz-focus-inner{border:0}.ms-Button.ms-Button--primary{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-Button.ms-Button--primary:focus:after{content:'';position:absolute;top:1px;right:1px;bottom:1px;left:1px;pointer-events:none;border:1px solid "},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.ms-Button.ms-Button--primary .ms-Button-icon,.ms-Button.ms-Button--primary .ms-Button-label{height:32px;line-height:32px}.ms-Button.ms-Button--primary .ms-Button-label{font-weight:600;font-size:14px}.ms-Button.ms-Button--primary:hover{background-color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:";border-color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}.ms-Button.ms-Button--primary:focus{background-color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:";border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-Button.ms-Button--primary:active{background-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-Button.ms-Button--primary.disabled,.ms-Button.ms-Button--primary:disabled{background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";border-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";cursor:default;pointer-events:none;color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-Button.ms-Button--primary.disabled:focus,.ms-Button.ms-Button--primary.disabled:hover,.ms-Button.ms-Button--primary:disabled:focus,.ms-Button.ms-Button--primary:disabled:hover{outline:0}.ms-Fabric.is-focusVisible .ms-Button--primary:focus{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.ms-Fabric.is-focusVisible .ms-Button--primary:focus:before{border-color:"},{theme:"themeLighter",defaultValue:"#deecf9"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Button/PrimaryButton/PrimaryButton",["require","exports","../BaseButton","./PrimaryButton.scss","../ButtonCore/ButtonCore.scss"],function(n,t,i){"use strict";var r=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._variantClassName="ms-Button--primary",t}return __extends(t,n),t.prototype.onRenderDescription=function(){return null},t}(i.BaseButton);t.PrimaryButton=r});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/Button/Button",["require","exports","react","../../Utilities","./Button.Props","./DefaultButton/DefaultButton","./CommandButton/CommandButton","./CompoundButton/CompoundButton","./IconButton/IconButton","./PrimaryButton/PrimaryButton"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var c=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props;switch(n.buttonType){case u.ButtonType.command:return i.createElement(e.CommandButton,__assign({},n,{ref:this._resolveRef("_button")}));case u.ButtonType.compound:return i.createElement(o.CompoundButton,__assign({},n,{ref:this._resolveRef("_button")}));case u.ButtonType.icon:return i.createElement(s.IconButton,__assign({},n,{ref:this._resolveRef("_button")}));case u.ButtonType.primary:return i.createElement(h.PrimaryButton,__assign({},n,{ref:this._resolveRef("_button")}));default:return i.createElement(f.DefaultButton,__assign({},n,{ref:this._resolveRef("_button")}))}},t.prototype.focus=function(){this._button&&this._button.focus()},t}(r.BaseComponent);t.Button=c});
define("OfficeFabric/components/Button/index",["require","exports","./BaseButton","./Button.Props","./Button","./CommandButton/CommandButton","./CompoundButton/CompoundButton","./DefaultButton/DefaultButton","./PrimaryButton/PrimaryButton","./IconButton/IconButton"],function(n,t,i,r,u,f,e,o,s,h){"use strict";function c(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}c(i);c(r);c(u);c(f);c(e);c(o);c(s);c(h)});
define("OfficeFabric/Button",["require","exports","./components/Button/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/Spinner/Spinner.Props",["require","exports"],function(n,t){"use strict";var i;(function(n){n[n.normal=0]="normal";n[n.large=1]="large"})(i=t.SpinnerType||(t.SpinnerType={}))});
define("OfficeFabric/components/Spinner/Spinner.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:"@-webkit-keyframes ms-Spinner-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ms-Spinner-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ms-Spinner>.ms-Spinner-circle{margin:auto;box-sizing:border-box;border-radius:50%;width:100%;height:100%;border:1.5px solid "},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";border-top-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";-webkit-animation:ms-Spinner-spin 1.3s infinite cubic-bezier(.53,.21,.29,.67);animation:ms-Spinner-spin 1.3s infinite cubic-bezier(.53,.21,.29,.67)}.ms-Spinner>.ms-Spinner-circle.ms-Spinner--normal{width:20px;height:20px}.ms-Spinner>.ms-Spinner-circle.ms-Spinner--large{width:28px;height:28px}.ms-Spinner>.ms-Spinner-label{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";margin-top:10px;text-align:center}@media screen and (-ms-high-contrast:active){.ms-Spinner>.ms-Spinner-circle{border-top-style:none}}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Spinner/Spinner",["require","exports","react","../../Utilities","./Spinner.Props","./Spinner.scss"],function(n,t,i,r,u){"use strict";var f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.type,f=n.label,e=n.className;return i.createElement("div",{className:r.css("ms-Spinner",e)},i.createElement("div",{className:r.css("ms-Spinner-circle",{"ms-Spinner--normal":t===u.SpinnerType.normal},{"ms-Spinner--large":t===u.SpinnerType.large})}),f&&i.createElement("div",{className:"ms-Spinner-label"},f))},t}(i.Component);f.defaultProps={type:u.SpinnerType.normal};t.Spinner=f});
define("OfficeFabric/components/Spinner/index",["require","exports","./Spinner","./Spinner.Props"],function(n,t,i,r){"use strict";function u(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}u(i);u(r)});
define("OfficeFabric/Spinner",["require","exports","./components/Spinner/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/FocusTrapZone/FocusTrapZone",["require","exports","react","../../Utilities"],function(n,t,i,r){"use strict";var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.componentDidMount=function(){var n=this.props,t=n.elementToFocusOnDismiss,i=n.isClickableOutsideFocusTrap,u=i===void 0?!1:i,r=n.forceFocusInsideTrap,f=r===void 0?!0:r;if(this._previouslyFocusedElement=t?t:document.activeElement,this.focus(),f)this._events.on(window,"focus",this._forceFocusInTrap,!0);if(!u)this._events.on(window,"click",this._forceClickInTrap,!0)},t.prototype.componentWillUnmount=function(){var n=this.props.ignoreExternalFocusing;!n&&this._previouslyFocusedElement&&this._previouslyFocusedElement.focus()},t.prototype.render=function(){var n=this.props,t=n.className,u=n.ariaLabelledBy,f=r.getNativeProps(this.props,r.divProperties);return i.createElement("div",__assign({},f,{className:t,ref:"root","aria-labelledby":u,onKeyDown:this._onKeyboardHandler}),this.props.children)},t.prototype.focus=function(){var i=this.props.firstFocusableSelector,n,t=this.refs.root;n=i?t.querySelector("."+i):r.getNextElement(t,t.firstChild,!0,!1,!1,!0);n&&n.focus()},t.prototype._onKeyboardHandler=function(n){if(n.which===r.KeyCodes.tab){var t=this.refs.root,i=r.getFirstFocusable(t,t.firstChild,!0),u=r.getLastFocusable(t,t.lastChild,!0);n.shiftKey&&i===n.target?(u.focus(),n.preventDefault(),n.stopPropagation()):n.shiftKey||u!==n.target||(i.focus(),n.preventDefault(),n.stopPropagation())}},t.prototype._forceFocusInTrap=function(n){var t=document.activeElement;r.elementContains(this.refs.root,t)||(this.focus(),n.preventDefault(),n.stopPropagation())},t.prototype._forceClickInTrap=function(n){var t=n.target;t&&!r.elementContains(this.refs.root,t)&&(this.focus(),n.preventDefault(),n.stopPropagation())},t}(r.BaseComponent);__decorate([r.autobind],u.prototype,"_onKeyboardHandler",null);t.FocusTrapZone=u});
define("OfficeFabric/components/FocusTrapZone/index",["require","exports","./FocusTrapZone"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/Dialog/Dialog.Props",["require","exports"],function(n,t){"use strict";var i;(function(n){n[n.normal=0]="normal";n[n.largeHeader=1]="largeHeader";n[n.close=2]="close"})(i=t.DialogType||(t.DialogType={}))});
define("OfficeFabric/components/Overlay/Overlay.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Overlay{background-color:"},{theme:"whiteTranslucent40",defaultValue:"rgba(255,255,255,.4)"},{rawString:";position:absolute;bottom:0;left:0;right:0;top:0}.ms-Overlay.ms-Overlay--none{visibility:hidden}.ms-Overlay.ms-Overlay--dark{background-color:"},{theme:"blackTranslucent40",defaultValue:"rgba(0,0,0,.4)"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/Overlay/Overlay",["require","exports","react","../../Utilities","./Overlay.scss"],function(n,t,i,r){"use strict";var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.isDarkThemed,u=n.className,f=r.getNativeProps(this.props,r.divProperties),e=r.css("ms-Overlay",u,{"ms-Overlay--dark":t});return i.createElement("div",__assign({},f,{className:e}))},t}(i.Component);t.Overlay=u});
define("OfficeFabric/components/Overlay/index",["require","exports","./Overlay"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/Overlay",["require","exports","./components/Overlay/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/Fabric/Fabric",["require","exports","react","../../Utilities"],function(n,t,i,r){"use strict";var e=[r.KeyCodes.up,r.KeyCodes.down,r.KeyCodes.left,r.KeyCodes.right,r.KeyCodes.home,r.KeyCodes.end,r.KeyCodes.tab,r.KeyCodes.pageUp,r.KeyCodes.pageDown],u=!1,f;typeof document=="object"&&document.documentElement&&!document.documentElement.getAttribute("dir")&&document.documentElement.setAttribute("dir","ltr");f=function(n){function t(){var t=n.call(this)||this;return t.state={isFocusVisible:u},t._events=new r.EventGroup(t),t}return __extends(t,n),t.prototype.componentDidMount=function(){this._events.on(document.body,"mousedown",this._onMouseDown,!0);this._events.on(document.body,"keydown",this._onKeyDown,!0)},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype.render=function(){var n=this.state.isFocusVisible,t=r.css("ms-Fabric ms-font-m",this.props.className,{"is-focusVisible":n});return i.createElement("div",__assign({},this.props,{className:t,ref:"root"}))},t.prototype._onMouseDown=function(){this.state.isFocusVisible&&(this.setState({isFocusVisible:!1}),u=!1)},t.prototype._onKeyDown=function(n){!this.state.isFocusVisible&&e.indexOf(n.which)>-1&&(this.setState({isFocusVisible:!0}),u=!0)},t}(i.Component);t.Fabric=f});
define("OfficeFabric/components/Fabric/index",["require","exports","./Fabric"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/Fabric",["require","exports","./components/Fabric/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/Layer/Layer.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Layer--fixed{position:fixed;z-index:1000000;top:0;left:0;width:100vw;height:100vh;visibility:hidden}.ms-Layer-content{visibility:visible}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Layer/Layer",["require","exports","react","react-dom","../../Fabric","../../Utilities","./Layer.scss"],function(n,t,i,r,u,f){"use strict";var e={},o=function(n){function t(t){var i=n.call(this,t,{onLayerMounted:"onLayerDidMount"})||this;return i.props.hostId&&(e[i.props.hostId]||(e[i.props.hostId]=[]),e[i.props.hostId].push(i)),i}return __extends(t,n),t.notifyHostChanged=function(n){e[n]&&e[n].forEach(function(n){return n.forceUpdate()})},t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentWillUnmount=function(){var n=this;this._removeLayerElement();this.props.hostId&&(e[this.props.hostId]=e[this.props.hostId].filter(function(t){return t!==n}),e[this.props.hostId].length||delete e[this.props.hostId])},t.prototype.componentDidUpdate=function(){var n=this,t=this._getHost(),e;t!==this._host&&this._removeLayerElement();t&&(this._host=t,this._layerElement||(e=f.getDocument(this._rootElement),this._layerElement=e.createElement("div"),this._layerElement.className=f.css("ms-Layer",{"ms-Layer--fixed":!this.props.hostId}),t.appendChild(this._layerElement),f.setVirtualParent(this._layerElement,this._rootElement)),r.unstable_renderSubtreeIntoContainer(this,i.createElement(u.Fabric,{className:"ms-Layer-content"},this.props.children),this._layerElement,function(){n._hasMounted||(n._hasMounted=!0,n.props.onLayerMounted&&n.props.onLayerMounted(),n.props.onLayerDidMount())}))},t.prototype.render=function(){return i.createElement("span",{className:"ms-Layer",ref:this._resolveRef("_rootElement")})},t.prototype._removeLayerElement=function(){if(this._layerElement){this.props.onLayerWillUnmount();r.unmountComponentAtNode(this._layerElement);var n=this._layerElement.parentNode;n&&n.removeChild(this._layerElement);this._layerElement=undefined;this._hasMounted=!1}},t.prototype._getHost=function(){var n=this.props.hostId,t=f.getDocument(this._rootElement);return n?t.getElementById(n):t.body},t}(f.BaseComponent);o.defaultProps={onLayerDidMount:function(){return undefined},onLayerWillUnmount:function(){return undefined}};t.Layer=o});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/Layer/LayerHost",["require","exports","react","../../Utilities","./Layer"],function(n,t,i,r,u){"use strict";var f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentDidMount=function(){u.Layer.notifyHostChanged(this.props.id)},t.prototype.componentWillUnmount=function(){u.Layer.notifyHostChanged(this.props.id)},t.prototype.render=function(){return i.createElement("div",__assign({},this.props,{className:r.css("ms-LayerHost",this.props.className)}))},t}(r.BaseComponent);t.LayerHost=f});
define("OfficeFabric/components/Layer/index",["require","exports","./Layer","./LayerHost"],function(n,t,i,r){"use strict";function u(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}u(i);u(r)});
define("OfficeFabric/Layer",["require","exports","./components/Layer/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/Dialog/Dialog.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-Dialog{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;background-color:transparent;position:fixed;height:100%;width:100%;top:0;display:none}html[dir=ltr] .ms-Dialog{left:0}html[dir=rtl] .ms-Dialog{right:0}.ms-Dialog .ms-Button.ms-Button--compound{display:block}html[dir=ltr] .ms-Dialog .ms-Button.ms-Button--compound{margin-left:0}html[dir=rtl] .ms-Dialog .ms-Button.ms-Button--compound{margin-right:0}@media screen and (-ms-high-contrast:active){.ms-Dialog .ms-Overlay{opacity:0}}.ms-Dialog.is-open{display:block}.ms-Dialog.is-open{display:block;line-height:100vh;text-align:center}.ms-Dialog.is-open::before{vertical-align:middle;display:inline-block;content:"";height:100%;width:0}.ms-Dialog.is-animatingOpen{-webkit-animation-duration:367ms;-webkit-animation-name:fadeIn;-webkit-animation-fill-mode:both;animation-duration:367ms;animation-name:fadeIn;animation-fill-mode:both;-webkit-animation-duration:267ms;animation-duration:267ms}.ms-Dialog.is-animatingClose{-webkit-animation-duration:367ms;-webkit-animation-name:fadeOut;-webkit-animation-fill-mode:both;animation-duration:367ms;animation-name:fadeOut;animation-fill-mode:both;-webkit-animation-duration:167ms;animation-duration:167ms}.ms-Dialog-main{vertical-align:middle;display:inline-block;box-shadow:0 0 5px 0 rgba(0,0,0,.4);background-color:'},{theme:"white",defaultValue:"#ffffff"},{rawString:";box-sizing:border-box;line-height:1.35;margin:auto;width:288px;position:relative;outline:3px solid transparent;max-height:100%;overflow-y:auto}html[dir=ltr] .ms-Dialog-main{text-align:left}html[dir=rtl] .ms-Dialog-main{text-align:right}.ms-Dialog-button.ms-Dialog-button--close{display:none}.ms-Dialog-button.ms-Dialog-button--close .ms-Icon.ms-Icon--Cancel{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:';font-size:16px}.ms-Dialog-inner{padding:0 28px 20px}.ms-Dialog-header{position:relative;width:100%;box-sizing:border-box}.ms-Dialog-title{margin:0;font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:21px;font-weight:100;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:';padding:20px 36px 20px 28px}html[dir=rtl] .ms-Dialog-title{padding:20px 28px 20px 36px}.ms-Dialog-topButton{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;position:absolute;top:0;padding:12px 12px 0 0}html[dir=ltr] .ms-Dialog-topButton{right:0}html[dir=rtl] .ms-Dialog-topButton{left:0}html[dir=rtl] .ms-Dialog-topButton{padding:12px 0 0 12px}.ms-Dialog-topButton>*{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.ms-Dialog-content{position:relative;width:100%}.ms-Dialog-content .ms-Button.ms-Button--compound{margin-bottom:20px}.ms-Dialog-content .ms-Button.ms-Button--compound:last-child{margin-bottom:0}.ms-Dialog-subText{margin:0 0 20px 0;padding-top:8px;font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:12px;font-weight:400;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";font-weight:300;line-height:1.5}.ms-Dialog-actions{position:relative;width:100%;min-height:24px;line-height:24px;margin:20px 0 0;font-size:0}.ms-Dialog-actions .ms-Button{line-height:normal}.ms-Dialog-actionsRight{font-size:0}html[dir=ltr] .ms-Dialog-actionsRight{text-align:right}html[dir=rtl] .ms-Dialog-actionsRight{text-align:left}html[dir=ltr] .ms-Dialog-actionsRight{margin-right:-4px}html[dir=rtl] .ms-Dialog-actionsRight{margin-left:-4px}.ms-Dialog-actionsRight .ms-Dialog-action{margin:0 4px}.ms-Dialog.ms-Dialog--close:not(.ms-Dialog--lgHeader) .ms-Dialog-button.ms-Dialog-button--close{display:block}.ms-Dialog.ms-Dialog--multiline .ms-Dialog-title{font-size:28px}.ms-Dialog.ms-Dialog--multiline .ms-Dialog-inner{padding:0 20px 20px}.ms-Dialog.ms-Dialog--lgHeader .ms-Dialog-header{background-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:'}.ms-Dialog.ms-Dialog--lgHeader .ms-Dialog-title{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:28px;font-weight:100;color:'},{theme:"white",defaultValue:"#ffffff"},{rawString:";padding:26px 28px 28px;margin-bottom:8px}.ms-Dialog.ms-Dialog--lgHeader .ms-Dialog-subText{font-size:14px}@media (min-width:480px){.ms-Dialog-main{width:auto;min-width:288px;max-width:340px}}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/Dialog/DialogFooter",["require","exports","react","./Dialog.scss"],function(n,t,i){"use strict";var r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"ms-Dialog-actions"},i.createElement("div",{className:"ms-Dialog-actionsRight"},this._renderChildrenAsActions()))},t.prototype._renderChildrenAsActions=function(){return i.Children.map(this.props.children,function(n){return i.createElement("span",{className:"ms-Dialog-action"},n)})},t}(i.Component);t.DialogFooter=r});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/Popup/Popup",["require","exports","react","../../Utilities"],function(n,t,i,r){"use strict";var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.componentWillMount=function(){this._originalFocusedElement=r.getDocument().activeElement},t.prototype.componentDidMount=function(){this._events.on(this.refs.root,"focus",this._onFocus,!0);this._events.on(this.refs.root,"blur",this._onBlur,!0);r.doesElementContainFocus(this.refs.root)&&(this._containsFocus=!0)},t.prototype.componentWillUnmount=function(){this.props.shouldRestoreFocus&&this._originalFocusedElement&&this._containsFocus&&this._originalFocusedElement!==window&&this._originalFocusedElement&&this._originalFocusedElement.focus()},t.prototype.render=function(){var n=this.props,t=n.role,u=n.className,f=n.ariaLabelledBy,e=n.ariaDescribedBy;return i.createElement("div",__assign({ref:"root"},r.getNativeProps(this.props,r.divProperties),{className:u,role:t,"aria-labelledby":f,"aria-describedby":e,onKeyDown:this._onKeyDown}),this.props.children)},t.prototype._onKeyDown=function(n){switch(n.which){case r.KeyCodes.escape:this.props.onDismiss&&(this.props.onDismiss(),n.preventDefault(),n.stopPropagation())}},t.prototype._onFocus=function(){this._containsFocus=!0},t.prototype._onBlur=function(){this._containsFocus=!1},t}(r.BaseComponent);u.defaultProps={shouldRestoreFocus:!0};__decorate([r.autobind],u.prototype,"_onKeyDown",null);t.Popup=u});
define("OfficeFabric/components/Popup/index",["require","exports","./Popup"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/utilities/decorators/BaseDecorator",["require","exports","../../Utilities"],function(n,t,i){"use strict";var r=function(n){function t(){var t=n.call(this)||this;return t._updateComposedComponentRef=t._updateComposedComponentRef.bind(t),t}return __extends(t,n),t.prototype._updateComposedComponentRef=function(n){this._composedComponentInstance=n;n?this._hoisted=i.hoistMethods(this,n):this._hoisted&&i.unhoistMethods(this,this._hoisted)},t}(i.BaseComponent);t.BaseDecorator=r});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/utilities/decorators/withResponsiveMode",["require","exports","react","./BaseDecorator","../../Utilities"],function(n,t,i,r,u){"use strict";function s(n){f=n}function h(n){return function(t){function r(){var n=t.call(this)||this;return n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n.state={responsiveMode:n._getResponsiveMode()},n}return __extends(r,t),r.prototype.componentDidMount=function(){var n=this;this._events.on(window,"resize",function(){var t=n._getResponsiveMode();t!==n.state.responsiveMode&&n.setState({responsiveMode:t})})},r.prototype.componentWillUnmount=function(){this._events.dispose()},r.prototype.render=function(){var t=this.state.responsiveMode;return i.createElement(n,__assign({ref:this._updateComposedComponentRef,responsiveMode:t},this.props))},r.prototype._getResponsiveMode=function(){var n=e.small,t=u.getWindow();if(typeof t!="undefined")while(t.innerWidth>o[n])n++;else if(f!==undefined)n=f;else throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");return n},r}(r.BaseDecorator)}var e,o,f;(function(n){n[n.small=0]="small";n[n.medium=1]="medium";n[n.large=2]="large";n[n.xLarge=3]="xLarge";n[n.xxLarge=4]="xxLarge";n[n.xxxLarge=5]="xxxLarge"})(e=t.ResponsiveMode||(t.ResponsiveMode={}));o=[479,639,1023,1365,1919,99999999];t.setResponsiveMode=s;t.withResponsiveMode=h});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/Dialog/Dialog",["require","exports","react","../../Utilities","../FocusTrapZone/index","./Dialog.Props","../../Overlay","../../Layer","../../Button","./DialogFooter","../Popup/index","../../utilities/decorators/withResponsiveMode","./Dialog.scss"],function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";var a=function(n){function t(t){var i=n.call(this,t)||this;return i._onDialogRef=i._onDialogRef.bind(i),i.state={id:r.getId("Dialog"),isOpen:t.isOpen,isAnimatingOpen:t.isOpen,isAnimatingClose:!1},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n.isOpen&&!this.state.isOpen&&this.setState({isOpen:!0,isAnimatingOpen:!0,isAnimatingClose:!1});!n.isOpen&&this.state.isOpen&&this.setState({isAnimatingOpen:!1,isAnimatingClose:!0})},t.prototype.render=function(){var n=this.props,tt=n.closeButtonAriaLabel,it=n.elementToFocusOnDismiss,rt=n.firstFocusableSelector,ut=n.forceFocusInsideTrap,ft=n.ignoreExternalFocusing,p=n.isBlocking,w=n.isClickableOutsideFocusTrap,et=n.isDarkOverlay,a=n.onDismiss,ot=n.onLayerDidMount,st=n.onLayerMounted,ht=n.responsiveMode,v=n.subText,b=n.title,k=n.type,t=this.state,h=t.id,d=t.isOpen,ct=t.isAnimatingOpen,lt=t.isAnimatingClose,g,nt,y;return d?(nt=r.css("ms-Dialog",this.props.className,{"ms-Dialog--lgHeader":k===f.DialogType.largeHeader,"ms-Dialog--close":k===f.DialogType.close,"is-open":d,"is-animatingOpen":ct,"is-animatingClose":lt}),y=this._groupChildren(),v&&(g=i.createElement("p",{className:"ms-Dialog-subText",id:h+"-subText"},v)),ht>=l.ResponsiveMode.small?i.createElement(o.Layer,{onLayerDidMount:st||ot},i.createElement(c.Popup,{role:"dialog",ariaLabelledBy:b?h+"-title":"",ariaDescribedBy:v?h+"-subText":"",onDismiss:a},i.createElement("div",{className:nt,ref:this._onDialogRef},i.createElement(e.Overlay,{isDarkThemed:et,onClick:p?null:a}),i.createElement(u.FocusTrapZone,{className:r.css("ms-Dialog-main",this.props.containerClassName),elementToFocusOnDismiss:it,isClickableOutsideFocusTrap:w?w:!p,ignoreExternalFocusing:ft,forceFocusInsideTrap:ut,firstFocusableSelector:rt},i.createElement("div",{className:"ms-Dialog-header"},i.createElement("p",{className:"ms-Dialog-title",id:h+"-title"},b),i.createElement("div",{className:"ms-Dialog-topButton"},this.props.topButtonsProps.map(function(n){return i.createElement(s.Button,__assign({},n))}),i.createElement(s.Button,{className:"ms-Dialog-button ms-Dialog-button--close",buttonType:s.ButtonType.icon,icon:"Cancel",ariaLabel:tt,onClick:a}))),i.createElement("div",{className:"ms-Dialog-inner"},i.createElement("div",{className:r.css("ms-Dialog-content",this.props.contentClassName)},g,y.contents),y.footers))))):void 0):null},t.prototype._groupChildren=function(){var n={footers:[],contents:[]};return i.Children.map(this.props.children,function(t){typeof t=="object"&&t!==null&&t.type===h.DialogFooter?n.footers.push(t):n.contents.push(t)}),n},t.prototype._onDialogRef=function(n){if(n)this._events.on(n,"animationend",this._onAnimationEnd);else this._events.off()},t.prototype._onAnimationEnd=function(n){n.animationName.indexOf("fadeIn")>-1&&this.setState({isOpen:!0,isAnimatingOpen:!1});n.animationName.indexOf("fadeOut")>-1&&(this.setState({isOpen:!1,isAnimatingClose:!1}),this.props.onDismissed&&this.props.onDismissed())},t}(r.BaseComponent);a.defaultProps={isOpen:!1,type:f.DialogType.normal,isDarkOverlay:!0,isBlocking:!1,className:"",containerClassName:"",contentClassName:"",topButtonsProps:[]};a=__decorate([l.withResponsiveMode],a);t.Dialog=a});
define("OfficeFabric/components/Dialog/index",["require","exports","./Dialog","./DialogFooter","./Dialog.Props"],function(n,t,i,r,u){"use strict";function f(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}f(i);f(r);f(u)});
define("OfficeFabric/Dialog",["require","exports","./components/Dialog/index","./components/Dialog/index"],function(n,t,i,r){"use strict";function u(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}u(i);t.default=r.Dialog});
define("OfficeFabric/components/Label/Label.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-Label{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;box-sizing:border-box;margin:0;padding:0;box-shadow:none;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";box-sizing:border-box;display:block;padding:5px 0}.ms-Label.is-required::after{content:' *';color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-Label.is-disabled{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/Label/Label",["require","exports","react","../../Utilities","./Label.scss"],function(n,t,i,r){"use strict";var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.disabled,u=n.required,f=n.children,e=n.className;return i.createElement("label",__assign({},r.getNativeProps(this.props,r.divProperties),{className:r.css("ms-Label",e,{"is-disabled":t,"is-required":u})}),f)},t}(i.Component);t.Label=u});
define("OfficeFabric/components/Label/index",["require","exports","./Label"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/Label",["require","exports","./components/Label/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/TextField/TextField.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-Label{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;box-sizing:border-box;margin:0;padding:0;box-shadow:none;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";box-sizing:border-box;display:block;padding:5px 0}.ms-Label.is-required::after{content:' *';color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-Label.is-disabled{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:'}.ms-TextField{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;box-sizing:border-box;margin:0;padding:0;box-shadow:none;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";font-size:14px;font-weight:400;margin-bottom:8px}.ms-TextField .ms-Label{font-size:14px;font-weight:400}.ms-TextField.is-disabled .ms-TextField-field{background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";border-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";pointer-events:none;cursor:default}.ms-TextField.is-disabled::-webkit-input-placeholder{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-TextField.is-disabled::-moz-placeholder{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-TextField.is-disabled:-moz-placeholder{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-TextField.is-disabled:-ms-input-placeholder{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-TextField.is-required .ms-Label::after{content:' *';color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-TextField.is-required::-webkit-input-placeholder::after{content:' *';color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-TextField.is-required::-moz-placeholder::after{content:' *';color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-TextField.is-required:-moz-placeholder::after{content:' *';color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-TextField.is-required:-ms-input-placeholder::after{content:' *';color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-TextField.is-active{border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:'}.ms-TextField-field{box-sizing:border-box;margin:0;padding:0;box-shadow:none;font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;border:1px solid '},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";border-radius:0;font-weight:400;font-size:14px;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";height:32px;padding:0 12px 0 12px;width:100%;outline:0;text-overflow:ellipsis}html[dir=rtl] .ms-TextField-field{padding:0 12px 0 12px}.ms-TextField-field:hover{border-color:"},{theme:"neutralSecondaryAlt",defaultValue:"#767676"},{rawString:"}.ms-TextField-field:focus{border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}@media screen and (-ms-high-contrast:active){.ms-TextField-field:focus,.ms-TextField-field:hover{border-color:#1AEBFF}}@media screen and (-ms-high-contrast:black-on-white){.ms-TextField-field:focus,.ms-TextField-field:hover{border-color:#37006E}}.ms-TextField-field[disabled]{background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";border-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";pointer-events:none;cursor:default}.ms-TextField-field::-webkit-input-placeholder{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.ms-TextField-field::-moz-placeholder{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.ms-TextField-field:-moz-placeholder{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.ms-TextField-field:-ms-input-placeholder{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.ms-TextField-description{color:"},{theme:"neutralSecondaryAlt",defaultValue:"#767676"},{rawString:";font-size:11px}.ms-TextField.ms-TextField--underlined{border-bottom:1px solid "},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";display:table;width:100%}.ms-TextField.ms-TextField--underlined:hover{border-color:"},{theme:"neutralSecondaryAlt",defaultValue:"#767676"},{rawString:"}@media screen and (-ms-high-contrast:active){.ms-TextField.ms-TextField--underlined:hover{border-color:#1AEBFF}}@media screen and (-ms-high-contrast:black-on-white){.ms-TextField.ms-TextField--underlined:hover{border-color:#37006E}}.ms-TextField.ms-TextField--underlined:active,.ms-TextField.ms-TextField--underlined:focus{border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-TextField.ms-TextField--underlined .ms-Label{font-size:14px;display:table-cell;vertical-align:top;padding-top:9px;height:32px;width:1%;white-space:nowrap}html[dir=ltr] .ms-TextField.ms-TextField--underlined .ms-Label{margin-right:8px}html[dir=rtl] .ms-TextField.ms-TextField--underlined .ms-Label{margin-left:8px}html[dir=ltr] .ms-TextField.ms-TextField--underlined .ms-Label{padding-left:12px}html[dir=rtl] .ms-TextField.ms-TextField--underlined .ms-Label{padding-right:12px}.ms-TextField.ms-TextField--underlined .ms-TextField-field{border:0;display:table-cell;padding-top:8px;padding-bottom:3px}html[dir=ltr] .ms-TextField.ms-TextField--underlined .ms-TextField-field{float:left}html[dir=rtl] .ms-TextField.ms-TextField--underlined .ms-TextField-field{float:right}html[dir=ltr] .ms-TextField.ms-TextField--underlined .ms-TextField-field{text-align:left}html[dir=rtl] .ms-TextField.ms-TextField--underlined .ms-TextField-field{text-align:right}.ms-TextField.ms-TextField--underlined .ms-TextField-field:active,.ms-TextField.ms-TextField--underlined .ms-TextField-field:focus,.ms-TextField.ms-TextField--underlined .ms-TextField-field:hover{outline:0}.ms-TextField.ms-TextField--underlined.is-disabled{border-bottom-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}.ms-TextField.ms-TextField--underlined.is-disabled .ms-Label{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-TextField.ms-TextField--underlined.is-disabled .ms-TextField-field{background-color:transparent;color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.ms-TextField.ms-TextField--underlined.is-active{border-color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:'}@media screen and (-ms-high-contrast:active){.ms-TextField.ms-TextField--underlined.is-active{border-color:#1AEBFF}}@media screen and (-ms-high-contrast:black-on-white){.ms-TextField.ms-TextField--underlined.is-active{border-color:#37006E}}.ms-TextField.ms-TextField--multiline .ms-TextField-field{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:';font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;font-size:14px;font-weight:400;line-height:17px;min-height:60px;height:auto;padding-top:6px;overflow:auto}.ms-TextField-errorMessage{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:12px;font-weight:400;color:'},{theme:"redDark",defaultValue:"#a80000"},{rawString:";margin:0;padding-top:5px}.ms-TextField-invalid,.ms-TextField-invalid:focus,.ms-TextField-invalid:hover{border-color:"},{theme:"redDark",defaultValue:"#a80000"},{rawString:"}.ms-u-screenReaderOnly{position:absolute;text-indent:-9999px;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0}html[dir=ltr] .ms-TextField.ms-TextField--underlined .ms-Label{padding-left:12px}html[dir=rtl] .ms-TextField.ms-TextField--underlined .ms-Label{padding-right:12px}html[dir=ltr] .ms-TextField.ms-TextField--underlined .ms-Label{padding-right:0}html[dir=rtl] .ms-TextField.ms-TextField--underlined .ms-Label{padding-left:0}html[dir=ltr] .ms-TextField.ms-TextField--underlined .ms-TextField-field{text-align:left}html[dir=rtl] .ms-TextField.ms-TextField--underlined .ms-TextField-field{text-align:right}.ms-TextField.ms-TextField--multiline .ms-TextField-field.ms-TextField-field--unresizable{resize:none}.ms-TextField-hidden{display:none}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/TextField/TextField",["require","exports","react","../../Label","../../Utilities","./TextField.scss"],function(n,t,i,r,u){"use strict";var f=function(n){function t(t){var i=n.call(this,t)||this;return i._id=u.getId("TextField"),i._descriptionId=u.getId("TextFieldDescription"),i.state={value:t.value||t.defaultValue||"",isFocused:!1,errorMessage:""},i._onInputChange=i._onInputChange.bind(i),i._onFocus=i._onFocus.bind(i),i._onBlur=i._onBlur.bind(i),i._delayedValidate=i._async.debounce(i._validate,i.props.deferredValidationTime),i._lastValidation=0,i._willMountTriggerValidation=!1,i._isDescriptionAvailable=!1,i}return __extends(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),t.prototype.componentWillMount=function(){this._willMountTriggerValidation=!0;this._validate(this.state.value)},t.prototype.componentDidMount=function(){this._isMounted=!0;this._adjustInputHeight()},t.prototype.componentWillReceiveProps=function(n){var t=this.props.onBeforeChange;n.value!==undefined&&n.value!==this.state.value&&(t&&t(n.value),this.setState({value:n.value,errorMessage:""}),this._delayedValidate(n.value))},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){var n=this.props,c=n.className,f=n.description,l=n.disabled,e=n.iconClass,o=n.label,s=n.multiline,a=n.required,v=n.underlined,y=this.state.isFocused,t=this._errorMessage,h;return this._isDescriptionAvailable=Boolean(f||t),h=u.css("ms-TextField",c,{"is-required":a,"is-disabled":l,"is-active":y,"ms-TextField--multiline":s,"ms-TextField--underlined":v}),i.createElement("div",{className:h},o&&i.createElement(r.Label,{htmlFor:this._id},o),e&&i.createElement("i",{className:e}),s?this._renderTextArea():this._renderInput(),t&&i.createElement("div",{"aria-live":"assertive",className:"ms-u-screenReaderOnly","data-automation-id":"error-message"},t),this._isDescriptionAvailable&&i.createElement("span",{id:this._descriptionId},f&&i.createElement("span",{className:"ms-TextField-description"},f),t&&i.createElement("p",{className:"ms-TextField-errorMessage ms-u-slideDownIn20"},t)))},t.prototype.focus=function(){this._textElement&&this._textElement.focus()},t.prototype.select=function(){this._textElement&&this._textElement.select()},t.prototype.setSelectionStart=function(n){this._textElement&&(this._textElement.selectionStart=n)},t.prototype.setSelectionEnd=function(n){this._textElement&&(this._textElement.selectionEnd=n)},t.prototype._onFocus=function(n){if(this.props.onFocus)this.props.onFocus(n);this.setState({isFocused:!0});this.props.validateOnFocusIn&&this._validate(this.state.value)},t.prototype._onBlur=function(n){if(this.props.onBlur)this.props.onBlur(n);this.setState({isFocused:!1});this.props.validateOnFocusOut&&this._validate(this.state.value)},Object.defineProperty(t.prototype,"_textElementClassName",{get:function(){var t=this._errorMessage,n;return n=this.props.multiline&&!this.props.resizable?"ms-TextField-field ms-TextField-field--unresizable":"ms-TextField-field",u.css(n,this.props.inputClassName,{"ms-TextField-invalid":!!t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_errorMessage",{get:function(){var n=this.state.errorMessage;return n||(n=this.props.errorMessage),n},enumerable:!0,configurable:!0}),t.prototype._renderTextArea=function(){var n=u.getNativeProps(this.props,u.textAreaProperties,["defaultValue"]);return i.createElement("textarea",__assign({},n,{id:this._id,ref:this._resolveRef("_textElement"),value:this.state.value,onInput:this._onInputChange,onChange:this._onChange,className:this._textElementClassName,"aria-label":this.props.ariaLabel,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:undefined,"aria-invalid":!!this.state.errorMessage,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._renderInput=function(){var n=u.getNativeProps(this.props,u.inputProperties,["defaultValue"]);return i.createElement("input",__assign({type:"text"},n,{id:this._id,ref:this._resolveRef("_textElement"),value:this.state.value,onInput:this._onInputChange,onChange:this._onChange,className:this._textElementClassName,"aria-label":this.props.ariaLabel,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:undefined,"aria-invalid":!!this.state.errorMessage,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._onInputChange=function(n){var u=n.target,t=u.value,r;this.setState({value:t,errorMessage:""},this._adjustInputHeight);this._willMountTriggerValidation=!1;var i=this.props,f=i.validateOnFocusIn,e=i.validateOnFocusOut;f||e||this._delayedValidate(t);r=this.props.onBeforeChange;r(t)},t.prototype._validate=function(n){var i=this,r,t,u;this._latestValidateValue!==n&&(this._latestValidateValue=n,r=this.props.onGetErrorMessage,t=r(n||""),t!==undefined?typeof t=="string"?(this.setState({errorMessage:t}),this._notifyAfterValidate(n,t)):(u=++this._lastValidation,t.then(function(t){i._isMounted&&u===i._lastValidation&&i.setState({errorMessage:t});i._notifyAfterValidate(n,t)})):this._notifyAfterValidate(n,""))},t.prototype._notifyAfterValidate=function(n,t){var i,r;this._willMountTriggerValidation||n!==this.state.value?this._willMountTriggerValidation=!1:(i=this.props.onNotifyValidationResult,i(t,n),t||(r=this.props.onChanged,r(n)))},t.prototype._adjustInputHeight=function(){var n,t;this._textElement&&this.props.autoAdjustHeight&&this.props.multiline&&(n=this._textElement,n.style.height="",t=n.scrollHeight+2,n.style.height=t+"px")},t.prototype._onChange=function(){},t}(u.BaseComponent);f.defaultProps={multiline:!1,resizable:!0,autoAdjustHeight:!1,underlined:!1,onChanged:function(){},onBeforeChange:function(){},onNotifyValidationResult:function(){},onGetErrorMessage:function(){return undefined},deferredValidationTime:200,errorMessage:"",validateOnFocusIn:!1,validateOnFocusOut:!1};t.TextField=f});
define("OfficeFabric/components/TextField/index",["require","exports","./TextField"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/TextField",["require","exports","./components/TextField/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/MessageBar/MessageBar.Props",["require","exports"],function(n,t){"use strict";var i;(function(n){n[n.info=0]="info";n[n.error=1]="error";n[n.blocked=2]="blocked";n[n.severeWarning=3]="severeWarning";n[n.success=4]="success";n[n.warning=5]="warning";n[n.remove=6]="remove"})(i=t.MessageBarType||(t.MessageBarType={}))});
define("OfficeFabric/components/MessageBar/MessageBar.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-MessageBar{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;background-color:'},{theme:"infoBackground",defaultValue:"#f4f4f4"},{rawString:";color:"},{theme:"infoText",defaultValue:"#333333"},{rawString:";width:100%;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative}.ms-MessageBar .ms-MessageBar-icon{color:"},{theme:"info",defaultValue:"#767676"},{rawString:'}html[dir=ltr] .ms-MessageBar .ms-MessageBar-icon{padding-right:8px}html[dir=rtl] .ms-MessageBar .ms-MessageBar-icon{padding-left:8px}.ms-MessageBar .ms-Link{font-size:12px}.ms-MessageBar-icon,.ms-MessageBar-text{display:table-cell;vertical-align:top}.ms-MessageBar-icon{font-size:16px;min-width:16px;min-height:16px;display:-webkit-box;display:-ms-flexbox;display:flex}.ms-MessageBar-text{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:12px;font-weight:400;min-width:0;display:-webkit-box;display:-ms-flexbox;display:flex}.ms-MessageBar.ms-MessageBar--warning{background-color:'},{theme:"warningBackground",defaultValue:"#fff4ce"},{rawString:";color:"},{theme:"warningText",defaultValue:"#333333"},{rawString:"}.ms-MessageBar.ms-MessageBar--severeWarning{background-color:"},{theme:"severeWarningBackground",defaultValue:"#fed9cc"},{rawString:";color:"},{theme:"severeWarningText",defaultValue:"#333333"},{rawString:"}.ms-MessageBar.ms-MessageBar--severeWarning .ms-MessageBar-icon{color:"},{theme:"severeWarning",defaultValue:"#d83b01"},{rawString:"}.ms-MessageBar.ms-MessageBar--error{background-color:"},{theme:"errorBackground",defaultValue:"#fde7e9"},{rawString:";color:"},{theme:"errorText",defaultValue:"#333333"},{rawString:"}.ms-MessageBar.ms-MessageBar--error .ms-MessageBar-icon{color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-MessageBar.ms-MessageBar--blocked{background-color:"},{theme:"errorBackground",defaultValue:"#fde7e9"},{rawString:";color:"},{theme:"errorText",defaultValue:"#333333"},{rawString:"}.ms-MessageBar.ms-MessageBar--blocked .ms-MessageBar-icon{color:"},{theme:"error",defaultValue:"#a80000"},{rawString:"}.ms-MessageBar.ms-MessageBar--success{background-color:"},{theme:"successBackground",defaultValue:"#dff6dd"},{rawString:";color:"},{theme:"successText",defaultValue:"#333333"},{rawString:"}.ms-MessageBar.ms-MessageBar--success .ms-MessageBar-icon{color:"},{theme:"green",defaultValue:"#107c10"},{rawString:"}.ms-MessageBar-content{padding:16px;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;box-sizing:border-box}.ms-MessageBar-actionables{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;min-width:0}.ms-MessageBar-actionables>.ms-MessageBar-dismissal{right:0;top:0;position:absolute!important}.ms-MessageBar-actions,.ms-MessageBar-actionsOneline{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ms-MessageBar-actionsOneline{position:relative}.ms-MessageBar-dismissal{min-width:0}.ms-MessageBar-dismissal::-moz-focus-inner{border:0}.ms-MessageBar-dismissal{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-MessageBar-dismissal:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}html[dir=ltr] .ms-MessageBar-actionsOneline .ms-MessageBar-dismissal{margin-right:-8px}html[dir=rtl] .ms-MessageBar-actionsOneline .ms-MessageBar-dismissal{margin-left:-8px}.ms-MessageBar+.ms-MessageBar{margin-bottom:6px}html[dir=ltr] .ms-MessageBar-innerTextPadding{padding-right:24px}html[dir=rtl] .ms-MessageBar-innerTextPadding{padding-left:24px}html[dir=ltr] .ms-MessageBar-innerTextPadding .ms-MessageBar-innerText>span,html[dir=ltr] .ms-MessageBar-innerTextPadding span{padding-right:4px}html[dir=rtl] .ms-MessageBar-innerTextPadding .ms-MessageBar-innerText>span,html[dir=rtl] .ms-MessageBar-innerTextPadding span{padding-left:4px}.ms-MessageBar-multiline>.ms-MessageBar-content>.ms-MessageBar-actionables{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ms-MessageBar-singleline .ms-MessageBar-content .ms-MessageBar-icon{-webkit-box-align:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}.ms-MessageBar-singleline .ms-MessageBar-content .ms-MessageBar-actionables>.ms-MessageBar-text{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}.ms-MessageBar-singleline .ms-MessageBar-content .ms-MessageBar-actionables>.ms-MessageBar-text .ms-MessageBar-innerText,.ms-MessageBar-singleline .ms-MessageBar-content .ms-MessageBar-actionables>.ms-MessageBar-text .ms-MessageBar-innerTextPadding{max-height:1.3em;line-height:1.3em;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}.ms-MessageBar-singleline .ms-MessageBar-content>.ms-MessageBar-actionables{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.ms-MessageBar .ms-Icon--Cancel{font-size:14px}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("OfficeFabric/components/MessageBar/MessageBar",["require","exports","react","../../Utilities","../../Button","./MessageBar.Props","./MessageBar.scss"],function(n,t,i,r,u,f){"use strict";var e=function(n){function t(t){var u=n.call(this,t)||this,i;return u.ICON_MAP=(i={},i[f.MessageBarType.info]="Info",i[f.MessageBarType.warning]="Info",i[f.MessageBarType.error]="ErrorBadge",i[f.MessageBarType.blocked]="Blocked",i[f.MessageBarType.remove]="Blocked",i[f.MessageBarType.severeWarning]="Warning",i[f.MessageBarType.success]="Completed",i),u.state={labelId:r.getId("MessageBar"),showContent:!1},u}return __extends(t,n),t.prototype.render=function(){var n=this.props.isMultiline;return n?this._renderMultiLine():this._renderSingleLine()},t.prototype.componentDidMount=function(){var n=this;setTimeout(function(){n.setState({showContent:!0})},10)},t.prototype._getActionsDiv=function(){return this.props.actions?this.props.isMultiline?i.createElement("div",{className:"ms-MessageBar-actions"}," ",this.props.actions," "):i.createElement("div",{className:"ms-MessageBar-actionsOneline"},this._getDismissDiv(),this.props.actions):null},t.prototype._getClassName=function(){return r.css(this.props.className,"ms-MessageBar",{"ms-MessageBar":this.props.messageBarType===f.MessageBarType.info,"ms-MessageBar--error":this.props.messageBarType===f.MessageBarType.error,"ms-MessageBar--blocked":this.props.messageBarType===f.MessageBarType.blocked||this.props.messageBarType===f.MessageBarType.remove,"ms-MessageBar--severeWarning":this.props.messageBarType===f.MessageBarType.severeWarning,"ms-MessageBar--success":this.props.messageBarType===f.MessageBarType.success,"ms-MessageBar--warning":this.props.messageBarType===f.MessageBarType.warning})},t.prototype._getDismissDiv=function(){return this.props.onDismiss!=null?i.createElement(u.Button,{disabled:!1,className:"ms-MessageBar-dismissal",buttonType:u.ButtonType.icon,onClick:this.props.onDismiss,icon:"Cancel",ariaLabel:this.props.dismissButtonAriaLabel}):null},t.prototype._getIconSpan=function(){return i.createElement("div",{className:"ms-MessageBar-icon"},i.createElement("i",{className:"ms-Icon ms-Icon--"+this.ICON_MAP[this.props.messageBarType]}))},t.prototype._getInnerTextClassName=function(){return this.props.onDismiss||this.props.actions?"ms-MessageBar-innerTextPadding":"ms-MessageBar-innerText"},t.prototype._renderMultiLine=function(){return i.createElement("div",{className:this._getClassName()+" ms-MessageBar-multiline",role:"status","aria-live":this._getAnnouncementPriority()},i.createElement("div",{className:"ms-MessageBar-content"},this._getIconSpan(),i.createElement("div",{className:"ms-MessageBar-actionables"},this._getDismissDiv(),i.createElement("div",{className:"ms-MessageBar-text",id:this.state.labelId},i.createElement("span",{className:this._getInnerTextClassName()},this.state.showContent&&this.props.children)),this._getActionsDiv())))},t.prototype._renderSingleLine=function(){return i.createElement("div",{className:this._getClassName()+" ms-MessageBar-singleline",role:"status","aria-live":this._getAnnouncementPriority()},i.createElement("div",{className:"ms-MessageBar-content"},this._getIconSpan(),i.createElement("div",{className:"ms-MessageBar-actionables"},i.createElement("div",{className:"ms-MessageBar-text",id:this.state.labelId},i.createElement("span",{className:this._getInnerTextClassName()},this.state.showContent&&this.props.children))),this._getActionsDiv()))},t.prototype._getAnnouncementPriority=function(){switch(this.props.messageBarType){case f.MessageBarType.blocked:case f.MessageBarType.error:case f.MessageBarType.severeWarning:return"assertive"}return"polite"},t}(i.Component);e.defaultProps={messageBarType:f.MessageBarType.info,onDismiss:null,isMultiline:!0};t.MessageBar=e});
define("OfficeFabric/components/MessageBar/index",["require","exports","./MessageBar","./MessageBar.Props"],function(n,t,i,r){"use strict";function u(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}u(i);u(r)});
define("OfficeFabric/MessageBar",["require","exports","./components/MessageBar/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("Gallery/Client/Scenarios/Shared/Components/GalleryGenericErrorMessage",["require","exports","react","OfficeFabric/MessageBar","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery"],function(n,t,i,r,u){t.GalleryGenericErrorMessage=function(){return i.createElement(r.MessageBar,{key:"errorfetching"},u.GenericErrorLoadingDataText)}});
define("Gallery/Client/Scenarios/QnA/Components/AskQuestionDialog",["require","exports","react","VSS/Flux/Component","OfficeFabric/Button","OfficeFabric/Dialog","OfficeFabric/TextField","OfficeFabric/Spinner","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Scenarios/Shared/Components/GalleryGenericErrorMessage","VSS/Utils/String","VSS/LoaderPlugins/Css!QnA/AskQuestionDialog"],function(n,t,i,r,u,f,e,o,s,h,c){var l=function(n){function t(i){var r=n.call(this,i)||this;return r.onLayerMounted=function(){r.setState(r.getDialogInitialState())},r.closeDialog=function(){r.props.closeDialog()},r.dismissDialog=function(){r.props.dismissDialog()},r.cancelDialog=function(){r.props.cancelDialog()},r.saveButtonClick=function(){r.shouldSaveBeEnabled()&&r.props.successCallback&&(r.setState({spinnerWhileSaving:!0}),r.props.successCallback(r.state.textValue.trim()).then(function(){r.closeDialog()},function(n){r.setState({spinnerWhileSaving:!1});r.setState({errorMessage:n})}))},r.onTextChange=function(n){var i=n;n.length>t.MAX_TEXT_LENGTH&&(i=n.substring(0,t.MAX_TEXT_LENGTH));r.setState(function(){return{textValue:i}})},r.state=r.getDialogInitialState(),r}return __extends(t,n),t.prototype.render=function(){var r=null,n=!1,l=null,a="gallery-primary-button",v=null,y="gallery-dialog",t;return this.props.title&&this.props.title.trim()!==c.empty||(y+=" dialog-without-title"),this.state.errorMessage&&(r=i.createElement(h.GalleryGenericErrorMessage,null)),(!this.shouldSaveBeEnabled()||this.state.errorState)&&(n=!0),this.state.spinnerWhileSaving&&(n=!0,l=i.createElement("div",{className:"save-progress-spinner"},i.createElement(o.Spinner,{type:o.SpinnerType.large})),v="disabled"),t=null,this.props.renderQuestion&&(t=this.props.renderQuestion()),n&&(a+=" disabled"),i.createElement(f.Dialog,{className:y,isOpen:this.props.showDialog,type:f.DialogType.normal,onDismiss:this.dismissDialog,title:this.props.title,isBlocking:!1,containerClassName:"QnAAskQuestionDialog",onLayerMounted:this.onLayerMounted},t,i.createElement(e.TextField,{className:"ask-question-text",multiline:!0,resizable:!1,rows:8,value:this.state.textValue,placeholder:this.props.placeholderText,ariaLabel:this.props.textAriaLabel,onChanged:this.onTextChange}),i.createElement("div",{className:"qna-write-review-privacy"},this.props.subText),r,l,i.createElement(f.DialogFooter,null,i.createElement(u.Button,{className:v,onClick:this.cancelDialog},s.CancelButtonText),i.createElement(u.Button,{className:a,disabled:n,onClick:this.saveButtonClick},s.SubmitButtonText)))},t.prototype.shouldSaveBeEnabled=function(){return!this.state.textValue||this.state.textValue.trim()===c.empty||this.state.textValue.trim()===this.props.initialValue.trim()?!1:!0},t.prototype.getDialogInitialState=function(){return{textValue:this.props.initialValue,errorState:!1,spinnerWhileSaving:!1}},t}(r.Component);l.MAX_TEXT_LENGTH=2e3;t.AskQuestionDialog=l});
define("OfficeFabric/components/Link/Link.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-Link{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;color:'},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";margin:0;overflow:inherit;padding:0;text-overflow:inherit}.ms-Link:not(.is-disabled):focus,.ms-Link:not(.is-disabled):hover{color:"},{theme:"themeDarker",defaultValue:"#004578"},{rawString:"}.ms-Link:not(.is-disabled):active{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-Link.is-disabled{color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:";pointer-events:none;cursor:default}button.ms-Link{background:0 0;border:none;cursor:pointer;display:inline;font-size:inherit}button.ms-Link::-moz-focus-inner{border:0}button.ms-Link{outline:transparent;position:relative}.ms-Fabric.is-focusVisible button.ms-Link:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}html[dir=ltr] button.ms-Link{text-align:left}html[dir=rtl] button.ms-Link{text-align:right}a.ms-Link{text-decoration:none}.ms-Fabric.is-focusVisible a.ms-Link:focus{outline:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/Link/Link",["require","exports","react","../../Utilities","./Link.scss"],function(n,t,i,r){"use strict";var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.disabled,u=n.children,f=n.className,e=n.href;return e?i.createElement("a",__assign({},r.getNativeProps(this.props,r.anchorProperties),{className:r.css("ms-Link",f,{"is-disabled":t}),onClick:this._onClick,ref:this._resolveRef("_link"),target:this.props.target}),u):i.createElement("button",__assign({},r.getNativeProps(this.props,r.buttonProperties),{className:r.css("ms-Link",f,{"is-disabled":t}),onClick:this._onClick,ref:this._resolveRef("_link")}),u)},t.prototype.focus=function(){this._link&&this._link.focus()},t.prototype._onClick=function(n){var t=this.props.onClick;t&&t(n)},t}(r.BaseComponent);__decorate([r.autobind],u.prototype,"_onClick",null);t.Link=u});
define("OfficeFabric/components/Link/index",["require","exports","./Link"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/Link",["require","exports","./components/Link/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("Gallery/Client/Scenarios/Shared/Components/LinkAsButton",["require","exports","react","VSS/Flux/Component","OfficeFabric/Link","VSS/LoaderPlugins/Css!Shared/ReadMoreText"],function(n,t,i,r,u){var f=function(n){function t(t){var i=n.call(this,t)||this;return i._onClick=function(n){i.props.onActionInvoked();n.preventDefault()},i._onKeyPress=function(n){n.key===" "&&(i.props.onActionInvoked(),n.preventDefault())},i}return __extends(t,n),t.prototype.render=function(){return i.createElement(u.Link,{role:"button",href:"#",onClick:this._onClick,className:this.props.className,onKeyPress:this._onKeyPress},this.props.text)},t}(r.Component);t.LinkAsButton=f});
define("Gallery/Client/Scenarios/Shared/Components/ReadMoreText",["require","exports","react","VSS/Flux/Component","Gallery/Client/Scenarios/Shared/Components/LinkAsButton","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/LoaderPlugins/Css!Shared/ReadMoreText"],function(n,t,i,r,u,f){var e=function(n){function t(t){var i=n.call(this,t)||this,r;return i.SeeMoreClicked=function(){i.setState({showSeeMoreLink:!1});i.props.seeMoreTextClicked&&i.props.seeMoreTextClicked()},r=t.text.length>i.props.characterLimit,i.state={showSeeMoreLink:r},i}return __extends(t,n),t.prototype.render=function(){var n=null,r=this.props.text;return this.state.showSeeMoreLink&&(r=this.props.text.substr(0,this.props.characterLimit)+t.READ_MORE_DOTS),this.state.showSeeMoreLink&&(n=i.createElement(u.LinkAsButton,{onActionInvoked:this.SeeMoreClicked,text:f.ReadMore})),i.createElement("div",null,i.createElement("span",{className:"react-read-more-text"},r),n)},t}(r.Component);e.READ_MORE_DOTS="... ";t.ReadMoreText=e});
define("Gallery/Client/Scenarios/QnA/Components/ReadMoreContent",["require","exports","react","VSS/Gallery/Contracts","Gallery/Client/Scenarios/Shared/Components/ReadMoreText","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Utils/Date","VSS/Utils/String","VSS/Flux/Component","VSS/LoaderPlugins/Css!QnA/ReadMoreContent"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.render=function(){var n,s;return n=(this.props.qnaItem.status&r.QnAItemStatus.PublisherCreated)===r.QnAItemStatus.PublisherCreated?this.props.publisherDisplayName:this.props.qnaItem.user?this.props.qnaItem.user.displayName:o.empty,s=o.format(f.QnAUserNameAndDateText,n,e.friendly(this.props.qnaItem.createdDate)),i.createElement("div",null,i.createElement("div",null,i.createElement("div",{className:"read-more-container"},i.createElement(u.ReadMoreText,{text:this.props.qnaItem.text,seeMoreTextClicked:this.props.seeMoreTextClicked,characterLimit:t.READ_MORE_CHARACTER_LIMIT}))),i.createElement("div",{className:"read-more-control"},i.createElement("div",{className:"user-name-div"},s)))},t}(s.Component);h.READ_MORE_CHARACTER_LIMIT=200;t.ReadMoreContent=h});
define("Gallery/Client/Scenarios/QnA/Contracts",["require","exports"],function(n,t){var i;(function(n){n[n.NotInitiated=0]="NotInitiated";n[n.Loading=1]="Loading";n[n.Loaded=2]="Loaded";n[n.Error=3]="Error"})(i=t.FetchState||(t.FetchState={}))});
define("Gallery/Client/Scenarios/QnA/Components/AnswerContent",["require","exports","react","VSS/Gallery/Contracts","Gallery/Client/Scenarios/QnA/Components/ReadMoreContent","Gallery/Client/Scenarios/Shared/Components/LinkAsButton","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Utils/String","VSS/Flux/Component","VSS/LoaderPlugins/Css!QnA/AnswerContent"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(t){var i=n.call(this,t)||this;return i._answerClickEvent=function(){i.props.answerClickEvent()},i._editAnswerClickEvent=function(){i.props.editAnswerClickEvent(i.props.qnaItem)},i}return __extends(t,n),t.prototype.render=function(){var t=this,s,n;return s=(this.props.qnaItem.status&r.QnAItemStatus.PublisherCreated)===r.QnAItemStatus.PublisherCreated?this.props.parentProps.publisherDetails.publisherImageLink:this.props.parentProps.userDetails.getImageUrlForAUser(this.props.qnaItem.user.id),n=[],this.props.lastAnswerShowReply&&n.push(i.createElement(f.LinkAsButton,{key:"answerButton",onActionInvoked:this._answerClickEvent,className:"action-link",text:e.PublisherReplyButtonText})),(this.props.qnaItem.status&r.QnAItemStatus.UserEditable)===r.QnAItemStatus.UserEditable&&n.push(i.createElement(f.LinkAsButton,{key:"editAnswerButton",onActionInvoked:this._editAnswerClickEvent,className:"action-link",text:e.EditButtonText})),i.createElement("div",{className:"ms-Grid-row user-reply-top-container"},i.createElement("div",{className:"ms-Grid-col ms-u-sm1"},i.createElement("div",{className:"qna-user-image-column"},i.createElement("img",{className:"qna-user-image",src:s}))),i.createElement("div",{className:"ms-Grid-col ms-u-sm11 user-reply-container"},i.createElement(u.ReadMoreContent,{qnaItem:this.props.qnaItem,publisherDisplayName:this.props.parentProps.publisherDetails.publisherDisplayName,seeMoreTextClicked:function(){t.props.seeMoreTextClicked(t.props.qnaItem)}}),i.createElement("div",{className:n.length===0?o.empty:"action-link-container"},n)))},t}(s.Component);t.AnswerContent=h});
define("OfficeFabric/common/DirectionalHint",["require","exports"],function(n,t){"use strict";var i;(function(n){n[n.topLeftEdge=0]="topLeftEdge";n[n.topCenter=1]="topCenter";n[n.topRightEdge=2]="topRightEdge";n[n.topAutoEdge=3]="topAutoEdge";n[n.bottomLeftEdge=4]="bottomLeftEdge";n[n.bottomCenter=5]="bottomCenter";n[n.bottomRightEdge=6]="bottomRightEdge";n[n.bottomAutoEdge=7]="bottomAutoEdge";n[n.leftTopEdge=8]="leftTopEdge";n[n.leftCenter=9]="leftCenter";n[n.leftBottomEdge=10]="leftBottomEdge";n[n.rightTopEdge=11]="rightTopEdge";n[n.rightCenter=12]="rightCenter";n[n.rightBottomEdge=13]="rightBottomEdge"})(i=t.DirectionalHint||(t.DirectionalHint={}))});
define("OfficeFabric/components/ContextualMenu/ContextualMenu.Props",["require","exports","../../common/DirectionalHint"],function(n,t,i){"use strict";t.DirectionalHint=i.DirectionalHint;var r;(function(n){n[n.Normal=0]="Normal";n[n.Divider=1]="Divider";n[n.Header=2]="Header"})(r=t.ContextualMenuItemType||(t.ContextualMenuItemType={}))});
define("OfficeFabric/components/FocusZone/FocusZone.Props",["require","exports"],function(n,t){"use strict";var i;(function(n){n[n.vertical=0]="vertical";n[n.horizontal=1]="horizontal";n[n.bidirectional=2]="bidirectional"})(i=t.FocusZoneDirection||(t.FocusZoneDirection={}))});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/FocusZone/FocusZone",["require","exports","react","./FocusZone.Props","../../Utilities"],function(n,t,i,r,u){"use strict";var s="data-is-focusable",h="data-disable-click-on-enter",c="data-focuszone-id",f="tabindex",o={},l=["text","number","password","email","tel","url","search"],e=function(n){function t(t){var i=n.call(this,t)||this;return i._id=u.getId("FocusZone"),o[i._id]=i,i._focusAlignment={left:0,top:0},i}return __extends(t,n),t.prototype.componentDidMount=function(){for(var t=this.refs.root.ownerDocument.defaultView,n=u.getParent(this.refs.root);n&&n!==document.body&&n.nodeType===1;){if(u.isElementFocusZone(n)){this._isInnerZone=!0;break}n=u.getParent(n)}this._events.on(t,"keydown",this._onKeyDownCapture,!0);this._updateTabIndexes();this.props.defaultActiveElement&&(this._activeElement=u.getDocument().querySelector(this.props.defaultActiveElement))},t.prototype.componentWillUnmount=function(){delete o[this._id]},t.prototype.render=function(){var n=this.props,t=n.rootProps,r=n.ariaLabelledBy,f=n.className;return i.createElement("div",__assign({},t,{className:u.css("ms-FocusZone",f),ref:"root","data-focuszone-id":this._id,"aria-labelledby":r,onKeyDown:this._onKeyDown,onFocus:this._onFocus},{onMouseDownCapture:this._onMouseDown}),this.props.children)},t.prototype.focus=function(){if(this._activeElement&&u.elementContains(this.refs.root,this._activeElement))return this._activeElement.focus(),!0;var n=this.refs.root.firstChild;return this.focusElement(u.getNextElement(this.refs.root,n,!0))},t.prototype.focusElement=function(n){var t=this.props.onBeforeFocus;return t&&!t(n)?!1:n&&(this._activeElement&&(this._activeElement.tabIndex=-1),this._activeElement=n,n)?(this._focusAlignment||this._setFocusAlignment(n,!0,!0),this._activeElement.tabIndex=0,n.focus(),!0):!1},t.prototype._onFocus=function(n){var i=this.props.onActiveElementChanged,t;if(this._isImmediateDescendantOfZone(n.target))this._activeElement=n.target,this._setFocusAlignment(this._activeElement);else for(t=n.target;t&&t!==this.refs.root;){if(u.isElementTabbable(t)&&this._isImmediateDescendantOfZone(t)){this._activeElement=t;break}t=u.getParent(t)}i&&i(this._activeElement,n)},t.prototype._onKeyDownCapture=function(n){n.which===u.KeyCodes.tab&&this._updateTabIndexes()},t.prototype._onMouseDown=function(n){var r=this.props.disabled,t,i;if(!r){for(t=n.target,i=[];t&&t!==this.refs.root;)i.push(t),t=u.getParent(t);while(i.length)if(t=i.pop(),u.isElementFocusZone(t))break;else t&&u.isElementTabbable(t)&&(t.tabIndex=0,this._setFocusAlignment(t,!0,!0))}},t.prototype._onKeyDown=function(n){var i=this.props,t=i.direction,h=i.disabled,e=i.isInnerZoneKeystroke,f,o,s;if(!h){if(e&&this._isImmediateDescendantOfZone(n.target)&&e(n)){if(f=this._getFirstInnerZone(),!f||!f.focus())return}else switch(n.which){case u.KeyCodes.left:if(t!==r.FocusZoneDirection.vertical&&this._moveFocusLeft())break;return;case u.KeyCodes.right:if(t!==r.FocusZoneDirection.vertical&&this._moveFocusRight())break;return;case u.KeyCodes.up:if(t!==r.FocusZoneDirection.horizontal&&this._moveFocusUp())break;return;case u.KeyCodes.down:if(t!==r.FocusZoneDirection.horizontal&&this._moveFocusDown())break;return;case u.KeyCodes.home:if(o=this.refs.root.firstChild,this.focusElement(u.getNextElement(this.refs.root,o,!0)))break;return;case u.KeyCodes.end:if(s=this.refs.root.lastChild,this.focusElement(u.getPreviousElement(this.refs.root,s,!0,!0,!0)))break;return;case u.KeyCodes.enter:if(this._tryInvokeClickForFocusable(n.target))break;return;default:return}n.preventDefault();n.stopPropagation()}},t.prototype._tryInvokeClickForFocusable=function(n){do{if(n.tagName==="BUTTON"||n.tagName==="A")return!1;if(this._isImmediateDescendantOfZone(n)&&n.getAttribute(s)==="true"&&n.getAttribute(h)!=="true")return u.EventGroup.raise(n,"click",null,!0),!0;n=u.getParent(n)}while(n!==this.refs.root);return!1},t.prototype._getFirstInnerZone=function(n){var t,i;for(n=n||this._activeElement||this.refs.root,t=n.firstElementChild;t;){if(u.isElementFocusZone(t))return o[t.getAttribute(c)];if(i=this._getFirstInnerZone(t),i)return i;t=t.nextElementSibling}return null},t.prototype._moveFocus=function(n,t){var i=this._activeElement,o=-1,f,s=!1,h=this.props.direction===r.FocusZoneDirection.bidirectional,c,l,e;if(!i||this._isElementInput(i)&&!this._shouldInputLoseFocus(i,n))return!1;c=h?i.getBoundingClientRect():null;do if(i=n?u.getNextElement(this.refs.root,i):u.getPreviousElement(this.refs.root,i),h){if(i&&(l=i.getBoundingClientRect(),e=t(c,l),e>-1&&(o===-1||e<o)&&(o=e,f=i),o>=0&&e<0))break}else{f=i;break}while(i);if(f&&f!==this._activeElement)s=!0,this.focusElement(f);else if(this.props.isCircularNavigation)return n?this.focusElement(u.getNextElement(this.refs.root,this.refs.root.firstElementChild,!0)):this.focusElement(u.getPreviousElement(this.refs.root,this.refs.root.lastElementChild,!0,!0,!0));return s},t.prototype._moveFocusDown=function(){var n=-1,t=this._focusAlignment.left;return this._moveFocus(!0,function(i,r){var f=-1,u=Math.floor(r.top),e=Math.floor(i.bottom);return(n===-1&&u>=e||u===n)&&(n=u,f=t>=r.left&&t<=r.left+r.width?0:Math.abs(r.left+r.width/2-t)),f})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},t.prototype._moveFocusUp=function(){var n=-1,t=this._focusAlignment.left;return this._moveFocus(!1,function(i,r){var u=-1,e=Math.floor(r.bottom),f=Math.floor(r.top),o=Math.floor(i.top);return(n===-1&&e<=o||f===n)&&(n=f,u=t>=r.left&&t<=r.left+r.width?0:Math.abs(r.left+r.width/2-t)),u})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},t.prototype._moveFocusLeft=function(){var t=this,n=-1,i=this._focusAlignment.top;return this._moveFocus(u.getRTL(),function(u,f){var e=-1;return(n===-1&&f.right<=u.right&&(t.props.direction===r.FocusZoneDirection.horizontal||f.top===u.top)||f.top===n)&&(n=f.top,e=Math.abs(f.top+f.height/2-i)),e})?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},t.prototype._moveFocusRight=function(){var t=this,n=-1,i=this._focusAlignment.top;return this._moveFocus(!u.getRTL(),function(u,f){var e=-1;return(n===-1&&f.left>=u.left&&(t.props.direction===r.FocusZoneDirection.horizontal||f.top===u.top)||f.top===n)&&(n=f.top,e=Math.abs(f.top+f.height/2-i)),e})?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},t.prototype._setFocusAlignment=function(n,t,i){if(this.props.direction===r.FocusZoneDirection.bidirectional&&(!this._focusAlignment||t||i)){var u=n.getBoundingClientRect(),f=u.left+u.width/2,e=u.top+u.height/2;this._focusAlignment||(this._focusAlignment={left:f,top:e});t&&(this._focusAlignment.left=f);i&&(this._focusAlignment.top=e)}},t.prototype._isImmediateDescendantOfZone=function(n){for(var t=u.getParent(n);t&&t!==this.refs.root&&t!==document.body;){if(u.isElementFocusZone(t))return!1;t=u.getParent(t)}return!0},t.prototype._updateTabIndexes=function(n){var i,r,t;for(n||(n=this.refs.root,this._activeElement&&!u.elementContains(n,this._activeElement)&&(this._activeElement=null)),i=n.children,r=0;i&&r<i.length;r++)t=i[r],u.isElementFocusZone(t)||(t.getAttribute&&t.getAttribute(s)==="false"&&t.setAttribute(f,"-1"),u.isElementTabbable(t)?this.props.disabled?t.setAttribute(f,"-1"):this._isInnerZone||this._activeElement&&this._activeElement!==t?t.getAttribute(f)!=="-1"&&t.setAttribute(f,"-1"):(this._activeElement=t,t.getAttribute(f)!=="0"&&t.setAttribute(f,"0")):t.tagName==="svg"&&t.getAttribute("focusable")!=="false"&&t.setAttribute("focusable","false"),this._updateTabIndexes(t))},t.prototype._isElementInput=function(n){return n&&n.tagName&&n.tagName.toLowerCase()==="input"?!0:!1},t.prototype._shouldInputLoseFocus=function(n,t){if(n&&n.type&&l.indexOf(n.type.toLowerCase())>-1){var i=n.selectionStart,r=n.selectionEnd,u=i!==r,f=n.value;if(u||i>0&&!t||i!==f.length&&t)return!1}return!0},t}(u.BaseComponent);e.defaultProps={isCircularNavigation:!1,direction:r.FocusZoneDirection.bidirectional};__decorate([u.autobind],e.prototype,"_onFocus",null);__decorate([u.autobind],e.prototype,"_onMouseDown",null);__decorate([u.autobind],e.prototype,"_onKeyDown",null);t.FocusZone=e});
define("OfficeFabric/components/FocusZone/index",["require","exports","./FocusZone","./FocusZone.Props"],function(n,t,i,r){"use strict";function u(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}u(i);u(r)});
define("OfficeFabric/FocusZone",["require","exports","./components/FocusZone/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/utilities/positioning",["require","exports","../common/DirectionalHint","../Utilities"],function(n,t,i,r){"use strict";function p(n,t,f){var c=n.isBeakVisible?n.beakWidth:0,y=s._getBorderSize(f),p=s._calculateActualBeakWidthInPixels(c)/2+(n.gapSpace?n.gapSpace:0),e=n.bounds?s._getRectangleFromIRect(n.bounds):new r.Rectangle(0,window.innerWidth-r.getScrollbarWidth(),0,window.innerHeight),h=n.target?s._getTargetRect(e,n.target):s._getTargetRectDEPRECATED(e,n.targetElement,n.creationEvent,n.targetPoint,n.useTargetPoint),w=s._getPositionData(n.directionalHint,h,e,n.coverTarget),o=s._positionCalloutWithinBounds(s._getRectangleFromHTMLElement(f),h,e,w,p,n.coverTarget,n.directionalHintFixed),a=s._positionBeak(c,o,h,y),v=s._finalizeCalloutPosition(o.calloutRectangle,t);return{calloutPosition:{top:v.top,left:v.left},beakPosition:{top:a.top,left:a.left,display:"block"},directionalClassName:l[o.targetEdge],submenuDirection:o.calloutEdge===u.right?i.DirectionalHint.leftBottomEdge:i.DirectionalHint.rightBottomEdge}}function w(n,t,i,u){i===void 0&&(i=0);var f=n,o=n,e,h=u?s._getRectangleFromIRect(u):new r.Rectangle(0,window.innerWidth-r.getScrollbarWidth(),0,window.innerHeight);return e=f.stopPropagation?new r.Rectangle(f.clientX,f.clientX,f.clientY,f.clientY):s._getRectangleFromHTMLElement(o),s._getMaxHeightFromTargetRectangle(e,t,i,h)}var u,l,f,s,h,e,o,c;(function(n){n[n.top=0]="top";n[n.bottom=1]="bottom";n[n.left=2]="left";n[n.right=3]="right"})(u=t.RectangleEdge||(t.RectangleEdge={}));l=(h={},h[u.top]="slideUpIn20",h[u.bottom]="slideDownIn20",h[u.left]="slideLeftIn20",h[u.right]="slideRightIn20",h);f=function(){function n(n,t,i,r,u,f){this.calloutDirection=n;this.targetDirection=t;this.calloutPercent=i;this.targetPercent=r;this.beakPercent=u;this.isAuto=f}return n}();t.PositionData=f;var v=(e={},e[i.DirectionalHint.topLeftEdge]=new f(u.bottom,u.top,0,0,50,!1),e[i.DirectionalHint.topCenter]=new f(u.bottom,u.top,50,50,50,!1),e[i.DirectionalHint.topRightEdge]=new f(u.bottom,u.top,100,100,50,!1),e[i.DirectionalHint.topAutoEdge]=new f(u.bottom,u.top,0,0,50,!0),e[i.DirectionalHint.bottomLeftEdge]=new f(u.top,u.bottom,0,0,50,!1),e[i.DirectionalHint.bottomCenter]=new f(u.top,u.bottom,50,50,50,!1),e[i.DirectionalHint.bottomRightEdge]=new f(u.top,u.bottom,100,100,50,!1),e[i.DirectionalHint.bottomAutoEdge]=new f(u.top,u.bottom,0,0,50,!0),e[i.DirectionalHint.leftTopEdge]=new f(u.right,u.left,0,0,50,!1),e[i.DirectionalHint.leftCenter]=new f(u.right,u.left,50,50,50,!1),e[i.DirectionalHint.leftBottomEdge]=new f(u.right,u.left,100,100,50,!1),e[i.DirectionalHint.rightTopEdge]=new f(u.left,u.right,0,0,50,!1),e[i.DirectionalHint.rightCenter]=new f(u.left,u.right,50,50,50,!1),e[i.DirectionalHint.rightBottomEdge]=new f(u.left,u.right,100,100,50,!1),e),y=(o={},o[i.DirectionalHint.topLeftEdge]=new f(u.top,u.top,0,0,50,!1),o[i.DirectionalHint.topCenter]=new f(u.top,u.top,50,50,50,!1),o[i.DirectionalHint.topRightEdge]=new f(u.top,u.top,100,100,50,!1),o[i.DirectionalHint.topAutoEdge]=new f(u.top,u.top,0,0,50,!0),o[i.DirectionalHint.bottomLeftEdge]=new f(u.bottom,u.bottom,0,0,50,!1),o[i.DirectionalHint.bottomCenter]=new f(u.bottom,u.bottom,50,50,50,!1),o[i.DirectionalHint.bottomRightEdge]=new f(u.bottom,u.bottom,100,100,50,!1),o[i.DirectionalHint.bottomAutoEdge]=new f(u.bottom,u.bottom,0,0,50,!0),o[i.DirectionalHint.leftTopEdge]=new f(u.left,u.left,0,0,50,!1),o[i.DirectionalHint.leftCenter]=new f(u.left,u.left,50,50,50,!1),o[i.DirectionalHint.leftBottomEdge]=new f(u.left,u.left,100,100,50,!1),o[i.DirectionalHint.rightTopEdge]=new f(u.right,u.right,0,0,50,!1),o[i.DirectionalHint.rightCenter]=new f(u.right,u.right,50,50,50,!1),o[i.DirectionalHint.rightBottomEdge]=new f(u.right,u.right,100,100,50,!1),o),a=(c={},c[u.top]=u.bottom,c[u.bottom]=u.top,c[u.right]=u.left,c[u.left]=u.right,c);t.getRelativePositions=p;t.getMaxHeight=w,function(n){function ut(n,t,r,u){var f=0;switch(t){case i.DirectionalHint.bottomAutoEdge:case i.DirectionalHint.bottomCenter:case i.DirectionalHint.bottomLeftEdge:case i.DirectionalHint.bottomRightEdge:f=u.bottom-n.bottom-r;break;case i.DirectionalHint.topAutoEdge:case i.DirectionalHint.topCenter:case i.DirectionalHint.topLeftEdge:case i.DirectionalHint.topRightEdge:f=n.top-u.top-r;break;default:f=u.bottom-n.top-r}return f>0?f:u.height}function ft(n,t){var i,f,a,h,c,l;if(t.preventDefault?(f=t,i=new r.Rectangle(f.clientX,f.clientX,f.clientY,f.clientY)):i=e(t),!s(i,n))for(a=o(i,n),h=0,c=a;h<c.length;h++)l=c[h],i[u[l]]=n[u[l]];return i}function et(n,t,i,f,h){var c,y,l,a,v;if(h?c=f?new r.Rectangle(f.x,f.x,f.y,f.y):new r.Rectangle(i.clientX,i.clientX,i.clientY,i.clientY):t?c=e(t):(i&&i.target&&(c=e(i.target)),c=new r.Rectangle),!s(c,n))for(y=o(c,n),l=0,a=y;l<a.length;l++)v=a[l],c[u[v]]=n[u[v]];return c}function e(n){var t=n.getBoundingClientRect();return new r.Rectangle(t.left,t.right,t.top,t.bottom)}function ot(n,t,i,r,u,f,e){u===void 0&&(u=0);var o=l(n,r.calloutDirection,r.calloutPercent,t,r.targetDirection,r.targetPercent,u);return s(o,i)?{calloutRectangle:o,calloutEdge:r.calloutDirection,targetEdge:r.targetDirection,alignPercent:r.calloutPercent,beakPercent:r.beakPercent}:w(o,t,i,r,u,f,e)}function w(n,t,i,r,f,e,s){var c={calloutRectangle:n,calloutEdge:r.calloutDirection,targetEdge:r.targetDirection,alignPercent:r.calloutPercent,beakPercent:r.beakPercent},y,l,a,v,p;if(!k(n,i))return c;for(e||s||(c=rt(c,t,r.targetPercent,i,f)),y=o(c.calloutRectangle,i),l=0,a=y;l<a.length;l++)v=a[l],c.calloutRectangle=nt(c.calloutRectangle,i[u[v]],v),p=h(c.calloutRectangle,c.targetEdge,t,c.targetEdge,r.targetPercent),c.alignPercent=p;return c}function st(n,t,i,u){var e=new r.Rectangle(0,t.calloutRectangle.width-u*2,0,t.calloutRectangle.height-u*2),o=new r.Rectangle(0,n,0,n),s=h(t.calloutRectangle,t.calloutEdge,i,t.targetEdge,t.beakPercent),c=f(e,t.calloutEdge,s);return b(o,t,c,u)}function b(n,t,i,f){var e=it(n.width)/2,o=null,h={x:n.width/2,y:n.width/2},s;return o=t.calloutEdge===u.bottom||t.calloutEdge===u.top?new r.Rectangle(e,t.calloutRectangle.width-e-f*2,0,t.calloutRectangle.height-f*2):new r.Rectangle(0,t.calloutRectangle.width-f*2,e,t.calloutRectangle.height-e-f*2),s=p(o,t.calloutEdge,i),c(n,h,s)}function ht(n){return new r.Rectangle(n.left,n.right,n.top,n.bottom)}function ct(n,t){var i=e(t),u=n.top-i.top,f=n.left-i.left;return new r.Rectangle(f,f+n.width,u,u+n.height)}function h(n,t,i,r,u){var o=f(i,r,u),s=p(n,t,o),e=d(n,t,s);return e>100?e=100:e<0&&(e=0),e}function k(n,t){return n.width>t.width||n.height>t.height?!1:!0}function s(n,t){return n.top<t.top?!1:n.bottom>t.bottom?!1:n.left<t.left?!1:n.right>t.right?!1:!0}function o(n,t){var i=[];return n.top<t.top&&i.push(u.top),n.bottom>t.bottom&&i.push(u.bottom),n.left<t.left&&i.push(u.left),n.right>t.right&&i.push(u.right),i}function f(n,t,i){var r,f;switch(t){case u.top:r={x:n.left,y:n.top};f={x:n.right,y:n.top};break;case u.left:r={x:n.left,y:n.top};f={x:n.left,y:n.bottom};break;case u.right:r={x:n.right,y:n.top};f={x:n.right,y:n.bottom};break;case u.bottom:r={x:n.left,y:n.bottom};f={x:n.right,y:n.bottom};break;default:r={x:0,y:0};f={x:0,y:0}}return g(r,f,i)}function d(n,t,i){switch(t){case u.top:case u.bottom:return n.width!==0?(i.x-n.left)/n.width*100:100;case u.left:case u.right:return n.height!==0?(i.y-n.top)/n.height*100:100}}function g(n,t,i){var r=n.x+(t.x-n.x)*i/100,u=n.y+(t.y-n.y)*i/100;return{x:r,y:u}}function t(n,t){return new r.Rectangle(t.x,t.x+n.width,t.y,t.y+n.height)}function nt(n,i,f){switch(f){case u.top:return t(n,{x:n.left,y:i});case u.bottom:return t(n,{x:n.left,y:i-n.height});case u.left:return t(n,{x:i,y:n.top});case u.right:return t(n,{x:i-n.width,y:n.top})}return new r.Rectangle}function c(n,i,r){var u=i.x-n.left,f=i.y-n.top;return t(n,{x:r.x-u,y:r.y-f})}function tt(n,i,r){var f=0,e=0;switch(r){case u.top:e=i*-1;break;case u.left:f=i*-1;break;case u.right:f=i;break;case u.bottom:e=i}return t(n,{x:n.left+f,y:n.top+e})}function l(n,t,i,r,u,e,o){o===void 0&&(o=0);var s=f(n,t,i),h=f(r,u,e),l=c(n,s,h);return tt(l,o,u)}function p(n,t,i){var r,f;switch(t){case u.top:case u.bottom:return r=void 0,r=i.x>n.right?n.right:i.x<n.left?n.left:i.x,{x:r,y:n[u[t]]};case u.left:case u.right:return f=void 0,f=i.y>n.bottom?n.bottom:i.y<n.top?n.top:i.y,{x:n[u[t]],y:f}}}function it(n){return Math.sqrt(n*n*2)}function lt(n){var t=getComputedStyle(n,null),i=parseFloat(t.borderTopWidth),r=parseFloat(t.borderBottomWidth),u=parseFloat(t.borderLeftWidth),f=parseFloat(t.borderRightWidth);return isNaN(i)||isNaN(r)||isNaN(u)||isNaN(f)?0:i===r&&r===u&&u===f?i:0}function at(n,t,i,r){var u=r?y[n]:v[n],e;return u.isAuto&&(e=f(t,u.targetDirection,50),e.x<=i.width/2?(u.calloutPercent=0,u.targetPercent=0):(u.calloutPercent=100,u.targetPercent=100)),u}function rt(n,t,i,f,e){for(var c=[u.left,u.right,u.top,u.bottom],h=n.targetEdge,s=r.assign({},n),v=0;v<4;v++){var p=o(s.calloutRectangle,f),w=p.indexOf(h),y=a[h];if(w>-1)c.splice(c.indexOf(h),1),h=c.indexOf(y)>-1?y:c.slice(-1)[0],s.calloutEdge=a[h],s.targetEdge=h,s.calloutRectangle=l(s.calloutRectangle,s.calloutEdge,s.alignPercent,t,s.targetEdge,i,e);else return s}return n}n._getMaxHeightFromTargetRectangle=ut;n._getTargetRect=ft;n._getTargetRectDEPRECATED=et;n._getRectangleFromHTMLElement=e;n._positionCalloutWithinBounds=ot;n._getBestRectangleFitWithinBounds=w;n._positionBeak=st;n._finalizeBeakPosition=b;n._getRectangleFromIRect=ht;n._finalizeCalloutPosition=ct;n._recalculateMatchingPercents=h;n._canRectangleFitWithinBounds=k;n._isRectangleWithinBounds=s;n._getOutOfBoundsEdges=o;n._getPointOnEdgeFromPercent=f;n._getPercentOfEdgeFromPoint=d;n._calculatePointPercentAlongLine=g;n._moveTopLeftOfRectangleToPoint=t;n._alignEdgeToCoordinate=nt;n._movePointOnRectangleToPoint=c;n._moveRectangleInDirection=tt;n._moveRectangleToAnchorRectangle=l;n._getClosestPointOnEdgeToPoint=p;n._calculateActualBeakWidthInPixels=it;n._getBorderSize=lt;n._getPositionData=at;n._flipRectangleToFit=rt}(s=t.positioningFunctions||(t.positioningFunctions={}))});
define("OfficeFabric/Popup",["require","exports","./components/Popup/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/Callout/Callout.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:'.ms-Callout{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;box-shadow:0 0 15px -5px rgba(0,0,0,.4);position:absolute;border:1px solid '},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";box-sizing:border-box}@media screen and (-ms-high-contrast:active){.ms-Callout{border:1px solid "},{theme:"white",defaultValue:"#ffffff"},{rawString:"}}@media screen and (-ms-high-contrast:black-on-white){.ms-Callout{border:1px solid "},{theme:"black",defaultValue:"#000000"},{rawString:"}}.ms-Callout-container{position:relative}.ms-Callout-main{background-color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";overflow-x:hidden;overflow-y:auto;position:relative}.ms-Callout-beak{position:absolute;background-color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";box-shadow:inherit;border:inherit;box-sizing:border-box;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ms-Callout-beakCurtain{position:absolute;top:0;right:0;bottom:0;left:0;background-color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/Callout/CalloutContent",["require","exports","react","../../common/DirectionalHint","../../Utilities","../../utilities/positioning","../../Popup","./Callout.scss"],function(n,t,i,r,u,f,e){"use strict";var h={top:0,left:0},c={opacity:0},l=1,o=8,s=function(n){function t(t){var i=n.call(this,t,{beakStyle:"beakWidth"})||this;return i._didSetInitialFocus=!1,i.state={positions:null,slideDirectionalClassName:null,calloutElementRect:null},i._positionAttempts=0,i}return __extends(t,n),t.prototype.componentDidUpdate=function(){this._setInitialFocus();this._updatePosition()},t.prototype.componentWillMount=function(){var n=this.props.targetElement?this.props.targetElement:this.props.target;this._setTargetWindowAndElement(n)},t.prototype.componentWillUpdate=function(n){if(n.targetElement!==this.props.targetElement||n.target!==this.props.target){var t=n.targetElement?n.targetElement:n.target;this._maxHeight=undefined;this._setTargetWindowAndElement(t)}(n.gapSpace!==this.props.gapSpace||this.props.beakWidth!==n.beakWidth)&&(this._maxHeight=undefined)},t.prototype.componentDidMount=function(){this._onComponentDidMount()},t.prototype.render=function(){if(!this._targetWindow)return null;var t=this.props,o=t.className,s=t.target,l=t.targetElement,a=t.isBeakVisible,v=t.beakStyle,y=t.children,p=t.beakWidth,n=this.state.positions,r=p;v==="ms-Callout-smallbeak"&&(r=16);var w={top:n&&n.beakPosition?n.beakPosition.top:h.top,left:n&&n.beakPosition?n.beakPosition.left:h.left,height:r,width:r},b=n&&n.directionalClassName?"ms-u-"+n.directionalClassName:"",k=this._getMaxHeight(),f=a&&(!!l||!!s);return i.createElement("div",{ref:this._resolveRef("_hostElement"),className:"ms-Callout-container"},i.createElement("div",{className:u.css("ms-Callout",o,b),style:n?n.calloutPosition:c,ref:this._resolveRef("_calloutElement")},f&&i.createElement("div",{className:"ms-Callout-beak",style:w}),f&&i.createElement("div",{className:"ms-Callout-beakCurtain"}),i.createElement(e.Popup,{className:"ms-Callout-main",onDismiss:this.dismiss,shouldRestoreFocus:!0,style:{maxHeight:k}},y)))},t.prototype.dismiss=function(n){var t=this.props.onDismiss;t&&t(n)},t.prototype._dismissOnScroll=function(n){this.state.positions&&this._dismissOnLostFocus(n)},t.prototype._dismissOnLostFocus=function(n){var t=n.target,i=this._hostElement&&!u.elementContains(this._hostElement,t);(!this._target&&i||n.target!==this._targetWindow&&i&&(this._target.stopPropagation||!this._target||t!==this._target&&!u.elementContains(this._target,t)))&&this.dismiss(n)},t.prototype._setInitialFocus=function(){this.props.setInitialFocus&&!this._didSetInitialFocus&&this.state.positions&&(this._didSetInitialFocus=!0,u.focusFirstChild(this._calloutElement))},t.prototype._onComponentDidMount=function(){var n=this;this._async.setTimeout(function(){n._events.on(n._targetWindow,"scroll",n._dismissOnScroll,!0);n._events.on(n._targetWindow,"resize",n.dismiss,!0);n._events.on(n._targetWindow,"focus",n._dismissOnLostFocus,!0);n._events.on(n._targetWindow,"click",n._dismissOnLostFocus,!0)},0);this.props.onLayerMounted&&this.props.onLayerMounted();this._updatePosition()},t.prototype._updatePosition=function(){var i=this.state.positions,r=this._hostElement,e=this._calloutElement,n,t;r&&e&&(n=void 0,n=u.assign(n,this.props),n.bounds=this._getBounds(),this.props.targetElement?n.targetElement=this._target:n.target=this._target,t=f.getRelativePositions(n,r,e),!i&&t||i&&t&&!this._arePositionsEqual(i,t)&&this._positionAttempts<5?(this._positionAttempts++,this.setState({positions:t})):(this._positionAttempts=0,this.props.onPositioned&&this.props.onPositioned()))},t.prototype._getBounds=function(){if(!this._bounds){var n=this.props.bounds;n||(n={top:0+o,left:0+o,right:this._targetWindow.innerWidth-o,bottom:this._targetWindow.innerHeight-o,width:this._targetWindow.innerWidth-o*2,height:this._targetWindow.innerHeight-o*2});this._bounds=n}return this._bounds},t.prototype._getMaxHeight=function(){if(!this._maxHeight)if(this.props.directionalHintFixed&&this._target){var n=this.props.isBeakVisible?this.props.beakWidth:0,t=this.props.gapSpace?this.props.gapSpace:0;this._maxHeight=f.getMaxHeight(this._target,this.props.directionalHint,n+t,this._getBounds())}else this._maxHeight=this._getBounds().height-l*2;return this._maxHeight},t.prototype._arePositionsEqual=function(n,t){return n.calloutPosition.top.toFixed(2)!==t.calloutPosition.top.toFixed(2)?!1:n.calloutPosition.left.toFixed(2)!==t.calloutPosition.left.toFixed(2)?!1:n.beakPosition.top.toFixed(2)!==t.beakPosition.top.toFixed(2)?!1:n.beakPosition.top.toFixed(2)!==t.beakPosition.top.toFixed(2)?!1:!0},t.prototype._setTargetWindowAndElement=function(n){var t,i;n?typeof n=="string"?(t=u.getDocument(),this._target=t?t.querySelector(n):null,this._targetWindow=u.getWindow()):n.stopPropagation?(this._target=n,this._targetWindow=u.getWindow(n.toElement)):(i=n,this._target=n,this._targetWindow=u.getWindow(i)):this._targetWindow=u.getWindow()},t}(u.BaseComponent);s.defaultProps={isBeakVisible:!0,beakWidth:16,gapSpace:16,directionalHint:r.DirectionalHint.bottomAutoEdge};__decorate([u.autobind],s.prototype,"dismiss",null);__decorate([u.autobind],s.prototype,"_setInitialFocus",null);__decorate([u.autobind],s.prototype,"_onComponentDidMount",null);t.CalloutContent=s});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/Callout/Callout",["require","exports","react","./CalloutContent","../../Layer"],function(n,t,i,r,u){"use strict";var f=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.render=function(){var n=i.createElement(r.CalloutContent,__assign({},this.props));return this.props.doNotLayer?n:i.createElement(u.Layer,null,n)},t}(i.Component);t.Callout=f});
define("OfficeFabric/components/Callout/index",["require","exports","./Callout","../../common/DirectionalHint"],function(n,t,i,r){"use strict";function u(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}u(i);u(r)});
define("OfficeFabric/Callout",["require","exports","./components/Callout/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/Icon/IconType",["require","exports"],function(n,t){"use strict";var i;(function(n){n[n.Default=0]="Default";n[n.Image=1]="Image"})(i=t.IconType||(t.IconType={}))});
define("OfficeFabric/components/Image/Image.Props",["require","exports"],function(n,t){"use strict";var i,r;(function(n){n[n.center=0]="center";n[n.contain=1]="contain";n[n.cover=2]="cover";n[n.none=3]="none"})(i=t.ImageFit||(t.ImageFit={})),function(n){n[n.notLoaded=0]="notLoaded";n[n.loaded=1]="loaded";n[n.error=2]="error";n[n.errorLoaded=3]="errorLoaded"}(r=t.ImageLoadState||(t.ImageLoadState={}))});
define("OfficeFabric/components/Image/Image.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Image{overflow:hidden}.ms-Image--maximizeFrame{height:100%;width:100%}.ms-Image-image{display:block;opacity:0}.ms-Image-image.is-loaded{opacity:1}.ms-Image-image--center,.ms-Image-image--contain,.ms-Image-image--cover{position:relative;top:50%}html[dir=ltr] .ms-Image-image--center,html[dir=ltr] .ms-Image-image--contain,html[dir=ltr] .ms-Image-image--cover{left:50%}html[dir=rtl] .ms-Image-image--center,html[dir=rtl] .ms-Image-image--contain,html[dir=rtl] .ms-Image-image--cover{right:50%}html[dir=ltr] .ms-Image-image--center,html[dir=ltr] .ms-Image-image--contain,html[dir=ltr] .ms-Image-image--cover{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}html[dir=rtl] .ms-Image-image--center,html[dir=rtl] .ms-Image-image--contain,html[dir=rtl] .ms-Image-image--cover{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.ms-Image-image--contain.ms-Image-image--landscape{width:100%;height:auto}.ms-Image-image--contain.ms-Image-image--portrait{height:100%;width:auto}.ms-Image-image--cover.ms-Image-image--landscape{height:100%;width:auto}.ms-Image-image--cover.ms-Image-image--portrait{width:100%;height:auto}.ms-Image-image--none{height:auto;width:auto}.ms-Image-image--scaleWidthHeight{height:100%;width:100%}.ms-Image-image--scaleWidth{height:auto;width:100%}.ms-Image-image--scaleHeight{height:100%;width:auto}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/Image/Image",["require","exports","react","../../Utilities","./Image.Props","./Image.scss"],function(n,t,i,r,u){"use strict";var o,h,f,s,e;(function(n){n[n.landscape=0]="landscape";n[n.portrait=1]="portrait"})(o=t.CoverStyle||(t.CoverStyle={}));t.CoverStyleMap=(s={},s[o.landscape]="ms-Image-image--landscape",s[o.portrait]="ms-Image-image--portrait",s);t.ImageFitMap=(e={},e[u.ImageFit.center]="ms-Image-image--center",e[u.ImageFit.contain]="ms-Image-image--contain",e[u.ImageFit.cover]="ms-Image-image--cover",e[u.ImageFit.none]="ms-Image-image--none",e);h="fabricImage";f=function(n){function f(t){var i=n.call(this,t)||this;return i.state={loadState:u.ImageLoadState.notLoaded},i}return __extends(f,n),f.prototype.componentWillReceiveProps=function(n){n.src!==this.props.src?this.setState({loadState:u.ImageLoadState.notLoaded}):this.state.loadState===u.ImageLoadState.loaded&&this._computeCoverStyle(n)},f.prototype.componentDidUpdate=function(n,t){if(this._checkImageLoaded(),this.props.onLoadingStateChange&&t.loadState!==this.state.loadState)this.props.onLoadingStateChange(this.state.loadState)},f.prototype.render=function(){var v=r.getNativeProps(this.props,r.imageProperties,["width","height"]),n=this.props,y=n.src,p=n.alt,e=n.width,o=n.height,c=n.shouldFadeIn,w=n.className,f=n.imageFit,b=n.role,k=n.maximizeFrame,l=this.state.loadState,a=this._coverStyle,s=l===u.ImageLoadState.loaded;return i.createElement("div",{className:r.css("ms-Image",w,{"ms-Image--maximizeFrame":k}),style:{width:e,height:o},ref:this._resolveRef("_frameElement")},i.createElement("img",__assign({},v,{onLoad:this._onImageLoaded,onError:this._onImageError,key:h+this.props.src||"",className:r.css("ms-Image-image",a!==undefined&&t.CoverStyleMap[a],f!==undefined&&t.ImageFitMap[f],{"is-fadeIn":c,"is-notLoaded":!s,"is-loaded":s,"ms-u-fadeIn400":s&&c,"is-error":l===u.ImageLoadState.error,"ms-Image-image--scaleWidth":f===undefined&&!!e&&!o,"ms-Image-image--scaleHeight":f===undefined&&!e&&!!o,"ms-Image-image--scaleWidthHeight":f===undefined&&!!e&&!!o}),ref:this._resolveRef("_imageElement"),src:y,alt:p,role:b})))},f.prototype._onImageLoaded=function(n){var t=this.props,r=t.src,i=t.onLoad;i&&i(n);this._computeCoverStyle(this.props);r&&this.setState({loadState:u.ImageLoadState.loaded})},f.prototype._checkImageLoaded=function(){var n=this.props.src,i=this.state.loadState,t;i===u.ImageLoadState.notLoaded&&(t=n&&this._imageElement.naturalWidth>0&&this._imageElement.naturalHeight>0||this._imageElement.complete&&f._svgRegex.test(n),t&&(this._computeCoverStyle(this.props),this.setState({loadState:u.ImageLoadState.loaded})))},f.prototype._computeCoverStyle=function(n){var i=n.imageFit,r=n.width,f=n.height,t,e;(i===u.ImageFit.cover||i===u.ImageFit.contain)&&this._imageElement&&(t=void 0,t=!r||!f?this._frameElement.clientWidth/this._frameElement.clientHeight:r/f,e=this._imageElement.naturalWidth/this._imageElement.naturalHeight,this._coverStyle=e>t?o.landscape:o.portrait)},f.prototype._onImageError=function(n){if(this.props.onError)this.props.onError(n);this.setState({loadState:u.ImageLoadState.error})},f}(r.BaseComponent);f.defaultProps={shouldFadeIn:!0};f._svgRegex=/\.svg$/i;__decorate([r.autobind],f.prototype,"_onImageLoaded",null);__decorate([r.autobind],f.prototype,"_onImageError",null);t.Image=f});
define("OfficeFabric/components/Icon/Icon.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-Icon-imageContainer{overflow:hidden}.ms-Icon-Image{position:relative}"}])});
var __assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};define("OfficeFabric/components/Icon/Icon",["require","exports","react","./IconType","../Image/Image","../../Utilities","./Icon.scss"],function(n,t,i,r,u,f){"use strict";t.Icon=function(n){var o=n.iconName==="None",t,e;return n.iconType===r.IconType.Image?(t=f.css("ms-Icon","ms-Icon-imageContainer",n.className),i.createElement("div",{className:t},i.createElement(u.Image,__assign({},n.imageProps)))):(e=f.css("ms-Icon",o?"":"ms-Icon--"+n.iconName,n.className),i.createElement("i",__assign({},f.getNativeProps(n,f.htmlElementProperties),{className:e})))}});
define("OfficeFabric/components/Icon/index",["require","exports","./Icon","./IconName","./IconType"],function(n,t,i,r,u){"use strict";function f(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}f(i);f(r);f(u)});
define("OfficeFabric/Icon",["require","exports","./components/Icon/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
define("OfficeFabric/components/ContextualMenu/ContextualMenu.scss",["require","exports","@microsoft/load-themed-styles"],function(n,t,i){"use strict";i.loadStyles([{rawString:".ms-ContextualMenu{background-color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:';min-width:180px}.ms-ContextualMenu-list{list-style-type:none;margin:0;padding:0;line-height:0}.ms-ContextualMenu-item{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;color:'},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";height:36px;position:relative;box-sizing:border-box}.ms-ContextualMenu-link{font:inherit;color:inherit;background:0 0;border:none;width:100%;height:36px;line-height:36px;display:block;cursor:pointer;padding:0 6px}.ms-ContextualMenu-link::-moz-focus-inner{border:0}.ms-ContextualMenu-link{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-ContextualMenu-link:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}html[dir=ltr] .ms-ContextualMenu-link{text-align:left}html[dir=rtl] .ms-ContextualMenu-link{text-align:right}.ms-ContextualMenu-link:hover:not([disabled]){background:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:"}.ms-ContextualMenu-link.is-disabled,.ms-ContextualMenu-link[disabled]{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";cursor:default;pointer-events:none}.ms-ContextualMenu-link.is-disabled .ms-ContextualMenu-icon,.ms-ContextualMenu-link[disabled] .ms-ContextualMenu-icon{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:"}.is-focusVisible .ms-ContextualMenu-link:focus{background:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:"}.ms-ContextualMenu-link.is-expanded,.ms-ContextualMenu-link.is-expanded:hover{background:"},{theme:"neutralQuaternaryAlt",defaultValue:"#dadada"},{rawString:";color:"},{theme:"black",defaultValue:"#000000"},{rawString:';font-weight:600}.ms-ContextualMenu-header{font-family:"Segoe UI WestEuropean","Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;font-size:12px;font-weight:400;font-weight:600;color:'},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:";background:0 0;border:none;height:36px;line-height:36px;cursor:default;padding:0 6px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ms-ContextualMenu-header::-moz-focus-inner{border:0}.ms-ContextualMenu-header{outline:transparent;position:relative}.ms-Fabric.is-focusVisible .ms-ContextualMenu-header:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}html[dir=ltr] .ms-ContextualMenu-header{text-align:left}html[dir=rtl] .ms-ContextualMenu-header{text-align:right}a.ms-ContextualMenu-link{padding:0 6px;text-rendering:auto;color:inherit;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;box-sizing:border-box}.ms-ContextualMenu-linkContent{white-space:nowrap;height:inherit;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%}.ms-ContextualMenu-divider{display:block;height:1px;background-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";position:relative}.ms-ContextualMenu-icon{display:inline-block;min-height:1px;max-height:36px;width:14px;margin:0 4px;vertical-align:middle;-ms-flex-negative:0;flex-shrink:0}.ms-ContextualMenu-iconColor{color:"},{theme:"themePrimary",defaultValue:"#0078d7"},{rawString:"}.ms-ContextualMenu-itemText{margin:0 4px;vertical-align:middle;display:inline-block;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ms-ContextualMenu-linkText{margin:0 4px;display:inline-block;vertical-align:top;white-space:nowrap}.ms-ContextualMenu-submenuIcon{height:36px;line-height:36px;text-align:center;font-size:10px;display:inline-block;vertical-align:middle;-ms-flex-negative:0;flex-shrink:0}"}])});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("OfficeFabric/components/ContextualMenu/ContextualMenu",["require","exports","react","./ContextualMenu.Props","../../common/DirectionalHint","../../FocusZone","../../Utilities","../../Callout","../../Icon","./ContextualMenu.scss"],function(n,t,i,r,u,f,e,o,s){"use strict";function c(n){var t=l(n);return!!(t&&t.length)}function l(n){return n.subMenuProps?n.subMenuProps.items:n.items}var a,v,y,h;(function(n){n[n.vertical=0]="vertical";n[n.horizontal=1]="horizontal"})(a||(a={})),function(n){n[n.auto=0]="auto";n[n.left=1]="left";n[n.center=2]="center";n[n.right=3]="right"}(v||(v={})),function(n){n[n.top=0]="top";n[n.center=1]="center";n[n.bottom=2]="bottom"}(y||(y={}));t.hasSubmenuItems=c;t.getSubmenuItems=l;h=function(n){function t(t){var i=n.call(this,t)||this;return i.state={contextualMenuItems:null,subMenuId:e.getId("ContextualMenu")},i._isFocusingPreviousElement=!1,i._enterTimerId=0,i}return __extends(t,n),t.prototype.dismiss=function(n,t){var i=this.props.onDismiss;i&&i(n,t)},t.prototype.componentWillUpdate=function(n){if(n.targetElement!==this.props.targetElement||n.target!==this.props.target){var t=n.targetElement?n.targetElement:n.target;this._setTargetWindowAndElement(t)}},t.prototype.componentWillMount=function(){var n=this.props.targetElement?this.props.targetElement:this.props.target;this._setTargetWindowAndElement(n);this._previousActiveElement=this._targetWindow?this._targetWindow.document.activeElement:null},t.prototype.componentDidMount=function(){this._events.on(this._targetWindow,"resize",this.dismiss)},t.prototype.componentWillUnmount=function(){var n=this;this._isFocusingPreviousElement&&this._previousActiveElement&&setTimeout(function(){return n._previousActiveElement.focus()},0);this._events.dispose();this._async.dispose()},t.prototype.render=function(){var u=this,n=this.props,h=n.className,r=n.items,c=n.isBeakVisible,l=n.labelElementId,a=n.targetElement,v=n.id,y=n.targetPoint,p=n.useTargetPoint,w=n.beakWidth,b=n.directionalHint,k=n.gapSpace,d=n.coverTarget,g=n.ariaLabel,nt=n.doNotLayer,tt=n.arrowDirection,it=n.target,rt=n.bounds,ut=n.directionalHintFixed,ft=n.shouldFocusOnMount,s=this.state.submenuProps,et=!!(r&&r.some(function(n){return!!n.icon||!!n.iconProps})),ot=!!(r&&r.some(function(n){return!!n.canCheck}));return r&&r.length>0?i.createElement(o.Callout,{target:it,targetElement:a,targetPoint:y,useTargetPoint:p,isBeakVisible:c,beakWidth:w,directionalHint:b,gapSpace:k,coverTarget:d,doNotLayer:nt,className:"ms-ContextualMenu-Callout",setInitialFocus:ft,onDismiss:this.props.onDismiss,bounds:rt,directionalHintFixed:ut},i.createElement("div",{ref:function(n){return u._host=n},id:v,className:e.css("ms-ContextualMenu-container",h)},r&&r.length?i.createElement(f.FocusZone,{className:"ms-ContextualMenu is-open",direction:tt,ariaLabelledBy:l,ref:function(n){return u._focusZone=n},rootProps:{role:"menu"}},i.createElement("ul",{className:"ms-ContextualMenu-list is-open",onKeyDown:this._onKeyDown,"aria-label":g},r.map(function(n,t){return u._renderMenuItem(n,t,ot,et)}))):null,s?i.createElement(t,__assign({},s)):null)):null},t.prototype._renderMenuItem=function(n,t,i,u){var f=[],e,o;n.name==="-"&&(n.itemType=r.ContextualMenuItemType.Divider);switch(n.itemType){case r.ContextualMenuItemType.Divider:f.push(this._renderSeparator(t,n.className));break;case r.ContextualMenuItemType.Header:f.push(this._renderSeparator(t));e=this._renderHeaderMenuItem(n,t,i,u);f.push(this._renderListItem(e,n.key||t,n.className,n.title));break;default:o=this._renderNormalItem(n,t,i,u);f.push(this._renderListItem(o,n.key||t,n.className,n.title))}return f},t.prototype._renderListItem=function(n,t,r,u){return i.createElement("li",{role:"menuitem",title:u,key:t,className:e.css("ms-ContextualMenu-item",r)},n)},t.prototype._renderSeparator=function(n,t){return n>0?i.createElement("li",{role:"separator",key:"separator-"+n,className:e.css("ms-ContextualMenu-divider",t)}):null},t.prototype._renderNormalItem=function(n,t,i,r){return n.onRender?[n.onRender(n)]:n.href?this._renderAnchorMenuItem(n,t,i,r):this._renderButtonItem(n,t,i,r)},t.prototype._renderHeaderMenuItem=function(n,t,r,u){return i.createElement("div",{className:"ms-ContextualMenu-header"},this._renderMenuItemChildren(n,t,r,u))},t.prototype._renderAnchorMenuItem=function(n,t,r,u){return i.createElement("div",null,i.createElement("a",__assign({},e.getNativeProps(n,e.anchorProperties),{href:n.href,className:e.css("ms-ContextualMenu-link",n.isDisabled||n.disabled?"is-disabled":""),role:"menuitem",onClick:this._onAnchorClick.bind(this,n)}),u?this._renderIcon(n):null,i.createElement("span",{className:"ms-ContextualMenu-linkText"}," ",n.name," ")))},t.prototype._renderButtonItem=function(n,t,r,u){var l=this,o=this.state,s=o.expandedMenuItemKey,a=o.subMenuId,f="",h;return n.ariaLabel?f=n.ariaLabel:n.name&&(f=n.name),h={className:e.css("ms-ContextualMenu-link",{"is-expanded":s===n.key}),onClick:this._onItemClick.bind(this,n),onKeyDown:c(n)?this._onItemKeyDown.bind(this,n):null,onMouseEnter:this._onItemMouseEnter.bind(this,n),onMouseLeave:this._onMouseLeave,onMouseDown:function(t){return l._onItemMouseDown(n,t)},disabled:n.isDisabled||n.disabled,role:"menuitem",href:n.href,title:n.title,"aria-label":f,"aria-haspopup":c(n)?!0:null,"aria-owns":n.key===s?a:null},i.createElement("button",e.assign({},e.getNativeProps(n,e.buttonProperties),h),this._renderMenuItemChildren(n,t,r,u))},t.prototype._renderMenuItemChildren=function(n,t,r,u){var f=n.isChecked||n.checked;return i.createElement("div",{className:"ms-ContextualMenu-linkContent"},r?i.createElement(s.Icon,{iconName:f?"CheckMark":"CustomIcon",className:"ms-ContextualMenu-icon",onClick:this._onItemClick.bind(this,n)}):null,u?this._renderIcon(n):null,i.createElement("span",{className:"ms-ContextualMenu-itemText"},n.name),c(n)?i.createElement(s.Icon,__assign({iconName:e.getRTL()?"ChevronLeft":"ChevronRight"},n.submenuIconProps,{className:e.css("ms-ContextualMenu-submenuIcon",n.submenuIconProps?n.submenuIconProps.className:"")})):null)},t.prototype._renderIcon=function(n){var t=n.iconProps?n.iconProps:{iconName:"CustomIcon",className:n.icon?"ms-Icon--"+n.icon:""},r=t.iconName==="None"?"":"ms-ContextualMenu-iconColor",u=e.css("ms-ContextualMenu-icon",r,t.className);return i.createElement(s.Icon,__assign({},t,{className:u}))},t.prototype._onKeyDown=function(n){var t=e.getRTL()?e.KeyCodes.right:e.KeyCodes.left;(n.which===e.KeyCodes.escape||n.which===e.KeyCodes.tab||n.which===t&&this.props.isSubMenu&&this.props.arrowDirection===f.FocusZoneDirection.vertical)&&(this._isFocusingPreviousElement=!0,n.preventDefault(),n.stopPropagation(),this.dismiss(n))},t.prototype._onItemMouseEnter=function(n,t){var i=this,r=t.currentTarget;n.key!==this.state.expandedMenuItemKey&&(this._enterTimerId=c(n)?this._async.setTimeout(function(){return i._onItemSubMenuExpand(n,r)},500):this._async.setTimeout(function(){return i._onSubMenuDismiss(t)},500))},t.prototype._onMouseLeave=function(){this._async.clearTimeout(this._enterTimerId)},t.prototype._onItemMouseDown=function(n,t){if(n.onMouseDown)n.onMouseDown(n,t)},t.prototype._onItemClick=function(n,t){var i=l(n);i&&i.length?n.key===this.state.expandedMenuItemKey?this._onSubMenuDismiss(t):this._onItemSubMenuExpand(n,t.currentTarget):this._executeItemClick(n,t);t.stopPropagation();t.preventDefault()},t.prototype._onAnchorClick=function(n,t){this._executeItemClick(n,t);t.stopPropagation()},t.prototype._executeItemClick=function(n,t){if(n.onClick)n.onClick(t,n);this.dismiss(t,!0)},t.prototype._onItemKeyDown=function(n,t){var i=e.getRTL()?e.KeyCodes.left:e.KeyCodes.right;t.which===i&&(this._onItemSubMenuExpand(n,t.currentTarget),t.preventDefault())},t.prototype._onItemSubMenuExpand=function(n,t){if(this.state.expandedMenuItemKey!==n.key){this.state.submenuProps&&this._onSubMenuDismiss();var i={items:l(n),target:t,onDismiss:this._onSubMenuDismiss,isSubMenu:!0,id:this.state.subMenuId,shouldFocusOnMount:!0,directionalHint:e.getRTL()?u.DirectionalHint.leftTopEdge:u.DirectionalHint.rightTopEdge,className:this.props.className,gapSpace:0};n.subMenuProps&&e.assign(i,n.subMenuProps);this.setState({expandedMenuItemKey:n.key,submenuProps:i})}},t.prototype._onSubMenuDismiss=function(n,t){t?this.dismiss(n,t):this.setState({dismissedMenuItemKey:this.state.expandedMenuItemKey,expandedMenuItemKey:null,submenuProps:null})},t.prototype._setTargetWindowAndElement=function(n){var t,i;n?typeof n=="string"?(t=e.getDocument(),this._target=t?t.querySelector(n):null,this._targetWindow=e.getWindow()):n.stopPropagation?(this._target=n,this._targetWindow=e.getWindow(n.toElement)):(i=n,this._target=n,this._targetWindow=e.getWindow(i)):this._targetWindow=e.getWindow()},t}(e.BaseComponent);h.defaultProps={items:[],shouldFocusOnMount:!0,isBeakVisible:!1,gapSpace:0,directionalHint:u.DirectionalHint.bottomAutoEdge,beakWidth:16,arrowDirection:f.FocusZoneDirection.vertical};__decorate([e.autobind],h.prototype,"dismiss",null);__decorate([e.autobind],h.prototype,"_onKeyDown",null);__decorate([e.autobind],h.prototype,"_onMouseLeave",null);__decorate([e.autobind],h.prototype,"_onSubMenuDismiss",null);t.ContextualMenu=h});
define("OfficeFabric/components/ContextualMenu/index",["require","exports","./ContextualMenu","./ContextualMenu.Props"],function(n,t,i,r){"use strict";function u(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}u(i);u(r)});
define("OfficeFabric/ContextualMenu",["require","exports","./components/ContextualMenu/index"],function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}r(i)});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("Gallery/Client/Scenarios/Shared/Components/FlagControl",["require","exports","react","OfficeFabric/ContextualMenu","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Gallery/Contracts","VSS/Flux/Component","VSS/Utils/String","VSS/LoaderPlugins/Css!Shared/FlagControl"],function(n,t,i,r,u,f,e,o){var s=function(n){function t(t){var i=n.call(this,t)||this;return i._onClick=function(n){i._showContextMenu();n.preventDefault()},i._onKeyPress=function(n){(n.key==="Enter"||n.key===" ")&&(i._showContextMenu(),n.preventDefault())},i._onDismiss=function(){i.setState({isContextMenuVisible:!1})},i._onMenuItemClick=function(n,t){switch(t.name){case i.offensiveText:case i.profaneText:i.props.reportQuestionClick(f.ConcernCategory.Abusive,t.name);break;case i.spamText:i.props.reportQuestionClick(f.ConcernCategory.Spam,t.name)}},i.spamText=o.format(u.RatingAndReviewReportText,u.RatingAndReviewSpamText),i.profaneText=o.format(u.RatingAndReviewReportText,u.RatingAndReviewProfaneText),i.offensiveText=o.format(u.RatingAndReviewReportText,u.RatingAndReviewOffensiveText),i.state={isContextMenuVisible:!1},i}return __extends(t,n),t.prototype.render=function(){var n=null;return this.state.isContextMenuVisible&&(n=i.createElement(r.ContextualMenu,{shouldFocusOnMount:!0,target:"#"+this.props.flagIdentifier,onDismiss:this._onDismiss,directionalHint:r.DirectionalHint.bottomRightEdge,items:[{key:"SpamText",name:this.spamText,onClick:this._onMenuItemClick},{key:"ProfaneText",name:this.profaneText,onClick:this._onMenuItemClick},{key:"OffensiveText",name:this.offensiveText,onClick:this._onMenuItemClick}]})),i.createElement("div",null,i.createElement("span",{id:this.props.flagIdentifier,className:"flag-control gallery-element-focus-style-dark bowtie-icon bowtie-alert",onClick:this._onClick,onKeyPress:this._onKeyPress,tabIndex:0}),n)},t.prototype._showContextMenu=function(){this.setState({isContextMenuVisible:!0})},t}(e.Component);t.FlagControl=s});
define("Gallery/Client/Scenarios/QnA/Components/QnAItemRow",["require","exports","react","VSS/Gallery/Contracts","Gallery/Client/Scenarios/QnA/Components/AnswerContent","Gallery/Client/Scenarios/QnA/Components/ReadMoreContent","Gallery/Client/Scenarios/Shared/Components/FlagControl","Gallery/Client/Scenarios/Shared/Components/LinkAsButton","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Utils/String","VSS/Flux/Component","Gallery/Client/Common/Telemetry","VSS/LoaderPlugins/Css!QnA/QnAItemRow"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a=function(n){function t(t){var i=n.call(this,t)||this,r;return i.SeeMoreAnswersClicked=function(){i.props.logTelemetry(l.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_SEE_MORE_RESPONSES,{questionId:i.props.question.id.toString()});i.setState({responsesExpanded:!0})},i.SeeLessAnswersClicked=function(){i.props.logTelemetry(l.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_SEE_LESS_RESPONSES,{questionId:i.props.question.id.toString()});i.setState({responsesExpanded:!1})},i.EditQuestionClick=function(){i.props.onEditQuestionClick(i.props.question)},i.EditAnswerClick=function(n){i.props.onEditAnswerClick(i.props.question,n)},i.AnswerClick=function(){i.props.onAnswerClick(i.props.question)},i.ReportQuestionClick=function(n,t){i.props.onReportQuestionClick(i.props.question,n,t);event.preventDefault()},i.SeeMoreQuestionTextClicked=function(){i.props.logTelemetry(l.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_READ_MORE_TEXT,{questionId:i.props.question.id.toString()})},i.SeeMoreResponseTextClicked=function(n){i.props.logTelemetry(l.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_READ_MORE_TEXT,{questionId:i.props.question.id.toString(),responseId:n.id.toString()})},r=!0,t.question.responses&&t.question.responses.length>1&&(r=!1),i.state={responsesExpanded:r},i}return __extends(t,n),t.prototype.render=function(){var n=this.props.question,w=this.props.userDetails.getImageUrlForAUser(n.user.id),v=!1,l=[],y,t,a,c,p;if((n.status&r.QnAItemStatus.UserEditable)===r.QnAItemStatus.UserEditable?(n.responses&&n.responses.length===0&&l.push(i.createElement(o.LinkAsButton,{key:"answerButton",onActionInvoked:this.AnswerClick,className:"action-link",text:s.PublisherReplyButtonText})),l.push(i.createElement(o.LinkAsButton,{key:"editQuestionButton",onActionInvoked:this.EditQuestionClick,className:"action-link",text:s.EditButtonText})),v=!0):this.props.publisherDetails.currentUserPublisher&&(n.responses&&n.responses.length===0&&l.push(i.createElement(o.LinkAsButton,{key:"answerButton",onActionInvoked:this.AnswerClick,className:"action-link",text:s.PublisherReplyButtonText})),v=!0),y=i.createElement("div",null),n.responses&&n.responses.length>0){if(t=[],this.state.responsesExpanded){for(a=0;a<n.responses.length;a++)c=n.responses[a],t.push(i.createElement(u.AnswerContent,{qnaItem:c,questionUser:n.user.id,key:c.id,editAnswerClickEvent:this.EditAnswerClick,lastAnswerShowReply:v&&a===n.responses.length-1,answerClickEvent:this.AnswerClick,parentProps:this.props,seeMoreTextClicked:this.SeeMoreResponseTextClicked}));n.responses.length>1&&t.push(i.createElement("div",{key:"seelessanswerslink",className:"seemore-seeless-links"},i.createElement(o.LinkAsButton,{onActionInvoked:this.SeeLessAnswersClicked,text:s.SeeLessAnswersLinkText})))}else c=n.responses[0],t.push(i.createElement(u.AnswerContent,{key:c.id,qnaItem:c,questionUser:n.user.id,editAnswerClickEvent:this.EditAnswerClick,lastAnswerShowReply:v&&1===n.responses.length,answerClickEvent:this.AnswerClick,parentProps:this.props})),n.responses.length>1&&(p=h.format(s.SeeMoreAnswersLinkText,n.responses.length-1),t.push(i.createElement("div",{key:"seemoreanswerslink",className:"seemore-seeless-links"},i.createElement(o.LinkAsButton,{onActionInvoked:this.SeeMoreAnswersClicked,text:p}))));y=i.createElement("div",{className:"ms-Grid"},t)}return i.createElement("div",{className:"ms-Grid-row qna-question-row"},i.createElement("div",{className:"ms-Grid-col ms-u-sm1 qna-user-image-column"},i.createElement("img",{className:"qna-user-image",src:w})),i.createElement("div",{className:"ms-Grid-col ms-u-sm11 user-question-container"},i.createElement("div",{className:!n.responses||n.responses.length===0?h.empty:"qna-question-bottom-margin"},i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"read-more-table-container"},i.createElement(f.ReadMoreContent,{qnaItem:n,publisherDisplayName:this.props.publisherDetails.publisherDisplayName,seeMoreTextClicked:this.SeeMoreQuestionTextClicked})),i.createElement("td",{className:"flag-table-container"},i.createElement(e.FlagControl,{reportQuestionClick:this.ReportQuestionClick,flagIdentifier:"flag-"+n.id}))))),i.createElement("div",{className:l.length===0?h.empty:"action-link-container"},l)),y))},t}(c.Component);t.QnAItemRow=a});
define("Gallery/Client/Scenarios/QnA/Components/QnAContainer",["require","exports","react","VSS/Flux/Component","OfficeFabric/Button","OfficeFabric/Spinner","OfficeFabric/Dialog","../Components/AskQuestionDialog","Gallery/Client/Scenarios/QnA/Components/ReadMoreContent","Gallery/Client/Scenarios/Shared/Components/GalleryGenericErrorMessage","Gallery/Client/Scenarios/QnA/Contracts","Gallery/Client/Scenarios/QnA/Components/QnAItemRow","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Utils/String","Gallery/Client/Common/Telemetry","VSS/LoaderPlugins/Css!QnA/QnAContainer"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=function(n){function t(t){var r=n.call(this,t)||this;return r._onStoreChanged=function(){r.setState({qnaStoreState:r.props.store.state})},r.OnAnswerClick=function(n){if(!r.props.userDetails.loginIfRequired()){var t=function(t){return r._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_CREATE_RESPONSE,{questionId:n.id.toString(),text:t}),r.props.qnaActionCreator.createResponse(n,t,r.props.publisherDetails.publisherName,r.props.publisherDetails.extensionName)};r._showDialog(v.empty,a.YourResponseGoesHereText,v.format(a.YourResponseWillBePostedAsText,r.displayNameForAnswer),a.EnterYourResponseHereText,v.empty,function(){return r.renderQuestion(n,r.props.publisherDetails.publisherDisplayName)},t)}},r.OnEditQuestionClick=function(n){if(!r.props.userDetails.loginIfRequired()){var t=function(t){return r._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_UPDATE_QUESTION,{questionId:n.id.toString(),oldText:n.text,newText:t}),r.props.qnaActionCreator.updateQuestion(n,t,r.props.publisherDetails.publisherName,r.props.publisherDetails.extensionName)};r._showDialog(n.text,a.YourQuestionGoesHereText,v.format(a.YourQuestionWillBePostedAsText,r.props.userDetails.displayName),a.EnterYourQuestionHereText,v.format(a.AskAQuestionDialogHeading,r.props.publisherDetails.extensionDisplayName),null,t)}},r.OnEditAnswerClick=function(n,t){if(!r.props.userDetails.loginIfRequired()){var i=function(i){return r._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_UPDATE_RESPONSE,{questionId:n.id.toString(),responseId:t.id.toString(),oldText:t.text,newText:i}),r.props.qnaActionCreator.updateResponse(n,t,i,r.props.publisherDetails.publisherName,r.props.publisherDetails.extensionName)};r._showDialog(t.text,a.YourResponseGoesHereText,v.format(a.YourResponseWillBePostedAsText,r.displayNameForAnswer),a.EnterYourResponseHereText,v.empty,function(){return r.renderQuestion(n,r.props.publisherDetails.publisherDisplayName)},i)}},r.OnReportQuestionClick=function(n,t,i){r.props.userDetails.loginIfRequired()||(r._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_REPORT_QUESTION,{questionId:n.id.toString(),concernCategory:t.toString(),concernText:i}),r.props.qnaActionCreator.reportQuestion(n,t,i,r.props.publisherDetails.publisherName,r.props.publisherDetails.extensionName))},r.OnAskAQuestionClick=function(n){if(!r.props.userDetails.loginIfRequired()){var t=function(n){return r._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_CREATE_QUESTION,{}),r.props.qnaActionCreator.askAQuestion(n,r.props.publisherDetails.publisherName,r.props.publisherDetails.extensionName)};r._showDialog(v.empty,a.YourQuestionGoesHereText,v.format(a.YourQuestionWillBePostedAsText,r.props.userDetails.displayName),a.EnterYourQuestionHereText,v.format(a.AskAQuestionDialogHeading,r.props.publisherDetails.extensionDisplayName),null,t);n.preventDefault()}},r.OnSeeMoreClick=function(n){r._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_SEE_MORE_QUESTIONS,{currentPageNumber:r.state.qnaStoreState.currentPageNumber.toString()});r.props.qnaActionCreator.fetchNextPage(r.state.qnaStoreState.currentPageNumber,r.props.publisherDetails.publisherName,r.props.publisherDetails.extensionName);n.preventDefault()},r.renderQuestion=function(n,t){var u=r.props.userDetails.getImageUrlForAUser(n.user.id);return i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"user-img"},i.createElement("img",{className:"qna-user-image",src:u})),i.createElement("td",{className:"user-reviews"},i.createElement(s.ReadMoreContent,{publisherDisplayName:t,qnaItem:n})))))},r.showReportQuestionResultDialog=function(){var f=r.props.store.state.reportQuestion&&r.props.store.state.reportQuestion.state===c.FetchState.Loaded,o=r.props.store.state.reportQuestion&&r.props.store.state.reportQuestion.state===c.FetchState.Error,t,n;if(f)return t=a.FeedbackPopupHeaderMessage,n=a.FeedbackPopupContentMessage,i.createElement(e.Dialog,{className:"gallery-dialog",isOpen:!0,type:e.DialogType.normal,onDismiss:function(){r.props.qnaActionCreator.closeReportQuestionDialog()},title:t,subText:n,isBlocking:!1,containerClassName:"QnAReportQuestionResultDialog"},i.createElement(e.DialogFooter,null,i.createElement(u.Button,{onClick:function(){r.props.qnaActionCreator.closeReportQuestionDialog()}},a.AcquireItemWizardOk)));o&&(n=r.props.store.state.reportQuestion.error&&r.props.store.state.reportQuestion.error.message?r.props.store.state.reportQuestion.error.message:a.FeedbackPopupContentErrorMessage,window.alert(n),setTimeout(function(){r.props.qnaActionCreator.closeReportQuestionDialog()},0))},r.state={showDialog:!1,qnaStoreState:r.props.store.state},r}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.store.addChangedListener(this._onStoreChanged);this.props.qnaActionCreator.fetchQnAData(this.props.publisherDetails.publisherName,this.props.publisherDetails.extensionName)},t.prototype.componentWillUnmount=function(){this.props.store.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,t=[],r=!0,e="ask-question-button gallery-primary-button",s;return this.state.qnaStoreState&&this.state.qnaStoreState.questionsResult&&this.state.qnaStoreState.fetchState!=c.FetchState.NotInitiated&&this.state.qnaStoreState.fetchState!=c.FetchState.Loading?this.state.qnaStoreState.fetchState===c.FetchState.Error?t.push(i.createElement("div",{key:"errormessage",className:"qna-noitems-or-error-message"},i.createElement(h.GalleryGenericErrorMessage,null))):this.state.qnaStoreState.questionsResult.questions&&this.state.qnaStoreState.questionsResult.questions.length!==0?(this.state.qnaStoreState.questionsResult.questions.forEach(function(r){t.push(i.createElement(l.QnAItemRow,{question:r,onAnswerClick:n.OnAnswerClick,onEditAnswerClick:n.OnEditAnswerClick,onEditQuestionClick:n.OnEditQuestionClick,onReportQuestionClick:n.OnReportQuestionClick,publisherDetails:n.props.publisherDetails,userDetails:n.props.userDetails,logTelemetry:n._logTelemetry.bind(n),key:r.id}))}),this.state.qnaStoreState.questionsResult.hasMoreQuestions&&t.push(i.createElement("div",{key:"see-more-button",className:"ms-Grid-row"},i.createElement("div",{className:"ms-Grid-col ms-u-sm12 see-more-button"},i.createElement(u.Button,{onClick:this.OnSeeMoreClick},a.SeeMore)))),r=!1):(t.push(i.createElement("div",{key:"errormessage",className:"qna-noitems-or-error-message"},i.createElement("div",{className:"no-questions-found-text"},i.createElement("p",null,a.BeTheFirstToAskAQuestion)))),r=!1):t.push(i.createElement("div",{key:"loading",className:"qna-loading-container"},i.createElement(f.Spinner,{type:f.SpinnerType.large},a.LoadingPricingMessage))),r&&(e+=" disabled"),s={closeDialog:this._closeDialog.bind(this),initialValue:this.state.initialValue,placeholderText:this.state.placeholderText,showDialog:this.state.showDialog,subText:this.state.subText,textAriaLabel:this.state.textAreaLabel,title:this.state.title,successCallback:this.state.successCallback,renderQuestion:this.state.renderQuestion,cancelDialog:this._cancelDialog.bind(this),dismissDialog:this._dismissDialog.bind(this)},i.createElement("div",null,i.createElement("div",{className:"qna-top-container"},i.createElement("div",{className:"ms-Grid qna-container-grid"},i.createElement("div",{className:"ms-Grid-row qna-container-row"},i.createElement("div",{className:"ms-Grid-col ms-u-sm6"},i.createElement("h2",null,a.QnAHeading)),i.createElement("div",{className:"ms-Grid-col ms-u-sm1"},i.createElement(o.AskQuestionDialog,__assign({},s)),this.showReportQuestionResultDialog()),i.createElement("div",{className:"ms-Grid-col ms-u-sm5 ask-question-button-container"},i.createElement(u.Button,{className:e,onClick:this.OnAskAQuestionClick,ariaDescription:"Ask a question",disabled:r},a.AskAQuestionButtonText))),t)))},t.prototype._showDialog=function(n,t,i,r,u,f,e){this.setState({showDialog:!0,initialValue:n,placeholderText:t,subText:i,textAreaLabel:r,title:u,successCallback:e,renderQuestion:f})},t.prototype._closeDialog=function(){this.setState({showDialog:!1})},t.prototype._cancelDialog=function(){this._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_CANCEL_DIALOG_CLICK,{});this._closeDialog()},t.prototype._dismissDialog=function(){this._logTelemetry(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.QnAProperties.QNA_DISMISS_DIALOG_CLICK,{});this._closeDialog()},Object.defineProperty(t.prototype,"displayNameForAnswer",{get:function(){return this.props.publisherDetails.currentUserPublisher?this.props.publisherDetails.publisherDisplayName:this.props.userDetails.displayName},enumerable:!0,configurable:!0}),t.prototype._logTelemetry=function(n,t){y.TelemetryHelper.publishEventAsync(y.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.QNA,__assign({},t,{Event:n,ExtensionName:this.props.publisherDetails.extensionName,PublisherName:this.props.publisherDetails.publisherName,ProductType:this.props.publisherDetails.productType}))},t}(r.Component);t.QnAContainerComponent=p});
define("Gallery/Client/Scenarios/QnA/Sources/QnASource",["require","exports","VSS/Service","VSS/Gallery/RestClient"],function(n,t,i,r){var u=function(){function n(){this._galleryClient=i.getClient(r.GalleryHttpClient)}return n.prototype.fetchQnA=function(t,i){return this._galleryClient.getQuestions(t,i,n.PAGE_SIZE)},n.prototype.askAQuestion=function(n,t,i){return this._galleryClient.createQuestion({text:n},t,i)},n.prototype.updateQuestion=function(n,t,i,r){return this._galleryClient.updateQuestion({text:t},i,r,n.id)},n.prototype.updateResponse=function(n,t,i,r,u){return this._galleryClient.updateResponse({text:i},r,u,n.id,t.id)},n.prototype.createResponse=function(n,t,i,r){return this._galleryClient.createResponse({text:t},i,r,n.id)},n.prototype.fetchNextPage=function(t,i,r){return this._galleryClient.getQuestions(i,r,n.PAGE_SIZE,t+1)},n.prototype.reportQuestion=function(n,t,i,r,u){var f={category:t,text:i};return this._galleryClient.reportQuestion(f,r,u,n.id)},n}();u.PAGE_SIZE=5;t.QnASource=u});
define("Gallery/Client/Scenarios/QnA/Actions/QnAActionCreator",["require","exports","Gallery/Client/Scenarios/QnA/Sources/QnASource","Gallery/Client/Scenarios/QnA/Contracts","q"],function(n,t,i,r,u){var f=function(){function n(n,t){this._qnaActions=n;this._qnaSource=t}return n.prototype.fetchQnAData=function(n,t){var i=this,f=u.defer();return this._qnaActions.changeFetchState.invoke(r.FetchState.Loading),this.qnaSource.fetchQnA(n,t).then(function(n){i._qnaActions.fetchQnA.invoke(n);i._qnaActions.changeFetchState.invoke(r.FetchState.Loaded);f.resolve(null)},function(n){f.reject(n);i._qnaActions.changeFetchState.invoke(r.FetchState.Error)}),f.promise},n.prototype.askAQuestion=function(n,t,i){var f=this,r=u.defer();return this.qnaSource.askAQuestion(n,t,i).then(function(n){f._qnaActions.askAQuestion.invoke(n);r.resolve(null)},function(n){r.reject(n)}),r.promise},n.prototype.updateQuestion=function(n,t,i,r){var e=this,f=u.defer();return this.qnaSource.updateQuestion(n,t,i,r).then(function(n){e._qnaActions.editQuestion.invoke(n);f.resolve(null)},function(n){f.reject(n)}),f.promise},n.prototype.updateResponse=function(n,t,i,r,f){var o=this,e=u.defer();return this.qnaSource.updateResponse(n,t,i,r,f).then(function(t){o._qnaActions.editAnswer.invoke({question:n,response:t});e.resolve(null)},function(n){e.reject(n)}),e.promise},n.prototype.createResponse=function(n,t,i,r){var e=this,f=u.defer();return this.qnaSource.createResponse(n,t,i,r).then(function(t){e._qnaActions.replyThread.invoke({question:n,response:t});f.resolve(null)},function(n){f.reject(n)}),f.promise},n.prototype.fetchNextPage=function(n,t,i){var f=this,r=u.defer();return this.qnaSource.fetchNextPage(n,t,i).then(function(n){f._qnaActions.fetchNextPage.invoke(n);r.resolve(null)},function(n){r.reject(n)}),r.promise},n.prototype.reportQuestion=function(n,t,i,u,f){var e=this;this._qnaActions.changeReportQuestionState.invoke({state:r.FetchState.Loading,error:undefined});this.qnaSource.reportQuestion(n,t,i,u,f).then(function(n){e._qnaActions.reportQuestion.invoke(n)},function(n){e._qnaActions.changeReportQuestionState.invoke({state:r.FetchState.Error,error:n})})},n.prototype.closeReportQuestionDialog=function(){this._qnaActions.changeReportQuestionState.invoke({state:r.FetchState.NotInitiated,error:undefined})},Object.defineProperty(n.prototype,"qnaSource",{get:function(){return this._qnaSource||(this._qnaSource=new i.QnASource),this._qnaSource},enumerable:!0,configurable:!0}),n}();t.QnAActionCreator=f});
define("VSS/Flux/Action",["require","exports"],function(n,t){var i=function(){function n(){this._listeners=[]}return n.prototype.invoke=function(t){if(n.executing)throw new Error("Cannot invoke an action from inside another action.");n.executing=!0;try{this._listeners.forEach(function(n){n(t)})}finally{n.executing=!1}},n.prototype.addListener=function(n,t){var i=t?n.bind(t):n;return this._listeners.push(i),i},n.prototype.removeListener=function(n){var t=this._listeners.indexOf(n);t>=0&&this._listeners.splice(t,1)},n}();i.executing=!1;t.Action=i});
define("Gallery/Client/Scenarios/QnA/Actions/QnAActions",["require","exports","VSS/Flux/Action"],function(n,t,i){var r=function(){function n(){this.fetchQnA=new i.Action;this.changeFetchState=new i.Action;this.askAQuestion=new i.Action;this.editQuestion=new i.Action;this.editAnswer=new i.Action;this.replyThread=new i.Action;this.fetchNextPage=new i.Action;this.reportQuestion=new i.Action;this.changeReportQuestionState=new i.Action}return n}();t.QnAActions=r});
define("VSS/Flux/Store",["require","exports","VSS/Events/Handlers"],function(n,t,i){var r=function(){function n(){this._changedHandlers=new i.EventHandlerList;this._namedEventCollection=new i.NamedEventCollection}return n.prototype.addChangedListener=function(n){this._changedHandlers.subscribe(n)},n.prototype.removeChangedListener=function(n){this._changedHandlers.unsubscribe(n)},n.prototype.emitChanged=function(){this._changedHandlers.invokeHandlers(this)},n.prototype.emit=function(n,t,i){this._namedEventCollection.invokeHandlers(n,t,i)},n.prototype.addListener=function(n,t){this._namedEventCollection.subscribe(n,t)},n.prototype.removeListener=function(n,t){this._namedEventCollection.unsubscribe(n,t)},n}(),u,f;t.Store=r;u=function(n){function t(){var t=n.call(this)||this,i=t.getAction();return i!==null&&i.addListener(t.onChange,t),t}return __extends(t,n),t.prototype.getAction=function(){return null},t.prototype.onChange=function(n){this._value=n;this.emitChanged()},t.prototype.getValue=function(){return this._value},t}(r);t.DefaultStore=u;f=function(n){function t(){var t=n.call(this)||this;return t._loading=!0,t._error=null,t}return __extends(t,n),t.prototype.isLoading=function(){return this._loading},t.prototype.hasError=function(){return this._error!==null},t.prototype.getError=function(){return this._error},t.prototype.onError=function(n){this._error=n;this.emitChanged()},t}(r);t.RemoteStore=f});
define("Gallery/Client/Scenarios/QnA/Stores/QnAStore",["require","exports","VSS/Flux/Store","Gallery/Client/Scenarios/QnA/Contracts"],function(n,t,i,r){var u=function(n){function t(){var t=n.call(this)||this;return t._state={},t._state={},t}return __extends(t,n),t.prototype.onFetchQnA=function(n){this.state.questionsResult=n;this.state.currentPageNumber=1;this.emitChanged()},t.prototype.onChangeFetchState=function(n){this.state.fetchState=n;this.emitChanged()},t.prototype.onAskAQuestion=function(n){var t={createdDate:n.createdDate,id:n.id,status:n.status,text:n.text,updatedDate:n.updatedDate,user:n.user,responses:[]};this.state.questionsResult.questions.unshift(t);this.emitChanged()},t.prototype.onEditQuestion=function(n){this.state.questionsResult.questions.forEach(function(t){t.id===n.id&&(t.text=n.text,t.updatedDate=n.updatedDate)});this.emitChanged()},t.prototype.onEditAnswer=function(n){this.state.questionsResult.questions.forEach(function(t){t.id===n.question.id&&t.responses.forEach(function(t){t.id===n.response.id&&(t.text=n.response.text,t.updatedDate=n.response.updatedDate)})});this.emitChanged()},t.prototype.onReplyThread=function(n){this.state.questionsResult.questions.forEach(function(t){t.id===n.question.id&&t.responses.push(n.response)});this.emitChanged()},t.prototype.onFetchNextPage=function(n){var t=this;this.state.questionsResult.hasMoreQuestions=n.hasMoreQuestions;this.state.currentPageNumber++;n.questions.forEach(function(n){return t.state.questionsResult.questions.push(n)});this.emitChanged()},t.prototype.onReportQuestion=function(n){this.state.reportQuestion||(this.state.reportQuestion={});this.state.reportQuestion.concern=n;this.state.reportQuestion.state=r.FetchState.Loaded;this.emitChanged()},t.prototype.onChangeReportQuestionState=function(n){this.state.reportQuestion||(this.state.reportQuestion={});this.state.reportQuestion.state=n.state;this.state.reportQuestion.error=n.error;n.state!==r.FetchState.Loaded&&(this.state.reportQuestion.concern=null);this.emitChanged()},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t}(i.Store);t.QnAStore=u});
define("Gallery/Client/Scenarios/QnA/Stores/QnAStoreHub",["require","exports","Gallery/Client/Scenarios/QnA/Stores/QnAStore"],function(n,t,i){var r=function(){function n(n){var t=this;n.askAQuestion.addListener(function(n){return t.qnaStore.onAskAQuestion(n)});n.changeFetchState.addListener(function(n){return t.qnaStore.onChangeFetchState(n)});n.editAnswer.addListener(function(n){return t.qnaStore.onEditAnswer(n)});n.editQuestion.addListener(function(n){return t.qnaStore.onEditQuestion(n)});n.fetchQnA.addListener(function(n){return t.qnaStore.onFetchQnA(n)});n.replyThread.addListener(function(n){return t.qnaStore.onReplyThread(n)});n.fetchNextPage.addListener(function(n){return t.qnaStore.onFetchNextPage(n)});n.reportQuestion.addListener(function(n){return t.qnaStore.onReportQuestion(n)});n.changeReportQuestionState.addListener(function(n){return t.qnaStore.onChangeReportQuestionState(n)})}return Object.defineProperty(n.prototype,"qnaStore",{get:function(){return this._qnaStore||(this._qnaStore=new i.QnAStore),this._qnaStore},enumerable:!0,configurable:!0}),n}();t.QnAStoreHub=r});
define("Gallery/Client/Controls/Badges/Badges.ViewModel",["require","exports","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Service/VSSItem","VSS/Adapters/Knockout"],function(n,t,i,r,u,f){var e=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ExternalMetadataProperties,o=function(n){function t(t){var i=n.call(this)||this;return i._item=t.item,i._koBadges=i._item.badges,i._initialize(),i}return __extends(t,n),t.prototype._initialize=function(){},t.prototype._logExternalMetaDataTelemetry=function(n,t){t===void 0&&(t=!1);var f={};return f[e.Id]=u.ItemModelHelper.getFullyQualifiedNameForItem(this._item.publisherName,this._item.name),f[e.LinkType]=n,f[e.ProductType]=u.ItemModelHelper.getItemTypeText(this._item.itemType),t&&(f[e.IsBadge]="true"),r.TelemetryHelper.publishEvent(i.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.EXTERNALMETADATA,f),!0},t}(f.TemplateViewModel);t.BadgesViewModel=o});
define("Gallery/Client/Common/ItemDetailsTelemetry",["require","exports","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Service/Item","Gallery/Client/Service/VSSItem"],function(n,t,i,r,u,f){var e=i.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ItemDetailsProperties,o=function(){function n(){}return n.publishItemDetailsTelemetryEvent=function(n,t){var i={};i[e.Id]=f.ItemModelHelper.getFullyQualifiedNameForItem(t.publisherName,t.name);i[e.ProductType]=f.ItemModelHelper.getItemTypeText(t.itemType);i[e.PriceCategory]=u.priceCategory[t.priceCategory];i[e.IsPublic]=t.isPublic;r.TelemetryHelper.publishEvent(n,i)},n}();t.ItemDetailsTelemetry=o});
define("Gallery/Client/Controls/VSSItemDownload/VSSItemDownload.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/URLHelper","VSS/Diag","VSS/Adapters/Knockout","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var s=function(n){function t(t){var u=n.call(this)||this;return u._startDownload=i.observable(!1),u._downloadLink=i.observable(""),u._managePageExampleUrlString="("+r.ForExample+", http://someserver:8080/tfs/_gallery/manage)",u._item=t.item,t.postDownloadCallback&&(u._postDownloadCallback=t.postDownloadCallback),u._vssGallery=t.vssGalleryProvider,u._initialize(t.startDownloadOnInit),u}return __extends(t,n),t.prototype._initialize=function(n){this._downloadLink(u.GalleryURLs.getPackageDownloadURL(this._item.publisherName,this._item.name,this._item.version));n?this.initiateDownload():this.resetDownload();this._downloadStarted=r.DownloadStartedMessage;this._instructionSetTitleHtml=o.format(r.DownloadInstructionsTitle,this._item.title);this._instructionNavigateToServerString=r.PostDownload_NavigateToServer;this._instructionUploadFileHtml=o.format(r.PostDownload_UploadExtension,"<strong>"+r.Publisher_View_UploadActionText+"<\/strong>");this._instructionInstallHtml=o.format(r.PostDownload_InstallExtension,"<strong>"+r.ItemInstall+"<\/strong>")},t.prototype.initiateDownload=function(){this.resetDownload();this._startDownload(!0);this._postDownloadCallback&&this._postDownloadCallback()},t.prototype.resetDownload=function(){this._startDownload(!1)},t}(e.TemplateViewModel);t.VssItemDownloadViewModel=s});
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
(function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=replace(block.item,"gm")(/bull/g,block.bullet)();block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")();block.blockquote=replace(block.blockquote)("def",block.def)();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)();block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")();block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,true)};Lexer.prototype.token=function(src,top,bq){var src=src.replace(/^ +$/gm,""),next,loose,cap,bull,b,item,space,i,l;while(src){if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(cap[0].length>1){this.tokens.push({type:"space"})}}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");this.token(cap,top,true);this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];this.tokens.push({type:"list_start",ordered:bull.length>1});cap=cap[0].match(this.rules.item);next=false;l=cap.length;i=0;for(;i<l;i++){item=cap[i];space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(bull.length>1&&b.length>1)){src=cap.slice(i+1).join("\n")+src;i=l-1}}loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next=item.charAt(item.length-1)==="\n";if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});this.token(item,false,bq);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:cap[1]==="pre"||cap[1]==="script"||cap[1]==="style",text:cap[0]});continue}if(!bq&&top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};continue}if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:cap[1].charAt(cap[1].length-1)==="\n"?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)();inline.reflink=replace(inline.reflink)("inside",inline._inside)();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()});inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()});function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}}InlineLexer.rules=inline;InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if(cap[2]==="@"){text=cap[1].charAt(6)===":"?this.mangle(cap[1].substring(7)):this.mangle(cap[1]);href=this.mangle("mailto:")+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){src=src.substring(cap[0].length);text=escape(cap[1]);href=text;out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=false}src=src.substring(cap[0].length);out+=this.options.sanitize?escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=true;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=false;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=true;out+=this.outputLink(cap,link);this.inLink=false;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2],true));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=escape(this.smartypants(cap[0]));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return cap[0].charAt(0)!=="!"?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text.replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")};InlineLexer.prototype.mangle=function(text){var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(Math.random()>.5){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};function Renderer(options){this.options=options||{}}Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(out!=null&&out!==code){escaped=true;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+escape(lang,true)+'">'+(escaped?code:escape(code,true))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";var tag=flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"};Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(prot.indexOf("javascript:")===0){return""}}var out='<a href="'+href+'"';if(title){out+=' title="'+title+'"'}out+=">"+text+"</a>";return out};Renderer.prototype.image=function(href,title,text){var out='<img src="'+href+'" alt="'+text+'"';if(title){out+=' title="'+title+'"'}out+=this.options.xhtml?"/>":">";return out};function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}Parser.parse=function(src,options,renderer){var parser=new Parser(options,renderer);return parser.parse(src)};Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer);this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};Parser.prototype.next=function(){return this.token=this.tokens.pop()};Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};Parser.prototype.parseText=function(){var body=this.token.text;while(this.peek().type==="text"){body+="\n"+this.next().text}return this.inline.output(body)};Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,flags,j;cell="";for(i=0;i<this.token.header.length;i++){flags={header:true,align:this.token.align[i]};cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:true,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:false,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{var body="";while(this.next().type!=="blockquote_end"){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{var body="",ordered=this.token.ordered;while(this.next().type!=="list_end"){body+=this.tok()}return this.renderer.list(body,ordered)}case"list_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&([#\w]+);/g,function(_,n){n=n.toLowerCase();if(n==="colon")return":";if(n.charAt(0)==="#"){return n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1))}return""})}function replace(regex,opt){regex=regex.source;opt=opt||"";return function self(name,val){if(!name)return new RegExp(regex,opt);val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return self}}function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}function marked(src,opt,callback){if(callback||typeof opt==="function"){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||highlight.length<3){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if(token.type!=="code"){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(code==null||code===token.text){return--pending||done()}token.text=code;token.escaped=true;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/chjj/marked.";if((opt||marked.defaults).silent){return"<p>An error occured:</p><pre>"+escape(e.message+"",true)+"</pre>"}throw e}}marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new Renderer,xhtml:false};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=marked}else if(typeof define==="function"&&define.amd){define("Gallery/Client/3rdParty/marked",function(){return marked})}else{this.marked=marked}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());
// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Html",["require","exports","VSS/Diag","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u){var f,s,l,y;(function(n){function o(n,t){if($.isArray(t))for(var i=0;i<t.length;i++)n[t[i].toUpperCase()]=0}function k(n){o(h,n)}function t(n,t,i,u){var f={attributes:{},eolBefore:t,eolAfter:i};r[n.toUpperCase()]=f;o(f.attributes,u)}function v(n){if($.isArray(n))for(var i=0;i<n.length;i++)t(n[i],!1,!1)}function d(n){if($.isArray(n))for(var t=0;t<n.length;t++)s[n[t].toUpperCase()]=0}function a(){r||(r={},t("a",!1,!1,["charset","href","hreflang","name","rel","rev","shape","tabindex","type"]),t("blockquote",!0,!0,["cite"]),t("br",!1,!0,["clear"]),t("caption",!0,!0,["align"]),t("col",!0,!0,["align","char","charoff","span","valign","width"]),t("colgroup",!0,!0,["align","char","charoff","span","valign","width"]),t("del",!1,!1,["cite","datetime"]),t("dir",!0,!0,["compact"]),t("div",!0,!0,["align"]),t("dl",!0,!0,["compact"]),t("font",!1,!1,["color","face","size"]),t("h1",!0,!0,["align"]),t("h2",!0,!0,["align"]),t("h3",!0,!0,["align"]),t("h4",!0,!0,["align"]),t("h5",!0,!0,["align"]),t("h6",!0,!0,["align"]),t("hr",!0,!0,["align","size","width"]),t("img",!1,!1,["align","alt","border","height","hspace","ismap","longdesc","name","src","usemap","vspace","width","alt2","src2"]),t("video",!0,!0,["border","height","src","width","controls","poster","muted","loop"]),t("ins",!1,!1,["cite","datetime"]),t("li",!0,!0,["type","value"]),t("map",!1,!1,["name"]),t("menu",!0,!0,["compact"]),t("ol",!0,!0,["compact","start","type"]),t("p",!0,!0,["align"]),t("pre",!0,!0,["width"]),t("q",!1,!1,["cite"]),t("table",!0,!0,["align","border","cellpadding","cellspacing","frame","rules","summary","width","caption"]),t("tbody",!1,!1,["align","char","charoff","valign"]),t("td",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("tfoot",!0,!0,["align","char","charoff","valign"]),t("th",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("thead",!0,!0,["align","char","charoff","valign"]),t("tr",!0,!0,["align","char","charoff","valign"]),t("ul",!0,!0,["compact","type"]),t("dd",!0,!0,[]),t("dt",!0,!0,[]),v(["abbr","acronym","address","b","bdo","big","center","cite","code","dfn","em","i"]),v(["kbd","s","samp","small","span","strike","strong","sub","sup","tt","u","var"]))}function y(){var i,r,n,t,u,e;if(!f){for(f={},i=["b","i","u","em","small","strong","sub","sup","ins","del","mark","font","code","pre","h1","h2","h3","h4","h5","h6","strike","ul","ol","dl","table","tbody","colgroup","col","tfoot","thead"],r={li:{tagToReplace:"p"},dt:{tagToReplace:"p"},dd:{tagToReplace:"p"},tr:{tagToReplace:"div"},th:{tagToReplace:"span",afterTagText:" "},td:{tagToReplace:"span",afterTagText:" "}},n=0;n<i.length;n++)f[i[n].toUpperCase()]={tagToReplace:""};for(t=0,u=Object.keys(r);t<u.length;t++)e=u[t],f[e.toUpperCase()]=r[e]}}function g(){s||(s={},d(["script","style","option","select","textarea"]))}function nt(){h||(h={},k(["dir","lang","title","style","id","class","contenteditable"]))}function tt(){e||(e={},o(e,["src","href","cite","longdesc"]),o(e,["background-image","list-style-image"]))}function it(){c||(c={},c.DATA=function(n,t,i){return n&&n.toUpperCase()==="IMG"&&t&&t.toUpperCase()==="SRC"?i.toUpperCase().search("DATA:IMAGE/\\w+;")===0:!1})}function rt(){l||(l={},o(l,["background","background-attachment","background-color","background-image","background-position","background-repeat","border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-style","border-top-width","border-width","caption-side","clear","color","float","font","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","padding","padding-bottom","padding-left","padding-right","padding-top","table-layout","text-align","text-decoration","text-indent","text-transform","vertical-align","white-space","width","word-spacing"]))}function ut(n,t){return n&&t?n.toUpperCase()===t.toUpperCase():!1}function ft(n){return n?(a(),n.toUpperCase()in r):!1}function et(n){return p(n,!0)}function ot(n){return p(n,!1)}function p(n,t){if(n){a();var i=n.toUpperCase();if(i in r)return t?r[i].eolBefore:r[i].eolAfter}return!1}function st(n){if(n){y();var t=f[n.toUpperCase()];if(t!==undefined&&t.tagToReplace!=null&&t.tagToReplace.length===0)return!0}return!1}function ht(n){if(n){y();var t=f[n.toUpperCase()];if(t&&t.tagToReplace&&t.tagToReplace.length>0)return t}return null}function ct(n){return n?(g(),n.toUpperCase()in s):!1}function lt(n,t,i,u){var f,e;if(t){if(nt(),f=t.toUpperCase(),i&&u&&f in i&&f in u)throw new Error(f+" is specified in additionalInvalidAttributes and additionalValidAttributes. Attributes may only appear in either the whitelist or blacklist.");if(u&&f in u)return!0;if(f in h)return i&&f in i?!1:!0;if(n&&(a(),e=r[n.toUpperCase()],e))return f in e.attributes}return!1}function w(n){return n&&(tt(),n.toUpperCase()in e)?!0:!1}function b(n,t,i){var r,f,e;return(f=i.indexOf(":"),f<0||u.isSafeProtocol(i))?!0:(it(),e=i.substr(0,f),r=c[e.toUpperCase()],$.isFunction(r)&&r(n,t,i)===!0)?!0:!1}function at(n){return n&&(rt(),n.toUpperCase()in l)?!0:!1}function vt(n){var t=n;return t?(t=t.replace("&","&amp;"),t=t.replace('"',"&quot;"),t=t.replace(">","&gt;"),t.replace("<","&lt;")):""}function yt(n,t,i){i=i||'"';var r=$("<div bogusAttribute="+i+t+i+">");return r.attr("bogusAttribute")}function pt(n,t){var f=[],i,r,u;return $.each(t.split(";")||[],function(t,u){u=$.trim(u);u&&(i=u.split(":",2),r=$.trim(i[0]),i.length===2&&at(r)&&(!w(r)||b(n,r,$.trim(i[1])))&&f.push(u))}),u=f.join(";"),u?'style="'+vt(u)+'"':""}function wt(n,t){if(n&&t)try{var r=decodeURIComponent(t),u=encodeURI(r);return n.replace(t,u)}catch(f){return n.replace(t,"Invalid uri value")}return n}function bt(n,t,i,r,u,f){var e;return w(t)?(e=i.substr(r,u),b(n,t,$.trim(yt(t,e,f)))?wt(i,e):""):t.toUpperCase()==="STYLE"?pt(n,i.substr(r,u)):i}var r,s,h,e,c,l,f;n.areTagsEqual=ut;n.isAllowedTag=ft;n.shouldAddEolBeforeTag=et;n.shouldAddEolAfterTag=ot;n.isFormattingRemovalTag=st;n.getFormattingReplacementTag=ht;n.isSpecialTag=ct;n.isAllowedAttribute=lt;n.cleanAttribute=bt})(f||(f={})),function(n){function s(n){return n>="0"&&n<="9"||n>="A"&&n<="Z"||n>="a"&&n<="z"?!0:!1}function i(n,t){u.lastIndex=t;var i=u.exec(n);return i?i.index:n.length}function h(n,t){e.lastIndex=t;var i=e.exec(n);return i?i.index:n.length}function t(n,t,i){var r=n.indexOf(i,t);return r>=0?r+i.length:n.length}function r(n,t){o.lastIndex=t;var i=o.exec(n);return i?{offset:i.index,name:n.substr(t,i.index-t)}:{offset:n.length,name:n.substr(t,n.length-t)}}function c(n,u,e,o,c,l){var v,a,k,y,d,it,g,p,w,ft,rt,nt,ut,tt,b;for(e===void 0&&(e=!1),o===void 0&&(o=null),c===void 0&&(c=null),l===void 0&&(l=!1),v=n.length,a=0;a<v;){if(y=a,a=n.indexOf("<",a),a<0&&(a=v),a>y){u.writeText(n,y,a-y);continue}if(y=a++,k=n.charAt(a),a<v&&k==="!"){if(a++,a+1<v&&n.substr(a,2)==="--"){a+=2;a=t(n,a,"-->");continue}if(a+6<v&&n.substr(a,7)==="[CDATA["){a+=7;a=t(n,a,"]\]>");continue}a=t(n,a,">");continue}if(a<v&&k==="?"){a++;a=t(n,a,">");continue}if(g=!1,a<v&&k==="/"&&(g=!0,a++),a=i(n,a),p=r(n,a),a=p.offset,w=p.name,f.isSpecialTag(w)){for(a=t(n,a,">");a<v;)if(a=t(n,a,"<"),a+2<v&&n.substr(a,3)==="!--")a=t(n,a,"-->");else if(a<v&&n.charAt(a)==="/"){if(a++,a=i(n,a),p=r(n,a),a=p.offset,ft=p.name,f.areTagsEqual(w,ft)){a=t(n,a,">");break}}else a<v&&a++;continue}if(!f.isAllowedTag(w)||l&&f.isFormattingRemovalTag(w))if(e){u.writeEncodedText(n,y,a-y);continue}else{a=t(n,a,">");continue}if(tt=w,b=null,l&&(b=f.getFormattingReplacementTag(w),b&&b.tagToReplace.length!==0)){tt=b.tagToReplace;a=t(n,a,">");u.writeTag(n,y,tt,g);g&&b.afterTagText!=null&&b.afterTagText.length>0&&u.writeText(b.afterTagText,0,b.afterTagText.length);continue}for(u.writeTag(n,y,tt,g);a<v;){if(y=a,a=i(n,a),a<v&&n.charAt(a)==="/"&&a++,a<v&&n.charAt(a)===">"){a++;u.writeEndOfTag(n,y,a-y,tt);break}if(a<v&&s(n.charAt(a))){if(p=r(n,a),a=p.offset,rt=p.name,a=i(n,a),d=0,it=0,a<v&&n.charAt(a)==="=")if(a++,a=i(n,a),d=a,k=n.charAt(a),nt=null,a<v&&(k==="'"||k==='"')){for(nt=k,a++,d=a;a<v&&n.charAt(a)!==nt;)a++;it=a;a<v&&n.charAt(a)===nt&&a++}else a=h(n,a),it=a;f.isAllowedAttribute(w,rt,o,c)&&(ut=f.cleanAttribute(w,rt,n.substr(y,a-y),d-y,it-d,nt),ut&&u.writeAttribute(ut));continue}a<v&&n.charAt(a)!==">"&&a++}}}var u=/\S/g,e=/[\s|>]/g,o=/[^\w\:\-]/g;n.parse=c}(s||(s={}));var o=function(){function n(n){this.text=n}return n.prototype.render=function(n){n.append(this.text)},n}(),e=function(){function n(n,t){this.tag=n.toUpperCase();this.root=t===!0}return n._getEmptyTags=function(){if(!n._emptyTags){var t={};t.AREA=!0;t.BASE=!0;t.BASEFONT=!0;t.BGSOUND=!0;t.BR=!0;t.COL=!0;t.EMBED=!0;t.FRAME=!0;t.HR=!0;t.IMG=!0;t.INPUT=!0;t.ISINDEX=!0;t.LINK=!0;t.META=!0;t.PARAM=!0;t.WBR=!0;t.IFRAME=!1;t.MARQUEE=!1;n._emptyTags=t}return n._emptyTags},n.hasEndTag=function(n){var t=this._getEmptyTags(),i=!0;return n in t&&(i=!t[n]),i},n.canTagHaveChild=function(n){var t=this._getEmptyTags();return!(n in t)},n.prototype.getChildren=function(){return this._children||(this._children=[]),this._children},n.prototype.getAttributes=function(){return this._attributes||(this._attributes=[]),this._attributes},n.prototype.getHasClosingTag=function(){return this.empty===!0?!1:n.hasEndTag(this.tag)},n.prototype.getCanHaveChildren=function(){return this.tagClosed===!0?!1:n.canTagHaveChild(this.tag)},n.prototype.render=function(n){var t,i,u,r,f=!1;if(this.tag)for(n.append("<"),n.append(this.tag),u=this.getAttributes(),t=0,i=u.length;t<i;t++)n.append(" "),n.append($.trim(u[t]));if(r=this.getChildren(),r.length>0)for(f=!0,this.tag&&n.append(">"),t=0,i=r.length;t<i;t++)r[t].render(n);this.tag&&(f?(n.append("<\/"),n.append(this.tag),n.append(">")):this.getHasClosingTag()?(n.append("><\/"),n.append(this.tag),n.append(">")):n.append("/>"))},n}(),a=function(){function n(){this._strings=[]}return n.prototype.append=function(n){var t=this._strings;return n&&(t[t.length]=n),this},n.prototype.clear=function(){return this._strings=[],this},n.prototype.toString=function(){return this._strings.join("")},n}(),v=function(){function n(){this._textAccumulator="";this._lastWriteWasEol=!0}return n.prototype.writeText=function(n,t,i){this._textAccumulator+=n.substr(t,i);this._lastWriteWasEol=!1},n.prototype.writeEncodedText=function(n,t,i){this._textAccumulator+=r.htmlEncode(n.substr(t,i));this._lastWriteWasEol=!1},n.prototype.writeTag=function(n,t,i,r){var u=i.toUpperCase();(r?f.shouldAddEolAfterTag(i):f.shouldAddEolBeforeTag(i))&&this._writeEols()},n.prototype.writeEndOfTag=function(){},n.prototype.writeAttribute=function(){},n.prototype.finish=function(){},n.prototype.toString=function(){return this._textAccumulator.replace("\u00a0\r\n","\r\n").trim()},n.prototype._writeEols=function(){this._lastWriteWasEol||(this._textAccumulator+="\r\n",this._lastWriteWasEol=!0)},n}(),h=function(){function n(){this.root=new e("",!0);this.elements=[]}return n.prototype.writeText=function(n,t,i){var r=this.elements;r[r.length]=new o(n.substr(t,i))},n.prototype.writeEncodedText=function(n,t,i){var u=this.elements;u[u.length]=new o(r.htmlEncode(n.substr(t,i)))},n.prototype.writeTag=function(n,t,i,r){var u,h,c=this.elements,s,f,l=i.toUpperCase();if(r===!0){for(f=[];c.length>0;)if(h=c.pop(),h instanceof o)f[f.length]=h;else if(u=h,u.tag!==l||u.tagClosed){if(u.getCanHaveChildren())for(s=h.getChildren();f.length>0;)s[s.length]=f.pop();f[f.length]=u;u=null}else break;for(u||(u=new e(i)),s=u.getChildren();f.length>0;)s[s.length]=f.pop()}else u=new e(i);u.tagClosed=r;c[c.length]=u},n.prototype.writeEndOfTag=function(n,t,i,r){var u,f,o=this.elements,s=r.toUpperCase();i>1&&(f=n.substr(t,i),f.charAt(f.length-2)==="/"&&o.length>0&&(u=o[o.length-1],u instanceof e&&u.tag===s&&(u.empty=!0,u.tagClosed=!0)))},n.prototype.writeAttribute=function(n){var t,i=this.elements;i.length>0&&(t=i[i.length-1],t instanceof e&&t.getAttributes().push(n))},n.prototype.finish=function(){for(var t,u=this.elements,f=this.root,n=[],i,r;u.length>0;)if(t=u.pop(),t instanceof o)n[n.length]=t;else{if(t.getCanHaveChildren())for(i=t.getChildren();n.length>0;)i[i.length]=n.pop();n[n.length]=t}for(r=f.getChildren();n.length>0;)r[r.length]=n.pop()},n.prototype.toString=function(){var n=new a;return this.root.render(n),n.toString()},n}(),c;(function(n){function i(t){return n.normalizeStripAttributes(t,null)}function r(n,i,r){var o=new h,e=null,u,f;if(i)for(e={},u=0;u<i.length;u++)e[i[u].toUpperCase()]=0;return f=null,r&&(f={},r.forEach(function(n){f[n.toUpperCase()]=0})),t(n,o,!1,e,f)}function u(n){var i=new h;return t(n,i,!1,{CLASS:0,STYLE:0},null,!0)}function f(n){var i=new h;return t(n,i,!0)}function e(n){var i=new v;return t(n,i,!0)}function t(n,t,i,r,u,f){return i===void 0&&(i=!1),r===void 0&&(r=null),u===void 0&&(u=null),f===void 0&&(f=!1),s.parse(n,t,i,r,u,f),t.finish(),t.toString()}n.normalize=i;n.normalizeStripAttributes=r;n.removeFormatting=u;n.sanitize=f;n.convertToPlainText=e})(c=t.HtmlNormalizer||(t.HtmlNormalizer={}));l=function(){function n(){}return n._replaceSimpleTemplateTokens=function(t,i){for(var r=t,e=/\$\{([^\$\}]+)\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getEncodedTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceUnencodedTemplateTokens=function(t,i){for(var r=t,e=/\{\{html ([^\$\}]+)\}\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceForEachTemplateTokens=function(t,i){for(var f=t,a=/\{\{each \s*([^ \}]+)\}\}((?:.|\r|\n)*)\{\{\/each\}\}/ig,c=/\$\{\$value(?:\.([^\}]+))?\}/ig,r,v,y,e,o,s,p,l,u,h,w;(r=a.exec(f))!==null;){if(v=r[1],y=r[2],e="",o=n._getPropertyValue(i,v),$.isArray(o))for(h=0,w=o.length;h<w;h+=1){for(u=y,c.lastIndex=0;(s=c.exec(u))!==null;)p=s[1],l=n._getEncodedTextPropertyValue(o[h],p),u=n._replaceMatch(u,s,l),c.lastIndex=s.index+l.length;e+=u}f=n._replaceMatch(f,r,e);a.lastIndex=r.index+e.length}return f},n._replaceMatch=function(n,t,i){return n.substring(0,t.index)+i+n.substring(t.index+t[0].length)},n._getEncodedTextPropertyValue=function(t,i){var u=n._getPropertyValue(t,i);return u===undefined?"":r.htmlEncode(u.toString())},n._getTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":r.toString()},n._getPropertyValue=function(n,t){if(t===undefined||t.length===0)return n;for(var r=t.split("."),i=n;r.length>0&&i!==undefined;)i=i[r.shift()];return i},n.tmpl=function(t,i){var r=t;return r=n._replaceSimpleTemplateTokens(r,i),r=n._replaceUnencodedTemplateTokens(r,i),n._replaceForEachTemplateTokens(r,i)},n}();t.TemplateEngine=l,function(n){function t(t){if(t===null||t===undefined)return!0;if(t.length>=n.ISEMPTY_MINIMAL_CONTENT_LENGTH)return!1;var i=c.removeFormatting(t);return i===""||i==="<BR>"||i==="<BR/>"||i==="<P>&nbsp;<\/P>"||i==="<BR>\r\n"||i==="<BR>\r\n"||i==="<DIV><BR/><\/DIV>"||i==="<DIV><DIV><BR/><\/DIV><\/DIV>"}n.ISEMPTY_MINIMAL_CONTENT_LENGTH=500;n.isEmpty=t}(y=t.Utils||(t.Utils={}))});
define("Gallery/Client/Common/MarkedHelper",["require","exports","Gallery/Client/3rdParty/marked","Gallery/Client/Service/VSSItem","VSS/Utils/Html","VSS/Utils/String"],function(n,t,i,r,u,f){var e=function(){function n(){}return n.initializeMarkedOptions=function(n,t){var e;return e={gfm:r.ItemModelHelper.isGitHubFlavoredMarkdownEnabled(t),tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1},e.renderer=new i.Renderer,e.renderer._image=e.renderer.image,e.renderer.image=function(i,u,f){var o=r.ItemModelHelper.getItemAssetSourceURL(n,t,i);return e.renderer._image(o,u,f)},e.renderer._link=e.renderer.link,e.renderer.link=function(i,o,s){var c=u.HtmlNormalizer.normalize(i),l=f.htmlDecode(c),h;return f.ignoreCaseComparer(l.substr(0,7),"mailto:")===0?e.renderer._link(i,o,s):(h=r.ItemModelHelper.getItemAssetSourceURL(n,t,i),e.renderer._link(h,o,s))},e},n.initializeMarkdownItOptions=function(n,t){return{breaks:!0,html:!0,imageUrlTransformer:function(i){return r.ItemModelHelper.getItemAssetSourceURL(n,t,i)},linkTransformer:function(i){return f.ignoreCaseComparer(i.substr(0,7),"mailto:")===0?i:r.ItemModelHelper.getItemAssetSourceURL(n,t,i)}}},n}();t.MarkedHelper=e});
define("Gallery/Client/Controls/MetaDataList/MetaDataList.ViewModel",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(t){var i=n.call(this)||this;return t&&(i.metaDataListGroups=t.metaDataListGroups),i}return __extends(t,n),t}(i.TemplateViewModel);t.MetaDataListViewModel=r});
define("Gallery/Client/Controls/ReadMore/ReadMore.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","VSS/Diag","VSS/Adapters/Knockout"],function(n,t,i,r,u,f){var e=function(n){function t(t){var f=n.call(this)||this;return f.readMoreText=r.ReadMore,f._isExpanded=i.observable(!0),f._lessText=i.observable(""),f.setExpanded=function(){f._isExpanded(!0)},t&&(f.fullText=t.fullText,f.characterLimit=t.characterLimit,t.readMoreText&&(f.readMoreText=t.readMoreText)),f._initializeReadMoreDetails(),f}return __extends(t,n),t.prototype.getFullText=function(){return this.fullText},t.prototype.getLessText=function(){return this.fullText.length>this.characterLimit?this._lessText():this.fullText},t.prototype._initializeReadMoreDetails=function(){this.fullText!=null&&this.fullText.length>this.characterLimit&&(this._isExpanded(!1),this._lessText(this.fullText.substr(0,this.characterLimit-1)+t.READ_MORE_DOTS))},t}(f.TemplateViewModel);e.READ_MORE_DOTS="...";t.ReadMoreViewModel=e});
define("Gallery/Client/Controls/PublisherReplyControl/PublisherReplyControl.ViewModel",["require","exports","VSS/Adapters/Knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery"],function(n,t,i,r){var u=function(n){function t(t){var i=n.call(this)||this;return i.imageUrl="",i.displayName="",i.friendlyDate="",i.editButtonText=r.PublisherReplyEditButtonText,i.hasEditPermission=!1,i.imageUrl=t.imageUrl,i.displayName=t.displayName,i.replyId=t.replyId,i.friendlyDate=t.friendlyDate,i.readMoreData=t.publisherReplyReadMore,i.hasEditPermission=t.hasEditPermission,i.onEditButtonClick=t.OnEditButtonClick,i}return __extends(t,n),t}(i.TemplateViewModel);t.PublisherReplyControlViewModel=u});
define("Gallery/Client/Controls/RatingAndReviewDetails/RatingAndReviewDetails.ViewModel",["require","exports","knockout","q","Gallery/Client/Common/Constants","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","Gallery/Client/Controls/RatingControl/RatingControl.ViewModel","Gallery/Client/Controls/ReadMore/ReadMore.ViewModel","Gallery/Client/Controls/PublisherReplyControl/PublisherReplyControl.ViewModel","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Common/Utility.Common","Gallery/Client/Service/VSSItem","VSS/Context","VSS/Events/Action","VSS/Events/Services","VSS/FeatureAvailability/Services","VSS/Gallery/Contracts","VSS/Adapters/Knockout","VSS/Serialization","VSS/Utils/Date","VSS/Utils/Html","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){var st=y.WindowWrapper,ht=ut.HtmlNormalizer,ot=function(n){function t(r){var u=n.call(this)||this;return u.totalReviewCount=i.observable(0),u.hasMoreReviews=i.observable(!1),u.isEditReview=i.observable(!1),u.newReviewText=i.observable(""),u.newRatingDetails=null,u.avgRatingDetails=null,u.avgRatingDetailsOnBanner=null,u.reviewFormHeaderText="",u.showNoReviewsMessage=i.observable(!1),u.seeMoreString=h.SeeMore,u.reportReviewText=e.ReportReviewText,u.writeReviewButtonText=e.WriteReviewButtonText,u.editReviewButtonText=e.EditReviewButtonText,u.requestRatingAndReviewMessage=e.RequestRatingAndReviewMessage,u.noReviewsYetMessage=e.NoReviewsYetMessage,u.feedbackPopupHeaderMessage=e.FeedbackPopupHeaderMessage,u.feedbackPopupContentMessage=e.FeedbackPopupContentMessage,u.closeButtonText=e.CancelAddUserButtonText,u.cancelButtonText=e.CancelButtonText,u.submitButtonText=e.SubmitButtonText,u.userReviewText=e.UserReviewText,u.reviewFormDefaultText=ft.format(e.ReviewFormDefaultText,t.MAX_REVIEWTEXT_CHAR),u.itemReviewsDetails=i.observableArray([]),u.privacyText="",u.isUserAuthenticated=!1,u.reviewReportedSuccessfully=!0,u.averageRatingText=i.observable(""),u.waitForWriteReview=i.observable(!1),u.waitForSeeMore=i.observable(!1),u.waitForReportReview=i.observable(!1),u.allowReviews=i.observable(!0),u.adminImageUrl="",u._publisherReplyFormPrivacyText="",u._koPublisherReplyText=i.observable(""),u._koWaitForPublisherReply=i.observable(!1),u._publisherImageUrl="",u._publisherDisplayName="",u._lastRepliedReviewIndex=-1,u._prevAvgRating=0,u._publisherReplyButtonText=e.PublisherReplyButtonText,u._replyFormPlaceholderText=ft.format(e.ReplyFormPlaceholderText,t.MAX_REVIEWREPLYTEXT_CHAR),u._publisherReplyFeatureFlag=!1,u._koPublisherReplyFormReadMoreData=i.observable(null),u._koPublisherReplyFormUserImageSrcLink=i.observable(""),u._koPublisherReplyFormUserName=i.observable(""),u._koPublisherReplyFormReviewUpdatedDate=i.observable(""),u._hasPermissionsForPublisherReply=!1,u._koPublisherReplyFormUserRating=i.observable(null),r.itemInfo!=null&&(u._vssDetailedItem=r.itemInfo,u.reviewFormHeaderText=e.ReviewText+" - "+u._vssDetailedItem.title),u._pageSize=r.pageSize,u._filterOptions=r.filterOptions,u._vssGalleryDataProvider=r.vssGalleryDataProvider,u.isUserAuthenticated=b.getDefaultWebContext().user?!0:!1,u._prevAvgRating=u._vssDetailedItem.averageRating,u._ratingStarType=r.ratingStarType,u._initializeItemReviewsDetails(r.reviewResults),u}return __extends(t,n),t.prototype.navigateToQnAOrReviews=function(){var t,n;window.location.hash&&window.location.hash==="#review-details"?(t=$("#review-details").offset().top,$("body").scrollTop(t)):window.location.hash&&window.location.hash==="#qna"&&(n=$("#qna-details").offset(),n&&$("body").scrollTop(n.top))},t.prototype._initializeItemReviewsDetails=function(n){var r=n.reviews.length,f=n.reviews,i;for(this._publisherImageUrl=this._vssDetailedItem.imageUrl,this._publisherDisplayName=this._vssDetailedItem.publisherDisplayName,this._hasPermissionsForPublisherReply=it.deserializeJsonIsland($(".can-update-extension"),null),this.adminImageUrl=v.GalleryURLs.getResourcePath()+t.ADMIN_ICON,i=0;i<r;i++)this._insertItemReviewDetailsRear(f[i]);this.setShowNoReviewsMessage();this.concernCategories=[e.RatingAndReviewSpamText,e.RatingAndReviewProfaneText,e.RatingAndReviewOffensiveText];this.totalReviewCount(n.totalReviewCount);this.hasMoreReviews(n.hasMoreReviews);this._initializeWriteReviewModalDialog();this._initializePublisherReplyModalDialog();this._publisherReplyFeatureFlag=this.setPublisherReplyFeatureFlagValue();this.averageRatingText(y.getAverageRatingText(this._vssDetailedItem.averageRating,this.totalReviewCount()));this._vssDetailedItem.itemType!==w.VSSItemType.VSIdeExtension||y.FeatureFlagUtils.checkFeatureState(u.FeatureFlag.EnableWriteVSExtensionReview,p.FeatureFlagUtils.enableWriteVSExtensionReviewFF)||this.allowReviews(!1)},t.prototype.setShowNoReviewsMessage=function(){this.itemReviewsDetails().length===0?this.showNoReviewsMessage(!0):this.showNoReviewsMessage(!1)},t.prototype.setPublisherReplyFeatureFlagValue=function(){var n=g.FeatureAvailabilityService.isFeatureEnabled(f.FeatureFlag.PublisherReply,!1);return n===!0?n:(p.FeatureFlagUtils.isFeatureFlagEnabled(location.href,p.FeatureFlagUtils.showPublisherReply)&&(p.FeatureFlagUtils.setFeatureFlagCookie(p.FeatureFlagUtils.showPublisherReply),n=!0),n)},t.prototype._initializeWriteReviewModalDialog=function(){var o=this,n=0,t={rating:this._vssDetailedItem.averageRating.toString(),totalStars:c.RatingControlViewModel.TOTAL_RATING_STARS,ratingCount:this._vssDetailedItem.ratingCount},i,f;this.avgRatingDetails=new c.RatingControlViewModel(t);i=$.extend(t,{ratingStarType:this._ratingStarType});this.avgRatingDetailsOnBanner=new c.RatingControlViewModel(i);this.isUserAuthenticated&&(this._currentUserReview=it.deserializeJsonIsland($(".pinned-user-review"),nt.TypeInfo.Review),this._currentUserReview&&!this._currentUserReview.isDeleted&&(n=this._currentUserReview.rating*1,this.newReviewText(this._currentUserReview.text),this.isEditReview(!0)),this.privacyText=ft.format(e.RatingPrivacyText,b.getDefaultWebContext().user.name),k.getService().registerActionWorker(u.GalleryEvents.PAGE_LOAD,function(){o._showReviewDialogIfNeeded()}));f={rating:n.toString(),totalStars:c.RatingControlViewModel.TOTAL_RATING_STARS,ratingCount:0,isReadOnly:!1};this.newRatingDetails=new c.RatingControlViewModel(f);this.moreReviewsLoaded=r.defer();this.reviewsCreated=r.defer();this.reviewsEdited=r.defer();this.violationSubmited=r.defer();this._publisherReplyCreated=r.defer()},t.prototype._initializePublisherReplyModalDialog=function(){this._publisherReplyFormPrivacyText=ft.format(e.PublisherReplyPrivacyText,this._vssDetailedItem.publisherDisplayName)},t.prototype._insertItemReviewDetailsFront=function(n,i){var u={rating:n.rating.toString(),totalStars:c.RatingControlViewModel.TOTAL_RATING_STARS,ratingCount:0},f={fullText:n.text,characterLimit:t.READ_MORE_CHARACTER_LIMIT},e=new l.ReadMoreViewModel(f),o=new c.RatingControlViewModel(u),s=this._getUserAvatarUrl(n.userId),r=!1;n.adminReply&&n.reply&&(r=n.adminReply.updatedDate>n.reply.updatedDate);this.itemReviewsDetails.unshift({userImageSrcLink:s,userName:i,ratingViewModelDetails:o,updatedDate:n.updatedDate,isIgnored:n.isIgnored,readMoreData:e,reviewId:n.id,publisherReply:this._getPublisherReplyFromReview(n),adminReply:this._getAdminReplyFromReview(n),showAdminReplyFirst:r})},t.prototype._getPublisherReplyFromReview=function(n){if(n.reply===undefined||n.reply===null)return null;var i={fullText:n.reply.replyText,characterLimit:t.READ_MORE_CHARACTER_LIMIT},r=new l.ReadMoreViewModel(i),u={displayName:this._publisherDisplayName,imageUrl:this._publisherImageUrl,replyId:n.reply.id,publisherReplyReadMore:r,friendlyDate:this.getFriendlyDateString(n.reply.updatedDate),hasEditPermission:this._hasPermissionsForPublisherReply,OnEditButtonClick:this.onPublisherReplyEditButtonClick.bind(this)};return new a.PublisherReplyControlViewModel(u)},t.prototype._getAdminReplyFromReview=function(n){if(!n.adminReply||!y.FeatureFlagUtils.isAdminResponseForReply())return null;var i={fullText:n.adminReply.replyText,characterLimit:t.READ_MORE_CHARACTER_LIMIT},r=new l.ReadMoreViewModel(i),u={displayName:e.MarketplaceAdminLabel,imageUrl:this.adminImageUrl,replyId:n.adminReply.id,publisherReplyReadMore:r,friendlyDate:this.getFriendlyDateString(n.adminReply.updatedDate),hasEditPermission:!1};return new a.PublisherReplyControlViewModel(u)},t.prototype._insertItemReviewDetailsRear=function(n){var r={rating:n.rating.toString(),totalStars:c.RatingControlViewModel.TOTAL_RATING_STARS,ratingCount:0},u={fullText:n.text,characterLimit:t.READ_MORE_CHARACTER_LIMIT},f=new l.ReadMoreViewModel(u),e=new c.RatingControlViewModel(r),o=this._getUserAvatarUrl(n.userId),i=!1;n.adminReply&&n.reply&&(i=n.adminReply.updatedDate>n.reply.updatedDate);this.itemReviewsDetails.push({userImageSrcLink:o,userName:n.userDisplayName,ratingViewModelDetails:e,updatedDate:n.updatedDate,isIgnored:n.isIgnored,readMoreData:f,reviewId:n.id,publisherReply:this._getPublisherReplyFromReview(n),adminReply:this._getAdminReplyFromReview(n),showAdminReplyFirst:i})},t.prototype._getUserAvatarUrl=function(n){return n!==t.EMPTY_GUID?v.GalleryURLs.getUserAvatarUrl(n):v.GalleryURLs.getResourcePath()+t.DEFAULT_USER_IMAGE},t.prototype._removeUserOldReview=function(n){for(var i=this.itemReviewsDetails().length,t=0;t<i;t++)if(this.itemReviewsDetails()[t].reviewId===n.id){this.itemReviewsDetails.remove(this.itemReviewsDetails()[t]);break}},t.prototype._logTelemetry=function(n,t,i,r){i?s.TelemetryHelper.publishEvent(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.RATING,{Event:n,Error:r,ExtensionName:this._vssDetailedItem.title,PublisherName:this._vssDetailedItem.publisherName,ProductType:w.ItemModelHelper.getItemTypeText(this._vssDetailedItem.itemType)},t):s.TelemetryHelper.publishEvent(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.RATING,{Event:n,ExtensionName:this._vssDetailedItem.title,PublisherName:this._vssDetailedItem.publisherName,ProductType:w.ItemModelHelper.getItemTypeText(this._vssDetailedItem.itemType)},t)},t.prototype.editReview=function(){var n=this,r,u,i=this.newRatingDetails.fixedFullStars(),f=this._currentUserReview.rating,e=this.newReviewText(),h=this._currentUserReview.id;return u={id:null,isDeleted:!1,isIgnored:!1,productVersion:this._vssDetailedItem.version,rating:i,text:e,title:null,updatedDate:null,userId:b.getDefaultWebContext().user.id,userDisplayName:null,reply:null,adminReply:null},r={operation:nt.ReviewPatchOperation.UpdateReview,reportedConcern:null,reviewItem:u},this.waitForWriteReview(!0),this._vssGalleryDataProvider.updateReview(r,this._vssDetailedItem.publisherName,this._vssDetailedItem.name,h).then(function(r){var u,e,h;n._prevAvgRating=n._prevAvgRating?n._prevAvgRating:n.avgRatingDetails.fullStars();u=n._prevAvgRating;r.reviewItem.isIgnored||(u=(n.totalReviewCount()*n._prevAvgRating+i-f)/n.totalReviewCount());n._prevAvgRating=u;n._updateAvgRatingStars(u);n._removeUserOldReview(n._currentUserReview);n._currentUserReview=r.reviewItem;n._currentUserReview.text&&(e=b.getDefaultWebContext().user.name,n._insertItemReviewDetailsFront(n._currentUserReview,e));h={Event:o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_EDIT_REVIEW_SUBMIT,ExtensionName:n._vssDetailedItem.title,PublisherName:n._vssDetailedItem.publisherName,NumberofReviews:n.totalReviewCount(),AverageRating:u,Rating:i,HasReviewText:n.newReviewText()?!0:!1,ProductType:w.ItemModelHelper.getItemTypeText(n._vssDetailedItem.itemType)};s.TelemetryHelper.publishEvent(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.RATING,h,!1);n.waitForWriteReview(!1);d.getService().fire(t.EVENT_ON_WRITE_REVIEW_COMPLETE);n.reviewsEdited.resolve(null)},function(i){n._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.ERROR_EDIT_REVIEW_SUBMIT,!1,!0,i.message);n.waitForWriteReview(!1);d.getService().fire(t.EVENT_ON_WRITE_REVIEW_COMPLETE);n.reviewsEdited.reject(i);alert(i.message)}),this.reviewsEdited.promise},t.prototype._showReviewDialogIfNeeded=function(){var n=et.Uri.parse(st.getCurrentUrl());n.getQueryParam(t.SHOW_REVIEW_DIALOG)==="true"&&p.CookieUtils.getCookie(f.RatingConstants.showWriteDialogBox)==="true"&&(p.CookieUtils.setCookie(f.RatingConstants.showWriteDialogBox,"false"),this.onWriteReview())},t.prototype.onWriteReview=function(){this.isUserAuthenticated&&this._logTelemetry(this.isEditReview()?o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_EDIT_REVIEW:o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_WRITE_REVIEW,!0,!1);d.getService().fire(t.EVENT_ON_WRITE_REVIEW)},t.prototype.cancelReview=function(){this.restoreWriteReviewFormData();this._logTelemetry(this.isEditReview()?o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_EDIT_REVIEW_CANCEL:o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_WRITE_REVIEW_CANCEL,!1,!1)},t.prototype.onPublisherReplyFormCancel=function(){this._lastRepliedReviewIndex=-1;this._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_PUBLISHER_REPLY_FORM_CANCEL_BUTTON,!1,!1)},t.prototype.createPublisherReply=function(){var i=this,n=this.itemReviewsDetails()[this._publisherReplyReviewIndex],r,u;return r={id:n.reviewId,isDeleted:!1,isIgnored:!1,productVersion:this._vssDetailedItem.version,rating:n.ratingViewModelDetails.fullStars(),text:null,title:null,updatedDate:null,userId:null,userDisplayName:null,reply:{id:0,isDeleted:!1,productVersion:this._vssDetailedItem.version,replyText:this._koPublisherReplyText(),reviewId:n.reviewId,title:null,updatedDate:null,userId:b.getDefaultWebContext().user.id},adminReply:null},u={operation:nt.ReviewPatchOperation.ReplyToReview,reportedConcern:null,reviewItem:r},this._koWaitForPublisherReply(!0),this._vssGalleryDataProvider.updateReview(u,this._vssDetailedItem.publisherName,this._vssDetailedItem.name,n.reviewId).then(function(r){var u=!1,f,e;r.reviewItem.adminReply&&r.reviewItem.reply&&(u=r.reviewItem.adminReply.updatedDate>r.reviewItem.reply.updatedDate);f={reviewId:n.reviewId,ratingViewModelDetails:n.ratingViewModelDetails,readMoreData:n.readMoreData,updatedDate:n.updatedDate,isIgnored:n.isIgnored,userName:n.userName,userImageSrcLink:n.userImageSrcLink,publisherReply:i._getPublisherReplyFromReview(r.reviewItem),adminReply:i._getAdminReplyFromReview(r.reviewItem),showAdminReplyFirst:u};i.itemReviewsDetails.replace(n,f);i._koWaitForPublisherReply(!1);d.getService().fire(t.EVENT_ON_PUBLISHER_REPLY_COMPLETE);e={Event:o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_PUBLISHER_REPLY_FORM_SUBMIT_BUTTON,ExtensionName:i._vssDetailedItem.title,PublisherName:i._vssDetailedItem.publisherName,NumberofReviews:null,AverageRating:null,Rating:null,HasReviewText:null,ProductType:w.ItemModelHelper.getItemTypeText(i._vssDetailedItem.itemType)};s.TelemetryHelper.publishEvent(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.RATING,e,!1);i._publisherReplyCreated.resolve(null)},function(n){i._koWaitForPublisherReply(!1);d.getService().fire(t.EVENT_ON_PUBLISHER_REPLY_COMPLETE);i._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.ERROR_PUBLISHER_REPLY_SUBMIT,!1,!0,n.message);i._publisherReplyCreated.reject(n);alert(n.message)}),this._publisherReplyCreated.promise},t.prototype.createReview=function(){var n=this,i;if(this._currentUserReview&&this._currentUserReview.isDeleted)this.editReview();else return i=void 0,i={id:null,isDeleted:!1,isIgnored:!1,productVersion:this._vssDetailedItem.version,rating:this.newRatingDetails.fixedFullStars(),text:this.newReviewText(),title:null,updatedDate:null,userId:b.getDefaultWebContext().user.id,userDisplayName:null,reply:null,adminReply:null},this.waitForWriteReview(!0),this._vssGalleryDataProvider.createReview(i,this._vssDetailedItem.publisherName,this._vssDetailedItem.name).then(function(i){var f,r,u,e;i.text&&(f=b.getDefaultWebContext().user.name,n._insertItemReviewDetailsFront(i,f));n.setShowNoReviewsMessage();n.isEditReview(!0);n._currentUserReview=i;r=n.totalReviewCount();u=(r*n._prevAvgRating+i.rating)/(r+1);n._prevAvgRating=u;n.totalReviewCount(r+1);n._updateAvgRatingStars(u);n.waitForWriteReview(!1);d.getService().fire(t.EVENT_ON_WRITE_REVIEW_COMPLETE);e={Event:o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_WRITE_REVIEW_SUBMIT,ExtensionName:n._vssDetailedItem.title,PublisherName:n._vssDetailedItem.publisherName,NumberofReviews:n.totalReviewCount(),AverageRating:u,Rating:i.rating,HasReviewText:n.newReviewText()?!0:!1,ProductType:w.ItemModelHelper.getItemTypeText(n._vssDetailedItem.itemType)};s.TelemetryHelper.publishEvent(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.RATING,e,!1);n.reviewsCreated.resolve(null)},function(i){n._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.ERROR_WRITE_REVIEW_SUBMIT,!1,!0,i.message);n.waitForWriteReview(!1);d.getService().fire(t.EVENT_ON_WRITE_REVIEW_COMPLETE);n.reviewsCreated.reject(i);alert(i.message)}),this.reviewsCreated.promise},t.prototype._updateAvgRatingStars=function(n){n=n*1;var t=c.RatingControlViewModel.parseRating(n.toString(),c.RatingControlViewModel.TOTAL_RATING_STARS);this.avgRatingDetails.fullStars(t.fullStars);this.avgRatingDetails.halfStars(t.halfStars);this.avgRatingDetailsOnBanner.fullStars(t.fullStars);this.avgRatingDetailsOnBanner.halfStars(t.halfStars);this.averageRatingText(y.getAverageRatingText(n,this.totalReviewCount()))},t.prototype._getConcernTextAndCategory=function(n){var t;return t=n===0?nt.ConcernCategory.Spam:nt.ConcernCategory.Abusive,{category:t,concernText:ft.format(e.RatingAndReviewReportText,this.concernCategories[n])}},t.prototype.restoreWriteReviewFormData=function(){this._currentUserReview?(this.newReviewText(this._currentUserReview.text),this.newRatingDetails.fullStars(this._currentUserReview.rating)):(this.newReviewText(""),this.newRatingDetails.fullStars(0),this.newRatingDetails.fixedFullStars(0))},t.prototype.getFriendlyDateString=function(n){return rt.friendly(n)},t.prototype.onSeeMoreClick=function(){var n=this,i=this.itemReviewsDetails().length,r;return i>0&&(r=this.itemReviewsDetails()[i-1],this.waitForSeeMore(!0),this._vssGalleryDataProvider.getReviews(this._vssDetailedItem.publisherName,this._vssDetailedItem.name,this._pageSize,this._filterOptions,r.updatedDate).then(function(i){for(var u=i.reviews.length,f=i.reviews,r=0;r<u;r++)n._insertItemReviewDetailsRear(f[r]);n.totalReviewCount(i.totalReviewCount);n.hasMoreReviews(i.hasMoreReviews);n.waitForSeeMore(!1);n._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_SEE_MORE,!1,!1);d.getService().fire(t.EVENT_ON_SEE_MORE_CLICK);n.moreReviewsLoaded.resolve(null)},function(t){n.waitForSeeMore(!1);n._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.ERROR_SEE_MORE,!1,!0,t.message);n.moreReviewsLoaded.reject(t);alert(t.message)})),this.moreReviewsLoaded.promise},t.prototype.flaggedReviewIndex=function(n){this.flagReviewIndex=n;d.getService().fire(t.EVENT_ON_REPORT_REVIEW,this);this.isUserAuthenticated&&this._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_REPORT_ABUSE,!1,!1)},t.prototype.cancelViolationDetails=function(){this._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_VIOLATION_CANCEL,!1,!1)},t.prototype.submitViolationDetails=function(n){var i=this,r,u,e=this.itemReviewsDetails()[this.flagReviewIndex].reviewId,f=this._getConcernTextAndCategory(n);return u={category:f.category,concernText:f.concernText,reviewId:null,submittedDate:new Date,userId:b.getDefaultWebContext().user.id},r={operation:nt.ReviewPatchOperation.FlagReview,reportedConcern:u,reviewItem:null},this.waitForReportReview(!0),this._vssGalleryDataProvider.updateReview(r,this._vssDetailedItem.publisherName,this._vssDetailedItem.name,e).then(function(){i.reviewReportedSuccessfully=!0;i.waitForReportReview(!1);i._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_VIOLATION_SUBMIT,!1,!1);d.getService().fire(t.EVENT_ON_REVIEW_REPORTED,i);i.violationSubmited.resolve(null)},function(n){i._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.ERROR_SUBMIT_VIOLATION,!1,!0,n.message);i.reviewReportedSuccessfully=!1;i.waitForReportReview(!1);d.getService().fire(t.EVENT_ON_REVIEW_REPORTED,i);i.violationSubmited.reject(n);alert(n.message)}),this.violationSubmited.promise},t.prototype.onPublisherReplyButtonClick=function(n){this.isUserAuthenticated&&(this.setupDataForPublisherReplyDialog(n),n!==this._lastRepliedReviewIndex&&(this._koPublisherReplyText(""),this._lastRepliedReviewIndex=n),d.getService().fire(t.EVENT_ON_PUBLISHER_REPLY_OR_EDIT_BUTTON_CLICK),this._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_PUBLISHER_REPLY_BUTTON,!1,!1))},t.prototype.onPublisherReplyEditButtonClick=function(n){if(this.isUserAuthenticated){this.setupDataForPublisherReplyDialog(n);var i=this.itemReviewsDetails()[n];n!==this._lastRepliedReviewIndex&&i.publisherReply&&this._koPublisherReplyText(i.publisherReply.readMoreData.getFullText());this._lastRepliedReviewIndex=n;d.getService().fire(t.EVENT_ON_PUBLISHER_REPLY_OR_EDIT_BUTTON_CLICK);this._logTelemetry(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.RatingAndReviewProperties.CLICK_PUBLISHER_REPLY_EDIT_BUTTON,!1,!1)}},t.prototype.setupDataForPublisherReplyDialog=function(n){this._publisherReplyReviewIndex=n;var t=this.itemReviewsDetails()[n];this._koPublisherReplyFormUserImageSrcLink(t.userImageSrcLink);this._koPublisherReplyFormUserName(t.userName);this._koPublisherReplyFormReviewUpdatedDate(this.getFriendlyDateString(t.updatedDate));this._koPublisherReplyFormUserRating(t.ratingViewModelDetails);this._koPublisherReplyFormReadMoreData(new l.ReadMoreViewModel({fullText:t.readMoreData.fullText,characterLimit:t.readMoreData.characterLimit,readMoreText:t.readMoreData.readMoreText}))},t.prototype.canShowPublisherReplyButton=function(n){return this._hasPermissionsForPublisherReply&&!this.publisherReplyExistsForReview(n)},t.prototype.publisherReplyExistsForReview=function(n){var t=!1,i=this.itemReviewsDetails()[n];return i.publisherReply!==undefined&&i.publisherReply!==null&&(t=!0),t},t.prototype.adminReplyExistsForReview=function(n){var t=!1,i=this.itemReviewsDetails()[n];return i.adminReply!=null&&(t=!0),t},t.prototype.isIgnored=function(n){var t=this.itemReviewsDetails()[n];return t.isIgnored&&y.FeatureFlagUtils.isAdminResponseForReply()},t}(tt.TemplateViewModel);ot.ADMIN_ICON="vs-family-icon.png";ot.EVENT_ON_WRITE_REVIEW="VSS.Gallery.RatingReview.OnWriteReview";ot.EVENT_ON_REPORT_REVIEW="VSS.Gallery.RatingReview.OnReportReview";ot.EVENT_ON_REVIEW_REPORTED="VSS.Gallery.RatingReview.OnReviewReported";ot.EVENT_ON_WRITE_REVIEW_COMPLETE="VSS.Gallery.RatingReview.OnWriteReviewComplete";ot.EVENT_AFTER_REVIEW_REPORTED="VSS.Gallery.RatingReview.AfterReviewReported";ot.EVENT_ON_SEE_MORE_CLICK="VSS.Gallery.RatingReview.OnSeeMoreClick";ot.EVENT_ON_PUBLISHER_REPLY_OR_EDIT_BUTTON_CLICK="VSS.Gallery.RatingReview.OnPublisherReplyOrEditButtonClick";ot.EVENT_ON_PUBLISHER_REPLY_COMPLETE="VSS.Gallery.RatingReview.OnPublisherReplyComplete";ot.SHOW_REVIEW_DIALOG="showReviewDialog";ot.SHOW_REPORT_REVIEW_DIALOG="showReportReviewDialog";ot.EMPTY_GUID="00000000-0000-0000-0000-000000000000";ot.DEFAULT_USER_IMAGE="Header/default-user.png";ot.MAX_REVIEWTEXT_CHAR=2e3;ot.MAX_REVIEWREPLYTEXT_CHAR=ot.MAX_REVIEWTEXT_CHAR;ot.READ_MORE_CHARACTER_LIMIT=200;t.RatingAndReviewDetailsViewModel=ot});
define("Gallery/Client/Controls/RatingAndReviewDetails/RatingAndReviewDetails.View",["require","exports","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Controls/RatingAndReviewDetails/RatingAndReviewDetails.ViewModel","Gallery/Client/Common/Utility","Gallery/Client/Common/AccessibilityUtils","Gallery/Client/Common/Utility.Common","VSS/Controls","VSS/Events/Services","VSS/Adapters/Knockout","VSS/Controls/Menus","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y=a.delegate,p=f.WindowWrapper,w=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._writeReviewCallback=y(this,this._onWriteReview);this._writeReviewCompleteCallback=y(this,this._writeReviewComplete);this._seeMoreClickCallback=y(this,this._onSeeMoreClick);this._onReportReviewCallback=y(this,this._onReportReview);this._onReviewReportedCallback=y(this,this._onReviewReported);this._publisherReplyButtonClickCallback=y(this,this._onPublisherReplyButtonClick);this._publisherReplyCompleteCallback=y(this,this._onPublisherReplyComplete);h.getService().attachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_WRITE_REVIEW,this._writeReviewCallback);h.getService().attachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_WRITE_REVIEW_COMPLETE,this._writeReviewCompleteCallback);h.getService().attachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_SEE_MORE_CLICK,this._seeMoreClickCallback);h.getService().attachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_REPORT_REVIEW,this._onReportReviewCallback);h.getService().attachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_REVIEW_REPORTED,this._onReviewReportedCallback);h.getService().attachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_PUBLISHER_REPLY_OR_EDIT_BUTTON_CLICK,this._publisherReplyButtonClickCallback);h.getService().attachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_PUBLISHER_REPLY_COMPLETE,this._publisherReplyCompleteCallback);$(window).bind("scroll",function(){t._disposeExistingPopup()})},t.prototype._writeReviewComplete=function(){this._closeReviewDialog()},t.prototype._disposeExistingPopup=function(){this._popupMenu&&(this._popupMenu.dispose(),delete this._popupMenu)},t.prototype._createPopupMenu=function(n,t){this._disposeExistingPopup();var i=s.BaseControl.createIn(l.PopupMenu,n,{align:"right-bottom",showIcon:!1,items:[{childItems:this._getMenuItems(t)}]});i.getElement().addClass("menu-popup");i.popup(n,n);this._popupMenu=i},t.prototype._getMenuItems=function(n){var i=this,t=[];return $.each(n,function(n,r){var u={title:r.elementHoverText,showText:!0,action:function(){i.getViewModel().submitViolationDetails(n)}};r.elementLabel&&(u.text=r.elementLabel);t.push(u)}),t},t.prototype._onWriteReview=function(){this.getViewModel().isUserAuthenticated?this._openReviewDialog():(o.CookieUtils.setCookie(i.RatingConstants.showWriteDialogBox,"true"),this._redirectToSignInPage(u.RatingAndReviewDetailsViewModel.SHOW_REVIEW_DIALOG))},t.prototype._onPublisherReplyButtonClick=function(){if(this.getViewModel().isUserAuthenticated){var n=$("#publisher-reply-control-container");n.on("shown.bs.modal",function(){e.setModalTabbing(n);e.setFocusOnFirstTabbableElement(n)});n.modal({keyboard:!0})}},t.prototype._onPublisherReplyComplete=function(){this._closePublisherReplyDialog()},t.prototype._closePublisherReplyDialog=function(){var n=$("#publisher-reply-control-container");n.modal("hide")},t.prototype._closeReviewDialog=function(){var n=$("#write-review-control-container");n.modal("hide")},t.prototype._openReviewDialog=function(){$("html, body").scrollTop($(".user-reviews-section-header").offset().top);var n=$("#write-review-control-container");n.on("shown.bs.modal",function(){e.setModalTabbing(n);e.setFocusOnFirstTabbableElement(n)});n.modal({keyboard:!0})},t.prototype._createMenuElements=function(){return[{elementHoverText:v.format(r.RatingAndReviewReportText,this.getViewModel().concernCategories[0]),elementLabel:v.format(r.RatingAndReviewReportText,this.getViewModel().concernCategories[0])},{elementHoverText:v.format(r.RatingAndReviewReportText,this.getViewModel().concernCategories[1]),elementLabel:v.format(r.RatingAndReviewReportText,this.getViewModel().concernCategories[1])},{elementHoverText:v.format(r.RatingAndReviewReportText,this.getViewModel().concernCategories[2]),elementLabel:v.format(r.RatingAndReviewReportText,this.getViewModel().concernCategories[2])}]},t.prototype._onReportReview=function(n){var t=this.getViewModel(),i,r;t.isUserAuthenticated?n===t&&(i=this._createMenuElements(),r=$(".flag-review").eq(t.flagReviewIndex),this._createPopupMenu(r,i)):this._redirectToSignInPage(u.RatingAndReviewDetailsViewModel.SHOW_REPORT_REVIEW_DIALOG)},t.prototype._onReviewReported=function(n){var i=this.getViewModel(),t;if(n===i&&i.reviewReportedSuccessfully){t=$("#feedback-popup-control-container");t.on("shown.bs.modal",function(){t.find(".feedback-popup-close-button").first().focus()});t.modal("show")}},t.prototype._redirectToSignInPage=function(n){var t=f.UrlUtils.setReplyToParameterInLoginRedirectUrl(n,"true");p.open(t,"_self")},t.prototype._onSeeMoreClick=function(){$("html,body").animate({scrollTop:$(".see-more-reviews").offset().top},"slow")},t.prototype.dispose=function(){$(window).unbind("scroll");n.prototype.dispose.call(this)},t.prototype._cleanup=function(){this._disposeExistingPopup();h.getService().detachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_WRITE_REVIEW,this._writeReviewCallback);h.getService().detachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_WRITE_REVIEW_COMPLETE,this._writeReviewCompleteCallback);h.getService().detachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_SEE_MORE_CLICK,this._seeMoreClickCallback);h.getService().detachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_REPORT_REVIEW,this._onReportReviewCallback);h.getService().detachEvent(u.RatingAndReviewDetailsViewModel.EVENT_ON_REVIEW_REPORTED,this._onReviewReportedCallback);n.prototype._cleanup.call(this)},t}(c.TemplateControl);t.RatingAndReviewDetailsView=w});
define("Gallery/Client/Controls/PriceCalculator/PriceCalculatorBase.ViewModel",["require","exports","knockout","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Constants","Gallery/Client/Common/Utility","VSS/Adapters/Knockout"],function(n,t,i,r,u,f,e){var o=function(n){function t(){var t=n.call(this)||this;return t.itemPriceTuples=i.observableArray([]),t.currencyCode=u.PriceCalculatorConstants.USDCurrencyCode,t.defaultCurrency=u.PriceCalculatorConstants.USDCurrency,t.locale=u.PriceCalculatorConstants.locale,t.totalPriceHeader=r.TotalPriceHeader,t.equaltoSymbol=u.PriceCalculatorConstants.equaltoSymbol,t.freeUsersCount=i.observable(u.PriceCalculatorConstants.defaultFreeUsersCount),t.freeLabel=r.FreeLabel,t.paidLabel=r.PaidLabel,t.resourceName=i.observable(r.UsersLabel),t.perMonthLabel=" /"+r.Price_Unit_Month,t.selectedQuantity=i.observable(1),t.selectedQuantityPriceAriaLabel=i.observable(null),t.priceCalculatorErrorMessage=r.PricingCalculatorNotAvailable,t.minAllowedQuantity=i.observable(1),t.maxAllowedQuantity=i.observable(1e4),t.ZERO_KEY_CODE=48,t.NINE_KEY_CODE=57,t.ZERO_KEY_CODE_OF_NUMKEYBOARD=96,t.NINE_KEY_CODE_OF_NUMKEYBOARD=105,t.BACKSPACE_KEY_CODE=8,t.ARROWUP_KEY_CODE=38,t.ARROWDOWN_KEY_CODE=40,t.TAB_KEY_CODE=9,t.limitSelectedQuantity=function(){t.selectedQuantity()>t.maxAllowedQuantity()&&t.selectedQuantity(t.maxAllowedQuantity());t.selectedQuantity()<t.minAllowedQuantity()&&t.selectedQuantity(t.minAllowedQuantity())},t.selectedQuantityPrice=t.computed(function(){var n=t.computePrice(t.selectedQuantity());return t.selectedQuantityPriceAriaLabel(r.TotalPriceHeader+" "+n+t.perMonthLabel),n}),t.selectedQuantity.subscribe(t.limitSelectedQuantity),t}return __extends(t,n),t.prototype.computePrice=function(n){if(this.itemPriceTuples().length>0){var i=0,t=0;for(this.itemPriceTuples()[0].quantity===0&&(this.itemPriceTuples()[0].quantity=1),t=1;t<this.itemPriceTuples().length&&this.itemPriceTuples()[t].quantity<=n;t++)i=i+(this.itemPriceTuples()[t].quantity-this.itemPriceTuples()[t-1].quantity)*this.itemPriceTuples()[t-1].price;return i=i+(n-this.itemPriceTuples()[t-1].quantity+1)*this.itemPriceTuples()[t-1].price,f.convertToCurrencyFormat(i,this.currencyCode,this.defaultCurrency,this.locale)}return this.priceCalculatorErrorMessage},t.prototype.onKeyPress=function(n,t){if(t.keyCode===this.BACKSPACE_KEY_CODE||t.keyCode===this.ARROWUP_KEY_CODE||t.keyCode===this.ARROWDOWN_KEY_CODE||t.keyCode===this.TAB_KEY_CODE||t.keyCode>=this.ZERO_KEY_CODE&&t.keyCode<=this.NINE_KEY_CODE||t.keyCode>=this.ZERO_KEY_CODE_OF_NUMKEYBOARD&&t.keyCode<=this.NINE_KEY_CODE_OF_NUMKEYBOARD)return!0;t.preventDefault()},t}(e.TemplateViewModel);t.PriceCalculatorBaseViewModel=o});
define("Gallery/Client/Controls/PriceCalculator/VSTSItemPriceCalculator",["require","exports","Gallery/Client/Common/Constants","Gallery/Client/Controls/PriceCalculator/PriceCalculatorBase.ViewModel","Gallery/Client/Service/VSSItem"],function(n,t,i,r,u){var f=function(n){function t(t){var i=n.call(this)||this;return i.vssDetailedItem=t,i.initialize(),i}return __extends(t,n),t.prototype.initialize=function(){this.vssDetailedItem.offerDetails&&this.vssDetailedItem.offerDetails.includedQuantity&&this.freeUsersCount(this.vssDetailedItem.offerDetails.includedQuantity);this.vssDetailedItem.properties[u.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYLABEL]&&this.resourceName(this.vssDetailedItem.properties[u.ItemConstants.PROPERTY_HOSTED_RESOURCE_QUANTITYLABEL]);this.initializeItemPriceMeter()},t.prototype.initializeItemPriceMeter=function(){var r=0,t,n,u,f;for(this.vssDetailedItem.offerMeterPrices&&(r=this.vssDetailedItem.offerMeterPrices.length),t=[],n=0;n<r;n++)this.vssDetailedItem.offerMeterPrices[n].currencyCode.toUpperCase()===i.PriceCalculatorConstants.USDCurrencyCode&&(u={price:this.vssDetailedItem.offerMeterPrices[n].price,quantity:this.vssDetailedItem.offerMeterPrices[n].quantity},t.push(u));t.length>0&&(f=t.sort(function(n,t){return n.quantity-t.quantity}),this.itemPriceTuples(f))},t}(r.PriceCalculatorBaseViewModel);t.VSTSItemPriceCalculator=f});
/*! markdown-it 8.1.0 https://github.com//markdown-it/markdown-it @license MIT */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it",[],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.markdownit=e()}}(function(){var e;return function e(r,t,n){function s(i,a){if(!t[i]){if(!r[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[i]={exports:{}};r[i][0].call(u.exports,function(e){var t=r[i][1][e];return s(t?t:e)},u,u.exports,e,r,t,n)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)s(n[i]);return s}({1:[function(e,r,t){"use strict";r.exports=e("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(e,r,t){"use strict";r.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(e,r,t){"use strict";var n="[a-zA-Z_:][a-zA-Z0-9:._-]*",s="[^\"'=<>`\\x00-\\x20]+",o="'[^']*'",i='"[^"]*"',a="(?:"+s+"|"+o+"|"+i+")",c="(?:\\s+"+n+"(?:\\s*=\\s*"+a+")?)",l="<[A-Za-z][A-Za-z0-9\\-]*"+c+"*\\s*\\/?>",u="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",p="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",h="<[?].*?[?]>",f="<![A-Z]+\\s+[^>]*>",d="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",m=new RegExp("^(?:"+l+"|"+u+"|"+p+"|"+h+"|"+f+"|"+d+")"),_=new RegExp("^(?:"+l+"|"+u+")");r.exports.HTML_TAG_RE=m,r.exports.HTML_OPEN_CLOSE_TAG_RE=_},{}],4:[function(e,r,t){"use strict";function n(e){return Object.prototype.toString.call(e)}function s(e){return"[object String]"===n(e)}function o(e,r){return y.call(e,r)}function i(e){var r=Array.prototype.slice.call(arguments,1);return r.forEach(function(r){if(r){if("object"!=typeof r)throw new TypeError(r+"must be object");Object.keys(r).forEach(function(t){e[t]=r[t]})}}),e}function a(e,r,t){return[].concat(e.slice(0,r),t,e.slice(r+1))}function c(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function l(e){if(e>65535){e-=65536;var r=55296+(e>>10),t=56320+(1023&e);return String.fromCharCode(r,t)}return String.fromCharCode(e)}function u(e,r){var t=0;return o(D,r)?D[r]:35===r.charCodeAt(0)&&w.test(r)&&(t="x"===r[1].toLowerCase()?parseInt(r.slice(2),16):parseInt(r.slice(1),10),c(t))?l(t):e}function p(e){return e.indexOf("\\")<0?e:e.replace(x,"$1")}function h(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(A,function(e,r,t){return r?r:u(e,t)})}function f(e){return S[e]}function d(e){return q.test(e)?e.replace(E,f):e}function m(e){return e.replace(F,"\\$&")}function _(e){switch(e){case 9:case 32:return!0}return!1}function g(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function b(e){return L.test(e)}function k(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function v(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var y=Object.prototype.hasOwnProperty,x=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,C=/&([a-z#][a-z0-9]{1,31});/gi,A=new RegExp(x.source+"|"+C.source,"gi"),w=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,D=e("./entities"),q=/[&<>"]/,E=/[&<>"]/g,S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},F=/[.?*+^$[\]\\(){}|-]/g,L=e("uc.micro/categories/P/regex");t.lib={},t.lib.mdurl=e("mdurl"),t.lib.ucmicro=e("uc.micro"),t.assign=i,t.isString=s,t.has=o,t.unescapeMd=p,t.unescapeAll=h,t.isValidEntityCode=c,t.fromCodePoint=l,t.escapeHtml=d,t.arrayReplaceAt=a,t.isSpace=_,t.isWhiteSpace=g,t.isMdAsciiPunct=k,t.isPunctChar=b,t.escapeRE=m,t.normalizeReference=v},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(e,r,t){"use strict";t.parseLinkLabel=e("./parse_link_label"),t.parseLinkDestination=e("./parse_link_destination"),t.parseLinkTitle=e("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace,s=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var o,i,a=0,c=r,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<t;){if(o=e.charCodeAt(r),10===o||n(o))return l;if(62===o)return l.pos=r+1,l.str=s(e.slice(c+1,r)),l.ok=!0,l;92===o&&r+1<t?r+=2:r++}return l}for(i=0;r<t&&(o=e.charCodeAt(r),32!==o)&&!(o<32||127===o);)if(92===o&&r+1<t)r+=2;else{if(40===o&&(i++,i>1))break;if(41===o&&(i--,i<0))break;r++}return c===r?l:(l.str=s(e.slice(c,r)),l.lines=a,l.pos=r,l.ok=!0,l)}},{"../common/utils":4}],7:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a=-1,c=e.posMax,l=e.pos;for(e.pos=r+1,n=1;e.pos<c;){if(o=e.src.charCodeAt(e.pos),93===o&&(n--,0===n)){s=!0;break}if(i=e.pos,e.md.inline.skipToken(e),91===o)if(i===e.pos-1)n++;else if(t)return e.pos=l,-1}return s&&(a=e.pos),e.pos=l,a}},{}],8:[function(e,r,t){"use strict";var n=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var s,o,i=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=t)return c;if(o=e.charCodeAt(r),34!==o&&39!==o&&40!==o)return c;for(r++,40===o&&(o=41);r<t;){if(s=e.charCodeAt(r),s===o)return c.pos=r+1,c.lines=i,c.str=n(e.slice(a+1,r)),c.ok=!0,c;10===s?i++:92===s&&r+1<t&&(r++,10===e.charCodeAt(r)&&i++),r++}return c}},{"../common/utils":4}],9:[function(e,r,t){"use strict";function n(e){var r=e.trim().toLowerCase();return!g.test(r)||!!b.test(r)}function s(e){var r=d.parse(e,!0);if(r.hostname&&(!r.protocol||k.indexOf(r.protocol)>=0))try{r.hostname=m.toASCII(r.hostname)}catch(e){}return d.encode(d.format(r))}function o(e){var r=d.parse(e,!0);if(r.hostname&&(!r.protocol||k.indexOf(r.protocol)>=0))try{r.hostname=m.toUnicode(r.hostname)}catch(e){}return d.decode(d.format(r))}function i(e,r){return this instanceof i?(r||a.isString(e)||(r=e||{},e="default"),this.inline=new h,this.block=new p,this.core=new u,this.renderer=new l,this.linkify=new f,this.validateLink=n,this.normalizeLink=s,this.normalizeLinkText=o,this.utils=a,this.helpers=a.assign({},c),this.options={},this.configure(e),void(r&&this.set(r))):new i(e,r)}var a=e("./common/utils"),c=e("./helpers"),l=e("./renderer"),u=e("./parser_core"),p=e("./parser_block"),h=e("./parser_inline"),f=e("linkify-it"),d=e("mdurl"),m=e("punycode"),_={default:e("./presets/default"),zero:e("./presets/zero"),commonmark:e("./presets/commonmark")},g=/^(vbscript|javascript|file|data):/,b=/^data:image\/(gif|png|jpeg|webp);/,k=["http:","https:","mailto:"];i.prototype.set=function(e){return a.assign(this.options,e),this},i.prototype.configure=function(e){var r,t=this;if(a.isString(e)&&(r=e,e=_[r],!e))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this},i.prototype.enable=function(e,r){var t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){t=t.concat(this[r].ruler.enable(e,!0))},this),t=t.concat(this.inline.ruler2.enable(e,!0));var n=e.filter(function(e){return t.indexOf(e)<0});if(n.length&&!r)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},i.prototype.disable=function(e,r){var t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){t=t.concat(this[r].ruler.disable(e,!0))},this),t=t.concat(this.inline.ruler2.disable(e,!0));var n=e.filter(function(e){return t.indexOf(e)<0});if(n.length&&!r)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},i.prototype.use=function(e){var r=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,r),this},i.prototype.parse=function(e,r){var t=new this.core.State(e,this,r);return this.core.process(t),t.tokens},i.prototype.render=function(e,r){return r=r||{},this.renderer.render(this.parse(e,r),this.options,r)},i.prototype.parseInline=function(e,r){var t=new this.core.State(e,this,r);return t.inlineMode=!0,this.core.process(t),t.tokens},i.prototype.renderInline=function(e,r){return r=r||{},this.renderer.render(this.parseInline(e,r),this.options,r)},r.exports=i},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(e,r,t){"use strict";function n(){this.ruler=new s;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}var s=e("./ruler"),o=[["table",e("./rules_block/table"),["paragraph","reference"]],["code",e("./rules_block/code")],["fence",e("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",e("./rules_block/blockquote"),["paragraph","reference","list"]],["hr",e("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",e("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",e("./rules_block/reference")],["heading",e("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",e("./rules_block/lheading")],["html_block",e("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",e("./rules_block/paragraph")]];n.prototype.tokenize=function(e,r,t){for(var n,s,o=this.ruler.getRules(""),i=o.length,a=r,c=!1,l=e.md.options.maxNesting;a<t&&(e.line=a=e.skipEmptyLines(a),!(a>=t))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=l){e.line=t;break}for(s=0;s<i&&!(n=o[s](e,a,t,!1));s++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),a=e.line,a<t&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}},n.prototype.parse=function(e,r,t,n){var s;e&&(s=new this.State(e,r,t,n),this.tokenize(s,s.line,s.lineMax))},n.prototype.State=e("./rules_block/state_block"),r.exports=n},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(e,r,t){"use strict";function n(){this.ruler=new s;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}var s=e("./ruler"),o=[["normalize",e("./rules_core/normalize")],["block",e("./rules_core/block")],["inline",e("./rules_core/inline")],["linkify",e("./rules_core/linkify")],["replacements",e("./rules_core/replacements")],["smartquotes",e("./rules_core/smartquotes")]];n.prototype.process=function(e){var r,t,n;for(n=this.ruler.getRules(""),r=0,t=n.length;r<t;r++)n[r](e)},n.prototype.State=e("./rules_core/state_core"),r.exports=n},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(e,r,t){"use strict";function n(){var e;for(this.ruler=new s,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new s,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}var s=e("./ruler"),o=[["text",e("./rules_inline/text")],["newline",e("./rules_inline/newline")],["escape",e("./rules_inline/escape")],["backticks",e("./rules_inline/backticks")],["strikethrough",e("./rules_inline/strikethrough").tokenize],["emphasis",e("./rules_inline/emphasis").tokenize],["link",e("./rules_inline/link")],["image",e("./rules_inline/image")],["autolink",e("./rules_inline/autolink")],["html_inline",e("./rules_inline/html_inline")],["entity",e("./rules_inline/entity")]],i=[["balance_pairs",e("./rules_inline/balance_pairs")],["strikethrough",e("./rules_inline/strikethrough").postProcess],["emphasis",e("./rules_inline/emphasis").postProcess],["text_collapse",e("./rules_inline/text_collapse")]];n.prototype.skipToken=function(e){var r,t,n=e.pos,s=this.ruler.getRules(""),o=s.length,i=e.md.options.maxNesting,a=e.cache;if("undefined"!=typeof a[n])return void(e.pos=a[n]);if(e.level<i)for(t=0;t<o&&(e.level++,r=s[t](e,!0),e.level--,!r);t++);else e.pos=e.posMax;r||e.pos++,a[n]=e.pos},n.prototype.tokenize=function(e){for(var r,t,n=this.ruler.getRules(""),s=n.length,o=e.posMax,i=e.md.options.maxNesting;e.pos<o;){if(e.level<i)for(t=0;t<s&&!(r=n[t](e,!1));t++);if(r){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},n.prototype.parse=function(e,r,t,n){var s,o,i,a=new this.State(e,r,t,n);for(this.tokenize(a),o=this.ruler2.getRules(""),i=o.length,s=0;s<i;s++)o[s](a)},n.prototype.State=e("./rules_inline/state_inline"),r.exports=n},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(e,r,t){"use strict";r.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(e,r,t){"use strict";function n(){this.rules=s({},a)}var s=e("./common/utils").assign,o=e("./common/utils").unescapeAll,i=e("./common/utils").escapeHtml,a={};a.code_inline=function(e,r,t,n,s){var o=e[r];return"<code"+s.renderAttrs(o)+">"+i(e[r].content)+"</code>"},a.code_block=function(e,r,t,n,s){var o=e[r];return"<pre"+s.renderAttrs(o)+"><code>"+i(e[r].content)+"</code></pre>\n"},a.fence=function(e,r,t,n,s){var a,c,l,u,p=e[r],h=p.info?o(p.info).trim():"",f="";return h&&(f=h.split(/\s+/g)[0]),a=t.highlight?t.highlight(p.content,f)||i(p.content):i(p.content),0===a.indexOf("<pre")?a+"\n":h?(c=p.attrIndex("class"),l=p.attrs?p.attrs.slice():[],c<0?l.push(["class",t.langPrefix+f]):l[c][1]+=" "+t.langPrefix+f,u={attrs:l},"<pre><code"+s.renderAttrs(u)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(p)+">"+a+"</code></pre>\n"},a.image=function(e,r,t,n,s){var o=e[r];return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,t,n),s.renderToken(e,r,t)},a.hardbreak=function(e,r,t){return t.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,r,t){return t.breaks?t.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,r){return i(e[r].content)},a.html_block=function(e,r){return e[r].content},a.html_inline=function(e,r){return e[r].content},n.prototype.renderAttrs=function(e){var r,t,n;if(!e.attrs)return"";for(n="",r=0,t=e.attrs.length;r<t;r++)n+=" "+i(e.attrs[r][0])+'="'+i(e.attrs[r][1])+'"';return n},n.prototype.renderToken=function(e,r,t){var n,s="",o=!1,i=e[r];return i.hidden?"":(i.block&&i.nesting!==-1&&r&&e[r-1].hidden&&(s+="\n"),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),0===i.nesting&&t.xhtmlOut&&(s+=" /"),i.block&&(o=!0,1===i.nesting&&r+1<e.length&&(n=e[r+1],"inline"===n.type||n.hidden?o=!1:n.nesting===-1&&n.tag===i.tag&&(o=!1))),s+=o?">\n":">")},n.prototype.renderInline=function(e,r,t){for(var n,s="",o=this.rules,i=0,a=e.length;i<a;i++)n=e[i].type,s+="undefined"!=typeof o[n]?o[n](e,i,r,t,this):this.renderToken(e,i,r);return s},n.prototype.renderInlineAsText=function(e,r,t){for(var n="",s=0,o=e.length;s<o;s++)"text"===e[s].type?n+=e[s].content:"image"===e[s].type&&(n+=this.renderInlineAsText(e[s].children,r,t));return n},n.prototype.render=function(e,r,t){var n,s,o,i="",a=this.rules;for(n=0,s=e.length;n<s;n++)o=e[n].type,i+="inline"===o?this.renderInline(e[n].children,r,t):"undefined"!=typeof a[o]?a[e[n].type](e,n,r,t,this):this.renderToken(e,n,r,t);return i},r.exports=n},{"./common/utils":4}],17:[function(e,r,t){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var r=0;r<this.__rules__.length;r++)if(this.__rules__[r].name===e)return r;return-1},n.prototype.__compile__=function(){var e=this,r=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){r.indexOf(e)<0&&r.push(e)})}),e.__cache__={},r.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(t){t.enabled&&(r&&t.alt.indexOf(r)<0||e.__cache__[r].push(t.fn))})})},n.prototype.at=function(e,r,t){var n=this.__find__(e),s=t||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=r,this.__rules__[n].alt=s.alt||[],this.__cache__=null},n.prototype.before=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.after=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.push=function(e,r,t){var n=t||{};this.__rules__.push({name:e,enabled:!0,fn:r,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,r){Array.isArray(e)||(e=[e]);var t=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(r)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,t.push(e)},this),this.__cache__=null,t},n.prototype.enableOnly=function(e,r){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,r)},n.prototype.disable=function(e,r){Array.isArray(e)||(e=[e]);var t=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(r)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,t.push(e)},this),this.__cache__=null,t},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},r.exports=n},{}],18:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace;r.exports=function(e,r,t,s){var o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,y,x,C,A=e.bMarks[r]+e.tShift[r],w=e.eMarks[r];if(62!==e.src.charCodeAt(A++))return!1;if(s)return!0;for(_=e.blkIndent,e.blkIndent=0,c=f=e.sCount[r]+A-(e.bMarks[r]+e.tShift[r]),32===e.src.charCodeAt(A)?(A++,c++,f++,o=!1,v=!0):9===e.src.charCodeAt(A)?(v=!0,(e.bsCount[r]+f)%4===3?(A++,c++,f++,o=!1):o=!0):v=!1,d=[e.bMarks[r]],e.bMarks[r]=A;A<w&&(i=e.src.charCodeAt(A),n(i));)9===i?f+=4-(f+e.bsCount[r]+(o?1:0))%4:f++,A++;for(m=[e.bsCount[r]],e.bsCount[r]=e.sCount[r]+1+(v?1:0),u=A>=w,b=[e.sCount[r]],e.sCount[r]=f-c,k=[e.tShift[r]],e.tShift[r]=A-e.bMarks[r],x=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",h=r+1;h<t&&!(e.sCount[h]<_)&&(A=e.bMarks[h]+e.tShift[h],w=e.eMarks[h],!(A>=w));h++)if(62!==e.src.charCodeAt(A++)){if(u)break;for(y=!1,a=0,l=x.length;a<l;a++)if(x[a](e,h,t,!0)){y=!0;break}if(y)break;d.push(e.bMarks[h]),m.push(e.bsCount[h]),k.push(e.tShift[h]),b.push(e.sCount[h]),e.sCount[h]=-1}else{for(c=f=e.sCount[h]+A-(e.bMarks[h]+e.tShift[h]),32===e.src.charCodeAt(A)?(A++,c++,f++,o=!1,v=!0):9===e.src.charCodeAt(A)?(v=!0,(e.bsCount[h]+f)%4===3?(A++,c++,f++,o=!1):o=!0):v=!1,d.push(e.bMarks[h]),e.bMarks[h]=A;A<w&&(i=e.src.charCodeAt(A),n(i));)9===i?f+=4-(f+e.bsCount[h]+(o?1:0))%4:f++,A++;u=A>=w,m.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(v?1:0),b.push(e.sCount[h]),e.sCount[h]=f-c,k.push(e.tShift[h]),e.tShift[h]=A-e.bMarks[h]}for(C=e.push("blockquote_open","blockquote",1),C.markup=">",C.map=p=[r,0],e.md.block.tokenize(e,r,h),C=e.push("blockquote_close","blockquote",-1),C.markup=">",e.parentType=g,p[1]=e.line,a=0;a<k.length;a++)e.bMarks[a+r]=d[a],e.tShift[a+r]=k[a],e.sCount[a+r]=b[a],e.bsCount[a+r]=m[a];return e.blkIndent=_,!0}},{"../common/utils":4}],19:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o;if(e.sCount[r]-e.blkIndent<4)return!1;for(s=n=r+1;n<t;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;n++,s=n}return e.line=s,o=e.push("code_block","code",0),o.content=e.getLines(r,s,4+e.blkIndent,!0),o.map=[r,e.line],!0}},{}],20:[function(e,r,t){"use strict";r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p=!1,h=e.bMarks[r]+e.tShift[r],f=e.eMarks[r];if(h+3>f)return!1;if(s=e.src.charCodeAt(h),126!==s&&96!==s)return!1;if(c=h,h=e.skipChars(h,s),o=h-c,o<3)return!1;if(u=e.src.slice(c,h),i=e.src.slice(h,f),i.indexOf("`")>=0)return!1;if(n)return!0;for(a=r;(a++,!(a>=t))&&(h=c=e.bMarks[a]+e.tShift[a],f=e.eMarks[a],!(h<f&&e.sCount[a]<e.blkIndent));)if(e.src.charCodeAt(h)===s&&!(e.sCount[a]-e.blkIndent>=4||(h=e.skipChars(h,s),h-c<o||(h=e.skipSpaces(h),h<f)))){p=!0;break}return o=e.sCount[r],e.line=a+(p?1:0),l=e.push("fence","code",0),l.info=i,l.content=e.getLines(r+1,a,o,!0),l.markup=u,l.map=[r,e.line],!0}},{}],21:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace;r.exports=function(e,r,t,s){var o,i,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(o=e.src.charCodeAt(l),35!==o||l>=u)return!1;for(i=1,o=e.src.charCodeAt(++l);35===o&&l<u&&i<=6;)i++,o=e.src.charCodeAt(++l);return!(i>6||l<u&&!n(o))&&(!!s||(u=e.skipSpacesBack(u,l),a=e.skipCharsBack(u,35,l),a>l&&n(e.src.charCodeAt(a-1))&&(u=a),e.line=r+1,c=e.push("heading_open","h"+String(i),1),c.markup="########".slice(0,i),c.map=[r,e.line],c=e.push("inline","",0),c.content=e.src.slice(l,u).trim(),c.map=[r,e.line],c.children=[],c=e.push("heading_close","h"+String(i),-1),c.markup="########".slice(0,i),!0))}},{"../common/utils":4}],22:[function(e,r,t){"use strict";var n=e("../common/utils").isSpace;r.exports=function(e,r,t,s){var o,i,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(o=e.src.charCodeAt(l++),42!==o&&45!==o&&95!==o)return!1;for(i=1;l<u;){if(a=e.src.charCodeAt(l++),a!==o&&!n(a))return!1;a===o&&i++}return!(i<3)&&(!!s||(e.line=r+1,c=e.push("hr","hr",0),c.map=[r,e.line],c.markup=Array(i+1).join(String.fromCharCode(o)),!0))}},{"../common/utils":4}],23:[function(e,r,t){"use strict";var n=e("../common/html_blocks"),s=e("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(s.source+"\\s*$"),/^$/,!1]];r.exports=function(e,r,t,n){var s,i,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(c=e.src.slice(l,u),s=0;s<o.length&&!o[s][0].test(c);s++);if(s===o.length)return!1;if(n)return o[s][2];if(i=r+1,!o[s][1].test(c))for(;i<t&&!(e.sCount[i]<e.blkIndent);i++)if(l=e.bMarks[i]+e.tShift[i],u=e.eMarks[i],c=e.src.slice(l,u),o[s][1].test(c)){0!==c.length&&i++;break}return e.line=i,a=e.push("html_block","",0),a.map=[r,i],a.content=e.getLines(r,i,e.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a,c,l,u,p,h,f=r+1,d=e.md.block.ruler.getRules("paragraph");for(h=e.parentType,e.parentType="paragraph";f<t&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(c=e.bMarks[f]+e.tShift[f],l=e.eMarks[f],c<l&&(p=e.src.charCodeAt(c),(45===p||61===p)&&(c=e.skipChars(c,p),c=e.skipSpaces(c),c>=l)))){u=61===p?1:2;break}if(!(e.sCount[f]<0)){for(s=!1,o=0,i=d.length;o<i;o++)if(d[o](e,f,t,!0)){s=!0;break}if(s)break}}return!!u&&(n=e.getLines(r,f,e.blkIndent,!1).trim(),e.line=f+1,a=e.push("heading_open","h"+String(u),1),a.markup=String.fromCharCode(p),a.map=[r,e.line],a=e.push("inline","",0),a.content=n,a.map=[r,e.line-1],a.children=[],a=e.push("heading_close","h"+String(u),-1),a.markup=String.fromCharCode(p),e.parentType=h,!0)}},{}],25:[function(e,r,t){"use strict";function n(e,r){var t,n,s,o;return n=e.bMarks[r]+e.tShift[r],s=e.eMarks[r],t=e.src.charCodeAt(n++),42!==t&&45!==t&&43!==t?-1:n<s&&(o=e.src.charCodeAt(n),!i(o))?-1:n}function s(e,r){var t,n=e.bMarks[r]+e.tShift[r],s=n,o=e.eMarks[r];if(s+1>=o)return-1;if(t=e.src.charCodeAt(s++),t<48||t>57)return-1;for(;;){if(s>=o)return-1;t=e.src.charCodeAt(s++);{if(!(t>=48&&t<=57)){if(41===t||46===t)break;return-1}if(s-n>=10)return-1}}return s<o&&(t=e.src.charCodeAt(s),!i(t))?-1:s}function o(e,r){var t,n,s=e.level+2;for(t=r+2,n=e.tokens.length-2;t<n;t++)e.tokens[t].level===s&&"paragraph_open"===e.tokens[t].type&&(e.tokens[t+2].hidden=!0,e.tokens[t].hidden=!0,t+=2)}var i=e("../common/utils").isSpace;r.exports=function(e,r,t,a){var c,l,u,p,h,f,d,m,_,g,b,k,v,y,x,C,A,w,D,q,E,S,F,L,z,T,R,M,I=!1,B=!0;if(a&&"paragraph"===e.parentType&&e.tShift[r]>=e.blkIndent&&(I=!0),(F=s(e,r))>=0){if(d=!0,z=e.bMarks[r]+e.tShift[r],v=Number(e.src.substr(z,F-z-1)),I&&1!==v)return!1}else{if(!((F=n(e,r))>=0))return!1;d=!1}if(I&&e.skipSpaces(F)>=e.eMarks[r])return!1;if(k=e.src.charCodeAt(F-1),a)return!0;for(b=e.tokens.length,d?(M=e.push("ordered_list_open","ol",1),1!==v&&(M.attrs=[["start",v]])):M=e.push("bullet_list_open","ul",1),M.map=g=[r,0],M.markup=String.fromCharCode(k),x=r,L=!1,R=e.md.block.ruler.getRules("list"),D=e.parentType,e.parentType="list";x<t;){for(S=F,y=e.eMarks[x],f=C=e.sCount[x]+F-(e.bMarks[r]+e.tShift[r]);S<y&&(c=e.src.charCodeAt(S),i(c));)9===c?C+=4-(C+e.bsCount[x])%4:C++,S++;if(l=S,h=l>=y?1:C-f,h>4&&(h=1),p=f+h,M=e.push("list_item_open","li",1),M.markup=String.fromCharCode(k),M.map=m=[r,0],A=e.blkIndent,E=e.tight,q=e.tShift[r],w=e.sCount[r],e.blkIndent=p,e.tight=!0,e.tShift[r]=l-e.bMarks[r],e.sCount[r]=C,l>=y&&e.isEmpty(r+1)?e.line=Math.min(e.line+2,t):e.md.block.tokenize(e,r,t,!0),e.tight&&!L||(B=!1),L=e.line-r>1&&e.isEmpty(e.line-1),e.blkIndent=A,e.tShift[r]=q,e.sCount[r]=w,e.tight=E,M=e.push("list_item_close","li",-1),M.markup=String.fromCharCode(k),x=r=e.line,m[1]=x,l=e.bMarks[r],x>=t)break;if(e.sCount[x]<e.blkIndent)break;for(T=!1,u=0,_=R.length;u<_;u++)if(R[u](e,x,t,!0)){T=!0;break}if(T)break;if(d){if(F=s(e,x),F<0)break}else if(F=n(e,x),F<0)break;if(k!==e.src.charCodeAt(F-1))break}return M=d?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),M.markup=String.fromCharCode(k),g[1]=x,e.line=x,e.parentType=D,B&&o(e,b),!0}},{"../common/utils":4}],26:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=r+1,l=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<u&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(n=!1,s=0,o=l.length;s<o;s++)if(l[s](e,c,u,!0)){n=!0;break}if(n)break}return t=e.getLines(r,c,e.blkIndent,!1).trim(),e.line=c,i=e.push("paragraph_open","p",1),i.map=[r,e.line],i=e.push("inline","",0),i.content=t,i.map=[r,e.line],i.children=[],i=e.push("paragraph_close","p",-1),e.parentType=a,!0}},{}],27:[function(e,r,t){"use strict";var n=e("../common/utils").normalizeReference,s=e("../common/utils").isSpace;r.exports=function(e,r,t,o){var i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,y,x=0,C=e.bMarks[r]+e.tShift[r],A=e.eMarks[r],w=r+1;if(91!==e.src.charCodeAt(C))return!1;for(;++C<A;)if(93===e.src.charCodeAt(C)&&92!==e.src.charCodeAt(C-1)){if(C+1===A)return!1;if(58!==e.src.charCodeAt(C+1))return!1;break}for(l=e.lineMax,v=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";w<l&&!e.isEmpty(w);w++)if(!(e.sCount[w]-e.blkIndent>3||e.sCount[w]<0)){for(k=!1,p=0,h=v.length;p<h;p++)if(v[p](e,w,l,!0)){k=!0;break}if(k)break}for(b=e.getLines(r,w,e.blkIndent,!1).trim(),A=b.length,C=1;C<A;C++){if(i=b.charCodeAt(C),91===i)return!1;if(93===i){d=C;break}10===i?x++:92===i&&(C++,C<A&&10===b.charCodeAt(C)&&x++)}if(d<0||58!==b.charCodeAt(d+1))return!1;for(C=d+2;C<A;C++)if(i=b.charCodeAt(C),10===i)x++;else if(!s(i))break;if(_=e.md.helpers.parseLinkDestination(b,C,A),!_.ok)return!1;if(u=e.md.normalizeLink(_.str),!e.md.validateLink(u))return!1;for(C=_.pos,x+=_.lines,a=C,c=x,g=C;C<A;C++)if(i=b.charCodeAt(C),10===i)x++;else if(!s(i))break;for(_=e.md.helpers.parseLinkTitle(b,C,A),C<A&&g!==C&&_.ok?(y=_.str,C=_.pos,x+=_.lines):(y="",C=a,x=c);C<A&&(i=b.charCodeAt(C),s(i));)C++;if(C<A&&10!==b.charCodeAt(C)&&y)for(y="",C=a,x=c;C<A&&(i=b.charCodeAt(C),s(i));)C++;return!(C<A&&10!==b.charCodeAt(C))&&(!!(f=n(b.slice(1,d)))&&(!!o||("undefined"==typeof e.env.references&&(e.env.references={}),"undefined"==typeof e.env.references[f]&&(e.env.references[f]={title:y,href:u}),e.parentType=m,e.line=r+x+1,!0)))}},{"../common/utils":4}],28:[function(e,r,t){"use strict";function n(e,r,t,n){var s,i,a,c,l,u,p,h;for(this.src=e,this.md=r,this.env=t,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",i=this.src,h=!1,a=c=u=p=0,l=i.length;c<l;c++){if(s=i.charCodeAt(c),!h){if(o(s)){u++,9===s?p+=4-p%4:p++;continue}h=!0}10!==s&&c!==l-1||(10!==s&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(u),this.sCount.push(p),this.bsCount.push(0),h=!1,u=0,p=0,a=c+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}var s=e("../token"),o=e("../common/utils").isSpace;n.prototype.push=function(e,r,t){var n=new s(e,r,t);return n.block=!0,t<0&&this.level--,n.level=this.level,t>0&&this.level++,this.tokens.push(n),n},n.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},n.prototype.skipEmptyLines=function(e){for(var r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},n.prototype.skipSpaces=function(e){for(var r,t=this.src.length;e<t&&(r=this.src.charCodeAt(e),o(r));e++);return e},n.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},n.prototype.skipChars=function(e,r){for(var t=this.src.length;e<t&&this.src.charCodeAt(e)===r;e++);return e},n.prototype.skipCharsBack=function(e,r,t){if(e<=t)return e;for(;e>t;)if(r!==this.src.charCodeAt(--e))return e+1;return e},n.prototype.getLines=function(e,r,t,n){var s,i,a,c,l,u,p,h=e;if(e>=r)return"";for(u=new Array(r-e),s=0;h<r;h++,s++){for(i=0,p=c=this.bMarks[h],l=h+1<r||n?this.eMarks[h]+1:this.eMarks[h];c<l&&i<t;){if(a=this.src.charCodeAt(c),o(a))9===a?i+=4-(i+this.bsCount[h])%4:i++;else{if(!(c-p<this.tShift[h]))break;i++}c++}i>t?u[s]=new Array(i-t+1).join(" ")+this.src.slice(c,l):u[s]=this.src.slice(c,l)}return u.join("")},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],29:[function(e,r,t){"use strict";function n(e,r){var t=e.bMarks[r]+e.blkIndent,n=e.eMarks[r];
return e.src.substr(t,n-t)}function s(e){var r,t=[],n=0,s=e.length,o=0,i=0,a=!1,c=0;for(r=e.charCodeAt(n);n<s;)96===r&&o%2===0?(a=!a,c=n):124!==r||o%2!==0||a?92===r?o++:o=0:(t.push(e.substring(i,n)),i=n+1),n++,n===s&&a&&(a=!1,n=c+1),r=e.charCodeAt(n);return t.push(e.substring(i)),t}var o=e("../common/utils").isSpace;r.exports=function(e,r,t,i){var a,c,l,u,p,h,f,d,m,_,g,b;if(r+2>t)return!1;if(p=r+1,e.sCount[p]<e.blkIndent)return!1;if(l=e.bMarks[p]+e.tShift[p],l>=e.eMarks[p])return!1;if(a=e.src.charCodeAt(l++),124!==a&&45!==a&&58!==a)return!1;for(;l<e.eMarks[p];){if(a=e.src.charCodeAt(l),124!==a&&45!==a&&58!==a&&!o(a))return!1;l++}for(c=n(e,r+1),h=c.split("|"),m=[],u=0;u<h.length;u++){if(_=h[u].trim(),!_){if(0===u||u===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(_))return!1;58===_.charCodeAt(_.length-1)?m.push(58===_.charCodeAt(0)?"center":"right"):58===_.charCodeAt(0)?m.push("left"):m.push("")}if(c=n(e,r).trim(),c.indexOf("|")===-1)return!1;if(h=s(c.replace(/^\||\|$/g,"")),f=h.length,f>m.length)return!1;if(i)return!0;for(d=e.push("table_open","table",1),d.map=g=[r,0],d=e.push("thead_open","thead",1),d.map=[r,r+1],d=e.push("tr_open","tr",1),d.map=[r,r+1],u=0;u<h.length;u++)d=e.push("th_open","th",1),d.map=[r,r+1],m[u]&&(d.attrs=[["style","text-align:"+m[u]]]),d=e.push("inline","",0),d.content=h[u].trim(),d.map=[r,r+1],d.children=[],d=e.push("th_close","th",-1);for(d=e.push("tr_close","tr",-1),d=e.push("thead_close","thead",-1),d=e.push("tbody_open","tbody",1),d.map=b=[r+2,0],p=r+2;p<t&&!(e.sCount[p]<e.blkIndent)&&(c=n(e,p),c.indexOf("|")!==-1);p++){for(h=s(c.replace(/^\||\|\s*$/g,"")),d=e.push("tr_open","tr",1),u=0;u<f;u++)d=e.push("td_open","td",1),m[u]&&(d.attrs=[["style","text-align:"+m[u]]]),d=e.push("inline","",0),d.content=h[u]?h[u].trim():"",d.children=[],d=e.push("td_close","td",-1);d=e.push("tr_close","tr",-1)}return d=e.push("tbody_close","tbody",-1),d=e.push("table_close","table",-1),g[1]=b[1]=p,e.line=p,!0}},{"../common/utils":4}],30:[function(e,r,t){"use strict";r.exports=function(e){var r;e.inlineMode?(r=new e.Token("inline","",0),r.content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},{}],31:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s=e.tokens;for(t=0,n=s.length;t<n;t++)r=s[t],"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}},{}],32:[function(e,r,t){"use strict";function n(e){return/^<a[>\s]/i.test(e)}function s(e){return/^<\/a\s*>/i.test(e)}var o=e("../common/utils").arrayReplaceAt;r.exports=function(e){var r,t,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,y=e.tokens;if(e.md.options.linkify)for(t=0,i=y.length;t<i;t++)if("inline"===y[t].type&&e.md.linkify.pretest(y[t].content))for(a=y[t].children,_=0,r=a.length-1;r>=0;r--)if(l=a[r],"link_close"!==l.type){if("html_inline"===l.type&&(n(l.content)&&_>0&&_--,s(l.content)&&_++),!(_>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(h=l.content,v=e.md.linkify.match(h),u=[],m=l.level,d=0,p=0;p<v.length;p++)g=v[p].url,b=e.md.normalizeLink(g),e.md.validateLink(b)&&(k=v[p].text,k=v[p].schema?"mailto:"!==v[p].schema||/^mailto:/i.test(k)?e.md.normalizeLinkText(k):e.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,""),f=v[p].index,f>d&&(c=new e.Token("text","",0),c.content=h.slice(d,f),c.level=m,u.push(c)),c=new e.Token("link_open","a",1),c.attrs=[["href",b]],c.level=m++,c.markup="linkify",c.info="auto",u.push(c),c=new e.Token("text","",0),c.content=k,c.level=m,u.push(c),c=new e.Token("link_close","a",-1),c.level=--m,c.markup="linkify",c.info="auto",u.push(c),d=v[p].lastIndex);d<h.length&&(c=new e.Token("text","",0),c.content=h.slice(d),c.level=m,u.push(c)),y[t].children=a=o(a,r,u)}}else for(r--;a[r].level!==l.level&&"link_open"!==a[r].type;)r--}},{"../common/utils":4}],33:[function(e,r,t){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,s=/\u0000/g;r.exports=function(e){var r;r=e.src.replace(n,"\n"),r=r.replace(s,"\ufffd"),e.src=r}},{}],34:[function(e,r,t){"use strict";function n(e,r){return l[r.toLowerCase()]}function s(e){var r,t,s=0;for(r=e.length-1;r>=0;r--)t=e[r],"text"!==t.type||s||(t.content=t.content.replace(c,n)),"link_open"===t.type&&"auto"===t.info&&s--,"link_close"===t.type&&"auto"===t.info&&s++}function o(e){var r,t,n=0;for(r=e.length-1;r>=0;r--)t=e[r],"text"!==t.type||n||i.test(t.content)&&(t.content=t.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===t.type&&"auto"===t.info&&n--,"link_close"===t.type&&"auto"===t.info&&n++}var i=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,a=/\((c|tm|r|p)\)/i,c=/\((c|tm|r|p)\)/gi,l={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&(a.test(e.tokens[r].content)&&s(e.tokens[r].children),i.test(e.tokens[r].content)&&o(e.tokens[r].children))}},{}],35:[function(e,r,t){"use strict";function n(e,r,t){return e.substr(0,r)+t+e.substr(r+1)}function s(e,r){var t,s,c,p,h,f,d,m,_,g,b,k,v,y,x,C,A,w,D,q,E;for(D=[],t=0;t<e.length;t++){for(s=e[t],d=e[t].level,A=D.length-1;A>=0&&!(D[A].level<=d);A--);if(D.length=A+1,"text"===s.type){c=s.content,h=0,f=c.length;e:for(;h<f&&(l.lastIndex=h,p=l.exec(c));){if(x=C=!0,h=p.index+1,w="'"===p[0],_=32,p.index-1>=0)_=c.charCodeAt(p.index-1);else for(A=t-1;A>=0;A--)if("text"===e[A].type){_=e[A].content.charCodeAt(e[A].content.length-1);break}if(g=32,h<f)g=c.charCodeAt(h);else for(A=t+1;A<e.length;A++)if("text"===e[A].type){g=e[A].content.charCodeAt(0);break}if(b=a(_)||i(String.fromCharCode(_)),k=a(g)||i(String.fromCharCode(g)),v=o(_),y=o(g),y?x=!1:k&&(v||b||(x=!1)),v?C=!1:b&&(y||k||(C=!1)),34===g&&'"'===p[0]&&_>=48&&_<=57&&(C=x=!1),x&&C&&(x=!1,C=k),x||C){if(C)for(A=D.length-1;A>=0&&(m=D[A],!(D[A].level<d));A--)if(m.single===w&&D[A].level===d){m=D[A],w?(q=r.md.options.quotes[2],E=r.md.options.quotes[3]):(q=r.md.options.quotes[0],E=r.md.options.quotes[1]),s.content=n(s.content,p.index,E),e[m.token].content=n(e[m.token].content,m.pos,q),h+=E.length-1,m.token===t&&(h+=q.length-1),c=s.content,f=c.length,D.length=A;continue e}x?D.push({token:t,pos:p.index,single:w,level:d}):C&&w&&(s.content=n(s.content,p.index,u))}else w&&(s.content=n(s.content,p.index,u))}}}}var o=e("../common/utils").isWhiteSpace,i=e("../common/utils").isPunctChar,a=e("../common/utils").isMdAsciiPunct,c=/['"]/,l=/['"]/g,u="\u2019";r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&c.test(e.tokens[r].content)&&s(e.tokens[r].children,e)}},{"../common/utils":4}],36:[function(e,r,t){"use strict";function n(e,r,t){this.src=e,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=r}var s=e("../token");n.prototype.Token=s,r.exports=n},{"../token":51}],37:[function(e,r,t){"use strict";var n=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,s=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;r.exports=function(e,r){var t,o,i,a,c,l,u=e.pos;return 60===e.src.charCodeAt(u)&&(t=e.src.slice(u),!(t.indexOf(">")<0)&&(s.test(t)?(o=t.match(s),a=o[0].slice(1,-1),c=e.md.normalizeLink(a),!!e.md.validateLink(c)&&(r||(l=e.push("link_open","a",1),l.attrs=[["href",c]],l.markup="autolink",l.info="auto",l=e.push("text","",0),l.content=e.md.normalizeLinkText(a),l=e.push("link_close","a",-1),l.markup="autolink",l.info="auto"),e.pos+=o[0].length,!0)):!!n.test(t)&&(i=t.match(n),a=i[0].slice(1,-1),c=e.md.normalizeLink("mailto:"+a),!!e.md.validateLink(c)&&(r||(l=e.push("link_open","a",1),l.attrs=[["href",c]],l.markup="autolink",l.info="auto",l=e.push("text","",0),l.content=e.md.normalizeLinkText(a),l=e.push("link_close","a",-1),l.markup="autolink",l.info="auto"),e.pos+=i[0].length,!0))))}},{}],38:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=e.pos,l=e.src.charCodeAt(c);if(96!==l)return!1;for(t=c,c++,n=e.posMax;c<n&&96===e.src.charCodeAt(c);)c++;for(s=e.src.slice(t,c),o=i=c;(o=e.src.indexOf("`",i))!==-1;){for(i=o+1;i<n&&96===e.src.charCodeAt(i);)i++;if(i-o===s.length)return r||(a=e.push("code_inline","code",0),a.markup=s,a.content=e.src.slice(c,o).replace(/[ \n]+/g," ").trim()),e.pos=i,!0}return r||(e.pending+=s),e.pos+=s.length,!0}},{}],39:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s,o=e.delimiters,i=e.delimiters.length;for(r=0;r<i;r++)if(n=o[r],n.close)for(t=r-n.jump-1;t>=0;){if(s=o[t],s.open&&s.marker===n.marker&&s.end<0&&s.level===n.level){var a=(s.close||n.open)&&"undefined"!=typeof s.length&&"undefined"!=typeof n.length&&(s.length+n.length)%3===0;if(!a){n.jump=r-t,n.open=!1,s.end=r,s.jump=0;break}}t-=s.jump+1}}},{}],40:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s,o=e.pos,i=e.src.charCodeAt(o);if(r)return!1;if(95!==i&&42!==i)return!1;for(n=e.scanDelims(e.pos,42===i),t=0;t<n.length;t++)s=e.push("text","",0),s.content=String.fromCharCode(i),e.delimiters.push({marker:i,length:n.length,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i,a=e.delimiters,c=e.delimiters.length;for(r=0;r<c;r++)t=a[r],95!==t.marker&&42!==t.marker||t.end!==-1&&(n=a[t.end],i=r+1<c&&a[r+1].end===t.end-1&&a[r+1].token===t.token+1&&a[t.end-1].token===n.token-1&&a[r+1].marker===t.marker,o=String.fromCharCode(t.marker),s=e.tokens[t.token],s.type=i?"strong_open":"em_open",s.tag=i?"strong":"em",s.nesting=1,s.markup=i?o+o:o,s.content="",s=e.tokens[n.token],s.type=i?"strong_close":"em_close",s.tag=i?"strong":"em",s.nesting=-1,s.markup=i?o+o:o,s.content="",i&&(e.tokens[a[r+1].token].content="",e.tokens[a[t.end-1].token].content="",r++))}},{}],41:[function(e,r,t){"use strict";var n=e("../common/entities"),s=e("../common/utils").has,o=e("../common/utils").isValidEntityCode,i=e("../common/utils").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;r.exports=function(e,r){var t,l,u,p=e.pos,h=e.posMax;if(38!==e.src.charCodeAt(p))return!1;if(p+1<h)if(t=e.src.charCodeAt(p+1),35===t){if(u=e.src.slice(p).match(a))return r||(l="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=i(o(l)?l:65533)),e.pos+=u[0].length,!0}else if(u=e.src.slice(p).match(c),u&&s(n,u[1]))return r||(e.pending+=n[u[1]]),e.pos+=u[0].length,!0;return r||(e.pending+="&"),e.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(e,r,t){"use strict";for(var n=e("../common/utils").isSpace,s=[],o=0;o<256;o++)s.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){s[e.charCodeAt(0)]=1}),r.exports=function(e,r){var t,o=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(o++,o<i){if(t=e.src.charCodeAt(o),t<256&&0!==s[t])return r||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===t){for(r||e.push("hardbreak","br",0),o++;o<i&&(t=e.src.charCodeAt(o),n(t));)o++;return e.pos=o,!0}}return r||(e.pending+="\\"),e.pos++,!0}},{"../common/utils":4}],43:[function(e,r,t){"use strict";function n(e){var r=32|e;return r>=97&&r<=122}var s=e("../common/html_re").HTML_TAG_RE;r.exports=function(e,r){var t,o,i,a,c=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(c)||c+2>=i)&&(t=e.src.charCodeAt(c+1),!(33!==t&&63!==t&&47!==t&&!n(t))&&(!!(o=e.src.slice(c).match(s))&&(r||(a=e.push("html_inline","",0),a.content=e.src.slice(c,c+o[0].length)),e.pos+=o[0].length,!0))))}},{"../common/html_re":3}],44:[function(e,r,t){"use strict";var n=e("../common/utils").normalizeReference,s=e("../common/utils").isSpace;r.exports=function(e,r){var t,o,i,a,c,l,u,p,h,f,d,m,_,g="",b=e.pos,k=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),c<0)return!1;if(u=c+1,u<k&&40===e.src.charCodeAt(u)){for(u++;u<k&&(o=e.src.charCodeAt(u),s(o)||10===o);u++);if(u>=k)return!1;for(_=u,h=e.md.helpers.parseLinkDestination(e.src,u,e.posMax),h.ok&&(g=e.md.normalizeLink(h.str),e.md.validateLink(g)?u=h.pos:g=""),_=u;u<k&&(o=e.src.charCodeAt(u),s(o)||10===o);u++);if(h=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<k&&_!==u&&h.ok)for(f=h.str,u=h.pos;u<k&&(o=e.src.charCodeAt(u),s(o)||10===o);u++);else f="";if(u>=k||41!==e.src.charCodeAt(u))return e.pos=b,!1;u++}else{if("undefined"==typeof e.env.references)return!1;if(u<k&&91===e.src.charCodeAt(u)?(_=u+1,u=e.md.helpers.parseLinkLabel(e,u),u>=0?a=e.src.slice(_,u++):u=c+1):u=c+1,a||(a=e.src.slice(l,c)),p=e.env.references[n(a)],!p)return e.pos=b,!1;g=p.href,f=p.title}return r||(i=e.src.slice(l,c),e.md.inline.parse(i,e.md,e.env,m=[]),d=e.push("image","img",0),d.attrs=t=[["src",g],["alt",""]],d.children=m,d.content=i,f&&t.push(["title",f])),e.pos=u,e.posMax=k,!0}},{"../common/utils":4}],45:[function(e,r,t){"use strict";var n=e("../common/utils").normalizeReference,s=e("../common/utils").isSpace;r.exports=function(e,r){var t,o,i,a,c,l,u,p,h,f,d="",m=e.pos,_=e.posMax,g=e.pos;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,a=e.md.helpers.parseLinkLabel(e,e.pos,!0),a<0)return!1;if(l=a+1,l<_&&40===e.src.charCodeAt(l)){for(l++;l<_&&(o=e.src.charCodeAt(l),s(o)||10===o);l++);if(l>=_)return!1;for(g=l,u=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),u.ok&&(d=e.md.normalizeLink(u.str),e.md.validateLink(d)?l=u.pos:d=""),g=l;l<_&&(o=e.src.charCodeAt(l),s(o)||10===o);l++);if(u=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<_&&g!==l&&u.ok)for(h=u.str,l=u.pos;l<_&&(o=e.src.charCodeAt(l),s(o)||10===o);l++);else h="";if(l>=_||41!==e.src.charCodeAt(l))return e.pos=m,!1;l++}else{if("undefined"==typeof e.env.references)return!1;if(l<_&&91===e.src.charCodeAt(l)?(g=l+1,l=e.md.helpers.parseLinkLabel(e,l),l>=0?i=e.src.slice(g,l++):l=a+1):l=a+1,i||(i=e.src.slice(c,a)),p=e.env.references[n(i)],!p)return e.pos=m,!1;d=p.href,h=p.title}return r||(e.pos=c,e.posMax=a,f=e.push("link_open","a",1),f.attrs=t=[["href",d]],h&&t.push(["title",h]),e.md.inline.tokenize(e),f=e.push("link_close","a",-1)),e.pos=l,e.posMax=_,!0}},{"../common/utils":4}],46:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;for(t=e.pending.length-1,n=e.posMax,r||(t>=0&&32===e.pending.charCodeAt(t)?t>=1&&32===e.pending.charCodeAt(t-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),s++;s<n&&32===e.src.charCodeAt(s);)s++;return e.pos=s,!0}},{}],47:[function(e,r,t){"use strict";function n(e,r,t,n){this.src=e,this.env=t,this.md=r,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}var s=e("../token"),o=e("../common/utils").isWhiteSpace,i=e("../common/utils").isPunctChar,a=e("../common/utils").isMdAsciiPunct;n.prototype.pushPending=function(){var e=new s("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},n.prototype.push=function(e,r,t){this.pending&&this.pushPending();var n=new s(e,r,t);return t<0&&this.level--,n.level=this.level,t>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(n),n},n.prototype.scanDelims=function(e,r){var t,n,s,c,l,u,p,h,f,d=e,m=!0,_=!0,g=this.posMax,b=this.src.charCodeAt(e);for(t=e>0?this.src.charCodeAt(e-1):32;d<g&&this.src.charCodeAt(d)===b;)d++;return s=d-e,n=d<g?this.src.charCodeAt(d):32,p=a(t)||i(String.fromCharCode(t)),f=a(n)||i(String.fromCharCode(n)),u=o(t),h=o(n),h?m=!1:f&&(u||p||(m=!1)),u?_=!1:p&&(h||f||(_=!1)),r?(c=m,l=_):(c=m&&(!_||p),l=_&&(!m||f)),{can_open:c,can_close:l,length:s}},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],48:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s,o,i,a=e.pos,c=e.src.charCodeAt(a);if(r)return!1;if(126!==c)return!1;if(n=e.scanDelims(e.pos,!0),o=n.length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(s=e.push("text","",0),s.content=i,o--),t=0;t<o;t+=2)s=e.push("text","",0),s.content=i+i,e.delimiters.push({marker:c,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i=[],a=e.delimiters,c=e.delimiters.length;for(r=0;r<c;r++)n=a[r],126===n.marker&&n.end!==-1&&(s=a[n.end],o=e.tokens[n.token],o.type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",o=e.tokens[s.token],o.type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&i.push(s.token-1));for(;i.length;){for(r=i.pop(),t=r+1;t<e.tokens.length&&"s_close"===e.tokens[t].type;)t++;t--,r!==t&&(o=e.tokens[t],e.tokens[t]=e.tokens[r],e.tokens[r]=o)}}},{}],49:[function(e,r,t){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}r.exports=function(e,r){for(var t=e.pos;t<e.posMax&&!n(e.src.charCodeAt(t));)t++;return t!==e.pos&&(r||(e.pending+=e.src.slice(e.pos,t)),e.pos=t,!0)}},{}],50:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n=0,s=e.tokens,o=e.tokens.length;for(r=t=0;r<o;r++)n+=s[r].nesting,s[r].level=n,"text"===s[r].type&&r+1<o&&"text"===s[r+1].type?s[r+1].content=s[r].content+s[r+1].content:(r!==t&&(s[t]=s[r]),t++);r!==t&&(s.length=t)}},{}],51:[function(e,r,t){"use strict";function n(e,r,t){this.type=e,this.tag=r,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var r,t,n;if(!this.attrs)return-1;for(r=this.attrs,t=0,n=r.length;t<n;t++)if(r[t][0]===e)return t;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,r){var t=this.attrIndex(e),n=[e,r];t<0?this.attrPush(n):this.attrs[t]=n},n.prototype.attrGet=function(e){var r=this.attrIndex(e),t=null;return r>=0&&(t=this.attrs[r][1]),t},n.prototype.attrJoin=function(e,r){var t=this.attrIndex(e);t<0?this.attrPush([e,r]):this.attrs[t][1]=this.attrs[t][1]+" "+r},r.exports=n},{}],52:[function(e,r,t){r.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",
Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],53:[function(e,r,t){"use strict";function n(e){var r=Array.prototype.slice.call(arguments,1);return r.forEach(function(r){r&&Object.keys(r).forEach(function(t){e[t]=r[t]})}),e}function s(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===s(e)}function i(e){return"[object Object]"===s(e)}function a(e){return"[object RegExp]"===s(e)}function c(e){return"[object Function]"===s(e)}function l(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function u(e){return Object.keys(e||{}).reduce(function(e,r){return e||b.hasOwnProperty(r)},!1)}function p(e){e.__index__=-1,e.__text_cache__=""}function h(e){return function(r,t){var n=r.slice(t);return e.test(n)?n.match(e)[0].length:0}}function f(){return function(e,r){r.normalize(e)}}function d(r){function t(e){return e.replace("%TLDS%",s.src_tlds)}function n(e,r){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+r)}var s=r.re=e("./lib/re")(r.__opts__),u=r.__tlds__.slice();r.onCompile(),r.__tlds_replaced__||u.push(v),u.push(s.src_xn),s.src_tlds=u.join("|"),s.email_fuzzy=RegExp(t(s.tpl_email_fuzzy),"i"),s.link_fuzzy=RegExp(t(s.tpl_link_fuzzy),"i"),s.link_no_ip_fuzzy=RegExp(t(s.tpl_link_no_ip_fuzzy),"i"),s.host_fuzzy_test=RegExp(t(s.tpl_host_fuzzy_test),"i");var d=[];r.__compiled__={},Object.keys(r.__schemas__).forEach(function(e){var t=r.__schemas__[e];if(null!==t){var s={validate:null,link:null};return r.__compiled__[e]=s,i(t)?(a(t.validate)?s.validate=h(t.validate):c(t.validate)?s.validate=t.validate:n(e,t),void(c(t.normalize)?s.normalize=t.normalize:t.normalize?n(e,t):s.normalize=f())):o(t)?void d.push(e):void n(e,t)}}),d.forEach(function(e){r.__compiled__[r.__schemas__[e]]&&(r.__compiled__[e].validate=r.__compiled__[r.__schemas__[e]].validate,r.__compiled__[e].normalize=r.__compiled__[r.__schemas__[e]].normalize)}),r.__compiled__[""]={validate:null,normalize:f()};var m=Object.keys(r.__compiled__).filter(function(e){return e.length>0&&r.__compiled__[e]}).map(l).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+s.src_ZPCc+"))("+m+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+s.src_ZPCc+"))("+m+")","ig"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),p(r)}function m(e,r){var t=e.__index__,n=e.__last_index__,s=e.__text_cache__.slice(t,n);this.schema=e.__schema__.toLowerCase(),this.index=t+r,this.lastIndex=n+r,this.raw=s,this.text=s,this.url=s}function _(e,r){var t=new m(e,r);return e.__compiled__[t.schema].normalize(t,e),t}function g(e,r){return this instanceof g?(r||u(e)&&(r=e,e={}),this.__opts__=n({},b,r),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},k,e),this.__compiled__={},this.__tlds__=y,this.__tlds_replaced__=!1,this.re={},void d(this)):new g(e,r)}var b={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},k={"http:":{validate:function(e,r,t){var n=e.slice(r);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(n)?n.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,r,t){var n=e.slice(r);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(n)?r>=3&&":"===e[r-3]?0:r>=3&&"/"===e[r-3]?0:n.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(e,r,t){var n=e.slice(r);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(n)?n.match(t.re.mailto)[0].length:0}}},v="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",y="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");g.prototype.add=function(e,r){return this.__schemas__[e]=r,d(this),this},g.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},g.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var r,t,n,s,o,i,a,c,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(r=a.exec(e));)if(s=this.testSchemaAt(e,r[2],a.lastIndex)){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(t=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=t.index+t[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=t.index+t[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,i=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i))),this.__index__>=0},g.prototype.pretest=function(e){return this.re.pretest.test(e)},g.prototype.testSchemaAt=function(e,r,t){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,t,this):0},g.prototype.match=function(e){var r=0,t=[];this.__index__>=0&&this.__text_cache__===e&&(t.push(_(this,r)),r=this.__last_index__);for(var n=r?e.slice(r):e;this.test(n);)t.push(_(this,r)),n=n.slice(this.__last_index__),r+=this.__last_index__;return t.length?t:null},g.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,r,t){return e!==t[r-1]}).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},g.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},g.prototype.onCompile=function(){},r.exports=g},{"./lib/re":54}],54:[function(e,r,t){"use strict";r.exports=function(r){var t={};return t.src_Any=e("uc.micro/properties/Any/regex").source,t.src_Cc=e("uc.micro/categories/Cc/regex").source,t.src_Z=e("uc.micro/categories/Z/regex").source,t.src_P=e("uc.micro/categories/P/regex").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?!>|<|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|>|<|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[()[\\]{}.,\"'?!\\-<>]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(r&&r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|<|>|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(e,r,t){"use strict";function n(e){var r,t,n=o[e];if(n)return n;for(n=o[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),n.push(t);for(r=0;r<e.length;r++)t=e.charCodeAt(r),n[t]="%"+("0"+t.toString(16).toUpperCase()).slice(-2);return n}function s(e,r){var t;return"string"!=typeof r&&(r=s.defaultChars),t=n(r),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var r,n,s,o,i,a,c,l="";for(r=0,n=e.length;r<n;r+=3)s=parseInt(e.slice(r+1,r+3),16),s<128?l+=t[s]:192===(224&s)&&r+3<n&&(o=parseInt(e.slice(r+4,r+6),16),
128===(192&o))?(c=s<<6&1984|63&o,l+=c<128?"\ufffd\ufffd":String.fromCharCode(c),r+=3):224===(240&s)&&r+6<n&&(o=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),128===(192&o)&&128===(192&i))?(c=s<<12&61440|o<<6&4032|63&i,l+=c<2048||c>=55296&&c<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(c),r+=6):240===(248&s)&&r+9<n&&(o=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),a=parseInt(e.slice(r+10,r+12),16),128===(192&o)&&128===(192&i)&&128===(192&a))?(c=s<<18&1835008|o<<12&258048|i<<6&4032|63&a,c<65536||c>1114111?l+="\ufffd\ufffd\ufffd\ufffd":(c-=65536,l+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),r+=9):l+="\ufffd";return l})}var o={};s.defaultChars=";/?:@&=+$,#",s.componentChars="",r.exports=s},{}],56:[function(e,r,t){"use strict";function n(e){var r,t,n=o[e];if(n)return n;for(n=o[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<e.length;r++)n[e.charCodeAt(r)]=e[r];return n}function s(e,r,t){var o,i,a,c,l,u="";for("string"!=typeof r&&(t=r,r=s.defaultChars),"undefined"==typeof t&&(t=!0),l=n(r),o=0,i=e.length;o<i;o++)if(a=e.charCodeAt(o),t&&37===a&&o+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(a<128)u+=l[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<i&&(c=e.charCodeAt(o+1),c>=56320&&c<=57343)){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}var o={};s.defaultChars=";/?:@&=+$,-_.!~*'()#",s.componentChars="-_.!~*'()",r.exports=s},{}],57:[function(e,r,t){"use strict";r.exports=function(e){var r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",r+=e.hostname&&e.hostname.indexOf(":")!==-1?"["+e.hostname+"]":e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||""}},{}],58:[function(e,r,t){"use strict";r.exports.encode=e("./encode"),r.exports.decode=e("./decode"),r.exports.format=e("./format"),r.exports.parse=e("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(e,r,t){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function s(e,r){if(e&&e instanceof n)return e;var t=new n;return t.parse(e,r),t}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(c),u=["'"].concat(l),p=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,r){var t,n,s,i,c,l=e;if(l=l.trim(),!r&&1===e.split("#").length){var u=a.exec(l);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}var b=o.exec(l);if(b&&(b=b[0],s=b.toLowerCase(),this.protocol=b,l=l.substr(b.length)),(r||b||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(c="//"===l.substr(0,2),!c||b&&_[b]||(l=l.substr(2),this.slashes=!0)),!_[b]&&(c||b&&!g[b])){var k=-1;for(t=0;t<h.length;t++)i=l.indexOf(h[t]),i!==-1&&(k===-1||i<k)&&(k=i);var v,y;for(y=k===-1?l.lastIndexOf("@"):l.lastIndexOf("@",k),y!==-1&&(v=l.slice(0,y),l=l.slice(y+1),this.auth=v),k=-1,t=0;t<p.length;t++)i=l.indexOf(p[t]),i!==-1&&(k===-1||i<k)&&(k=i);k===-1&&(k=l.length),":"===l[k-1]&&k--;var x=l.slice(0,k);l=l.slice(k),this.parseHost(x),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C){var A=this.hostname.split(/\./);for(t=0,n=A.length;t<n;t++){var w=A[t];if(w&&!w.match(d)){for(var D="",q=0,E=w.length;q<E;q++)D+=w.charCodeAt(q)>127?"x":w[q];if(!D.match(d)){var S=A.slice(0,t),F=A.slice(t+1),L=w.match(m);L&&(S.push(L[1]),F.unshift(L[2])),F.length&&(l=F.join(".")+l),this.hostname=S.join(".");break}}}}this.hostname.length>f&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var z=l.indexOf("#");z!==-1&&(this.hash=l.substr(z),l=l.slice(0,z));var T=l.indexOf("?");return T!==-1&&(this.search=l.substr(T),l=l.slice(0,T)),l&&(this.pathname=l),g[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var r=i.exec(e);r&&(r=r[0],":"!==r&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)},r.exports=s},{}],60:[function(r,t,n){(function(r){!function(s){function o(e){throw new RangeError(R[e])}function i(e,r){for(var t=e.length,n=[];t--;)n[t]=r(e[t]);return n}function a(e,r){var t=e.split("@"),n="";t.length>1&&(n=t[0]+"@",e=t[1]),e=e.replace(T,".");var s=e.split("."),o=i(s,r).join(".");return n+o}function c(e){for(var r,t,n=[],s=0,o=e.length;s<o;)r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<o?(t=e.charCodeAt(s++),56320==(64512&t)?n.push(((1023&r)<<10)+(1023&t)+65536):(n.push(r),s--)):n.push(r);return n}function l(e){return i(e,function(e){var r="";return e>65535&&(e-=65536,r+=B(e>>>10&1023|55296),e=56320|1023&e),r+=B(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:C}function p(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function h(e,r,t){var n=0;for(e=t?I(e/q):e>>1,e+=I(e/r);e>M*w>>1;n+=C)e=I(e/M);return I(n+(M+1)*e/(e+D))}function f(e){var r,t,n,s,i,a,c,p,f,d,m=[],_=e.length,g=0,b=S,k=E;for(t=e.lastIndexOf(F),t<0&&(t=0),n=0;n<t;++n)e.charCodeAt(n)>=128&&o("not-basic"),m.push(e.charCodeAt(n));for(s=t>0?t+1:0;s<_;){for(i=g,a=1,c=C;s>=_&&o("invalid-input"),p=u(e.charCodeAt(s++)),(p>=C||p>I((x-g)/a))&&o("overflow"),g+=p*a,f=c<=k?A:c>=k+w?w:c-k,!(p<f);c+=C)d=C-f,a>I(x/d)&&o("overflow"),a*=d;r=m.length+1,k=h(g-i,r,0==i),I(g/r)>x-b&&o("overflow"),b+=I(g/r),g%=r,m.splice(g++,0,b)}return l(m)}function d(e){var r,t,n,s,i,a,l,u,f,d,m,_,g,b,k,v=[];for(e=c(e),_=e.length,r=S,t=0,i=E,a=0;a<_;++a)m=e[a],m<128&&v.push(B(m));for(n=s=v.length,s&&v.push(F);n<_;){for(l=x,a=0;a<_;++a)m=e[a],m>=r&&m<l&&(l=m);for(g=n+1,l-r>I((x-t)/g)&&o("overflow"),t+=(l-r)*g,r=l,a=0;a<_;++a)if(m=e[a],m<r&&++t>x&&o("overflow"),m==r){for(u=t,f=C;d=f<=i?A:f>=i+w?w:f-i,!(u<d);f+=C)k=u-d,b=C-d,v.push(B(p(d+k%b,0))),u=I(k/b);v.push(B(p(u,0))),i=h(t,g,n==s),t=0,++n}++t,++r}return v.join("")}function m(e){return a(e,function(e){return L.test(e)?f(e.slice(4).toLowerCase()):e})}function _(e){return a(e,function(e){return z.test(e)?"xn--"+d(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,b="object"==typeof t&&t&&!t.nodeType&&t,k="object"==typeof r&&r;k.global!==k&&k.window!==k&&k.self!==k||(s=k);var v,y,x=2147483647,C=36,A=1,w=26,D=38,q=700,E=72,S=128,F="-",L=/^xn--/,z=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=C-A,I=Math.floor,B=String.fromCharCode;if(v={version:"1.4.1",ucs2:{decode:c,encode:l},decode:f,encode:d,toASCII:_,toUnicode:m},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return v});else if(g&&b)if(t.exports==g)b.exports=v;else for(y in v)v.hasOwnProperty(y)&&(g[y]=v[y]);else s.punycode=v}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(e,r,t){r.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(e,r,t){r.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(e,r,t){r.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E44\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(e,r,t){r.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(e,r,t){"use strict";t.Any=e("./properties/Any/regex"),t.Cc=e("./categories/Cc/regex"),t.Cf=e("./categories/Cf/regex"),t.P=e("./categories/P/regex"),t.Z=e("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(e,r,t){r.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(e,r,t){"use strict";r.exports=e("./lib/")},{"./lib/":9}]},{},[67])(67)});
/*! markdown-it-emoji 1.3.0 https://github.com//markdown-it/markdown-it-emoji @license MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it-emoji",[],a);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.markdownitEmoji=a()}}(function(){return function a(e,n,o){function i(_,t){if(!n[_]){if(!e[_]){var s="function"==typeof require&&require;if(!t&&s)return s(_,!0);if(r)return r(_,!0);var l=new Error("Cannot find module '"+_+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[_]={exports:{}};e[_][0].call(c.exports,function(a){var n=e[_][1][a];return i(n?n:a)},c,c.exports,a,e,n,o)}return n[_].exports}for(var r="function"==typeof require&&require,_=0;_<o.length;_++)i(o[_]);return i}({1:[function(a,e,n){e.exports={100:"\ud83d\udcaf",1234:"\ud83d\udd22",grinning:"\ud83d\ude00",grimacing:"\ud83d\ude2c",grin:"\ud83d\ude01",joy:"\ud83d\ude02",smiley:"\ud83d\ude03",smile:"\ud83d\ude04",sweat_smile:"\ud83d\ude05",laughing:"\ud83d\ude06",satisfied:"\ud83d\ude06",innocent:"\ud83d\ude07",wink:"\ud83d\ude09",blush:"\ud83d\ude0a",slightly_smiling_face:"\ud83d\ude42",upside_down_face:"\ud83d\ude43",relaxed:"\u263a\ufe0f",yum:"\ud83d\ude0b",relieved:"\ud83d\ude0c",heart_eyes:"\ud83d\ude0d",kissing_heart:"\ud83d\ude18",kissing:"\ud83d\ude17",kissing_smiling_eyes:"\ud83d\ude19",kissing_closed_eyes:"\ud83d\ude1a",stuck_out_tongue_winking_eye:"\ud83d\ude1c",stuck_out_tongue_closed_eyes:"\ud83d\ude1d",stuck_out_tongue:"\ud83d\ude1b",money_mouth_face:"\ud83e\udd11",nerd_face:"\ud83e\udd13",sunglasses:"\ud83d\ude0e",hugs:"\ud83e\udd17",smirk:"\ud83d\ude0f",no_mouth:"\ud83d\ude36",neutral_face:"\ud83d\ude10",expressionless:"\ud83d\ude11",unamused:"\ud83d\ude12",roll_eyes:"\ud83d\ude44",thinking:"\ud83e\udd14",flushed:"\ud83d\ude33",disappointed:"\ud83d\ude1e",worried:"\ud83d\ude1f",angry:"\ud83d\ude20",rage:"\ud83d\ude21",pout:"\ud83d\ude21",pensive:"\ud83d\ude14",confused:"\ud83d\ude15",slightly_frowning_face:"\ud83d\ude41",frowning_face:"\u2639\ufe0f",persevere:"\ud83d\ude23",confounded:"\ud83d\ude16",tired_face:"\ud83d\ude2b",weary:"\ud83d\ude29",triumph:"\ud83d\ude24",open_mouth:"\ud83d\ude2e",scream:"\ud83d\ude31",fearful:"\ud83d\ude28",cold_sweat:"\ud83d\ude30",hushed:"\ud83d\ude2f",frowning:"\ud83d\ude26",anguished:"\ud83d\ude27",cry:"\ud83d\ude22",disappointed_relieved:"\ud83d\ude25",sleepy:"\ud83d\ude2a",sweat:"\ud83d\ude13",sob:"\ud83d\ude2d",dizzy_face:"\ud83d\ude35",astonished:"\ud83d\ude32",zipper_mouth_face:"\ud83e\udd10",mask:"\ud83d\ude37",face_with_thermometer:"\ud83e\udd12",face_with_head_bandage:"\ud83e\udd15",sleeping:"\ud83d\ude34",zzz:"\ud83d\udca4",hankey:"\ud83d\udca9",poop:"\ud83d\udca9",shit:"\ud83d\udca9",smiling_imp:"\ud83d\ude08",imp:"\ud83d\udc7f",japanese_ogre:"\ud83d\udc79",japanese_goblin:"\ud83d\udc7a",ghost:"\ud83d\udc7b",skull:"\ud83d\udc80",skull_and_crossbones:"\u2620\ufe0f",alien:"\ud83d\udc7d",space_invader:"\ud83d\udc7e",robot:"\ud83e\udd16",smiley_cat:"\ud83d\ude3a",smile_cat:"\ud83d\ude38",joy_cat:"\ud83d\ude39",heart_eyes_cat:"\ud83d\ude3b",smirk_cat:"\ud83d\ude3c",kissing_cat:"\ud83d\ude3d",scream_cat:"\ud83d\ude40",crying_cat_face:"\ud83d\ude3f",pouting_cat:"\ud83d\ude3e",raised_hands:"\ud83d\ude4c",clap:"\ud83d\udc4f","+1":"\ud83d\udc4d",thumbsup:"\ud83d\udc4d","-1":"\ud83d\udc4e",thumbsdown:"\ud83d\udc4e",facepunch:"\ud83d\udc4a",punch:"\ud83d\udc4a",fist:"\u270a",wave:"\ud83d\udc4b",point_left:"\ud83d\udc48",point_right:"\ud83d\udc49",point_up_2:"\ud83d\udc46",point_down:"\ud83d\udc47",ok_hand:"\ud83d\udc4c",point_up:"\u261d\ufe0f",v:"\u270c\ufe0f",hand:"\u270b",raised_hand:"\u270b",raised_hand_with_fingers_splayed:"\ud83d\udd90",open_hands:"\ud83d\udc50",muscle:"\ud83d\udcaa",pray:"\ud83d\ude4f",vulcan_salute:"\ud83d\udd96",metal:"\ud83e\udd18",middle_finger:"\ud83d\udd95",fu:"\ud83d\udd95",writing_hand:"\u270d\ufe0f",nail_care:"\ud83d\udc85",lips:"\ud83d\udc44",tongue:"\ud83d\udc45",ear:"\ud83d\udc42",nose:"\ud83d\udc43",eye:"\ud83d\udc41",eyes:"\ud83d\udc40",speaking_head:"\ud83d\udde3",bust_in_silhouette:"\ud83d\udc64",busts_in_silhouette:"\ud83d\udc65",baby:"\ud83d\udc76",boy:"\ud83d\udc66",girl:"\ud83d\udc67",man:"\ud83d\udc68",woman:"\ud83d\udc69",blonde_woman:"\ud83d\udc71\u200d\u2640\ufe0f",blonde_man:"\ud83d\udc71",person_with_blond_hair:"\ud83d\udc71",older_man:"\ud83d\udc74",older_woman:"\ud83d\udc75",man_with_gua_pi_mao:"\ud83d\udc72",woman_with_turban:"\ud83d\udc73\u200d\u2640\ufe0f",man_with_turban:"\ud83d\udc73",policewoman:"\ud83d\udc6e\u200d\u2640\ufe0f",policeman:"\ud83d\udc6e",cop:"\ud83d\udc6e",construction_worker_woman:"\ud83d\udc77\u200d\u2640\ufe0f",construction_worker_man:"\ud83d\udc77",construction_worker:"\ud83d\udc77",guardswoman:"\ud83d\udc82\u200d\u2640\ufe0f",guardsman:"\ud83d\udc82",female_detective:"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f",male_detective:"\ud83d\udd75\ufe0f",detective:"\ud83d\udd75\ufe0f",santa:"\ud83c\udf85",princess:"\ud83d\udc78",bride_with_veil:"\ud83d\udc70",angel:"\ud83d\udc7c",bowing_woman:"\ud83d\ude47\u200d\u2640\ufe0f",bowing_man:"\ud83d\ude47",bow:"\ud83d\ude47",tipping_hand_woman:"\ud83d\udc81",information_desk_person:"\ud83d\udc81",tipping_hand_man:"\ud83d\udc81\u200d\u2642\ufe0f",no_good_woman:"\ud83d\ude45",no_good:"\ud83d\ude45",ng_woman:"\ud83d\ude45",no_good_man:"\ud83d\ude45\u200d\u2642\ufe0f",ng_man:"\ud83d\ude45\u200d\u2642\ufe0f",ok_woman:"\ud83d\ude46",ok_man:"\ud83d\ude46\u200d\u2642\ufe0f",raising_hand_woman:"\ud83d\ude4b",raising_hand:"\ud83d\ude4b",raising_hand_man:"\ud83d\ude4b\u200d\u2642\ufe0f",pouting_woman:"\ud83d\ude4e",person_with_pouting_face:"\ud83d\ude4e",pouting_man:"\ud83d\ude4e\u200d\u2642\ufe0f",frowning_woman:"\ud83d\ude4d",person_frowning:"\ud83d\ude4d",frowning_man:"\ud83d\ude4d\u200d\u2642\ufe0f",haircut_woman:"\ud83d\udc87",haircut:"\ud83d\udc87",haircut_man:"\ud83d\udc87\u200d\u2642\ufe0f",massage_woman:"\ud83d\udc86",massage:"\ud83d\udc86",massage_man:"\ud83d\udc86\u200d\u2642\ufe0f",dancer:"\ud83d\udc83",dancing_women:"\ud83d\udc6f",dancers:"\ud83d\udc6f",dancing_men:"\ud83d\udc6f\u200d\u2642\ufe0f",walking_woman:"\ud83d\udeb6\u200d\u2640\ufe0f",walking_man:"\ud83d\udeb6",walking:"\ud83d\udeb6",running_woman:"\ud83c\udfc3\u200d\u2640\ufe0f",running_man:"\ud83c\udfc3",runner:"\ud83c\udfc3",running:"\ud83c\udfc3",couple:"\ud83d\udc6b",two_women_holding_hands:"\ud83d\udc6d",two_men_holding_hands:"\ud83d\udc6c",couple_with_heart_woman_man:"\ud83d\udc91",couple_with_heart:"\ud83d\udc91",couple_with_heart_woman_woman:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69",couple_with_heart_man_man:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68",couplekiss_man_woman:"\ud83d\udc8f",couplekiss_woman_woman:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69",couplekiss_man_man:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68",family_man_woman_boy:"\ud83d\udc6a",family:"\ud83d\udc6a",family_man_woman_girl:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67",family_man_woman_girl_boy:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_woman_boy_boy:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_woman_girl_girl:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_woman_woman_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66",family_woman_woman_girl:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67",family_woman_woman_girl_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_woman_woman_boy_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_woman_woman_girl_girl:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_man_man_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66",family_man_man_girl:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67",family_man_man_girl_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_man_boy_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_man_girl_girl:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67",family_woman_boy:"\ud83d\udc69\u200d\ud83d\udc66",family_woman_girl:"\ud83d\udc69\u200d\ud83d\udc67",family_woman_girl_boy:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_woman_boy_boy:"\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_woman_girl_girl:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_man_boy:"\ud83d\udc68\u200d\ud83d\udc66",family_man_girl:"\ud83d\udc68\u200d\ud83d\udc67",family_man_girl_boy:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_boy_boy:"\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_girl_girl:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67",womans_clothes:"\ud83d\udc5a",shirt:"\ud83d\udc55",tshirt:"\ud83d\udc55",jeans:"\ud83d\udc56",necktie:"\ud83d\udc54",dress:"\ud83d\udc57",bikini:"\ud83d\udc59",kimono:"\ud83d\udc58",lipstick:"\ud83d\udc84",kiss:"\ud83d\udc8b",footprints:"\ud83d\udc63",high_heel:"\ud83d\udc60",sandal:"\ud83d\udc61",boot:"\ud83d\udc62",mans_shoe:"\ud83d\udc5e",shoe:"\ud83d\udc5e",athletic_shoe:"\ud83d\udc5f",womans_hat:"\ud83d\udc52",tophat:"\ud83c\udfa9",mortar_board:"\ud83c\udf93",crown:"\ud83d\udc51",rescue_worker_helmet:"\u26d1",school_satchel:"\ud83c\udf92",pouch:"\ud83d\udc5d",purse:"\ud83d\udc5b",handbag:"\ud83d\udc5c",briefcase:"\ud83d\udcbc",eyeglasses:"\ud83d\udc53",dark_sunglasses:"\ud83d\udd76",ring:"\ud83d\udc8d",closed_umbrella:"\ud83c\udf02",dog:"\ud83d\udc36",cat:"\ud83d\udc31",mouse:"\ud83d\udc2d",hamster:"\ud83d\udc39",rabbit:"\ud83d\udc30",bear:"\ud83d\udc3b",panda_face:"\ud83d\udc3c",koala:"\ud83d\udc28",tiger:"\ud83d\udc2f",lion:"\ud83e\udd81",cow:"\ud83d\udc2e",pig:"\ud83d\udc37",pig_nose:"\ud83d\udc3d",frog:"\ud83d\udc38",octopus:"\ud83d\udc19",monkey_face:"\ud83d\udc35",see_no_evil:"\ud83d\ude48",hear_no_evil:"\ud83d\ude49",speak_no_evil:"\ud83d\ude4a",monkey:"\ud83d\udc12",chicken:"\ud83d\udc14",penguin:"\ud83d\udc27",bird:"\ud83d\udc26",baby_chick:"\ud83d\udc24",hatching_chick:"\ud83d\udc23",hatched_chick:"\ud83d\udc25",wolf:"\ud83d\udc3a",boar:"\ud83d\udc17",horse:"\ud83d\udc34",unicorn:"\ud83e\udd84",bee:"\ud83d\udc1d",honeybee:"\ud83d\udc1d",bug:"\ud83d\udc1b",snail:"\ud83d\udc0c",beetle:"\ud83d\udc1e",ant:"\ud83d\udc1c",spider:"\ud83d\udd77",scorpion:"\ud83e\udd82",crab:"\ud83e\udd80",snake:"\ud83d\udc0d",turtle:"\ud83d\udc22",tropical_fish:"\ud83d\udc20",fish:"\ud83d\udc1f",blowfish:"\ud83d\udc21",dolphin:"\ud83d\udc2c",flipper:"\ud83d\udc2c",whale:"\ud83d\udc33",whale2:"\ud83d\udc0b",crocodile:"\ud83d\udc0a",leopard:"\ud83d\udc06",tiger2:"\ud83d\udc05",water_buffalo:"\ud83d\udc03",ox:"\ud83d\udc02",cow2:"\ud83d\udc04",dromedary_camel:"\ud83d\udc2a",camel:"\ud83d\udc2b",elephant:"\ud83d\udc18",goat:"\ud83d\udc10",ram:"\ud83d\udc0f",sheep:"\ud83d\udc11",racehorse:"\ud83d\udc0e",pig2:"\ud83d\udc16",rat:"\ud83d\udc00",mouse2:"\ud83d\udc01",rooster:"\ud83d\udc13",turkey:"\ud83e\udd83",dove:"\ud83d\udd4a",dog2:"\ud83d\udc15",poodle:"\ud83d\udc29",cat2:"\ud83d\udc08",rabbit2:"\ud83d\udc07",chipmunk:"\ud83d\udc3f",feet:"\ud83d\udc3e",paw_prints:"\ud83d\udc3e",dragon:"\ud83d\udc09",dragon_face:"\ud83d\udc32",cactus:"\ud83c\udf35",christmas_tree:"\ud83c\udf84",evergreen_tree:"\ud83c\udf32",deciduous_tree:"\ud83c\udf33",palm_tree:"\ud83c\udf34",seedling:"\ud83c\udf31",herb:"\ud83c\udf3f",shamrock:"\u2618",four_leaf_clover:"\ud83c\udf40",bamboo:"\ud83c\udf8d",tanabata_tree:"\ud83c\udf8b",leaves:"\ud83c\udf43",fallen_leaf:"\ud83c\udf42",maple_leaf:"\ud83c\udf41",ear_of_rice:"\ud83c\udf3e",hibiscus:"\ud83c\udf3a",sunflower:"\ud83c\udf3b",rose:"\ud83c\udf39",tulip:"\ud83c\udf37",blossom:"\ud83c\udf3c",cherry_blossom:"\ud83c\udf38",bouquet:"\ud83d\udc90",mushroom:"\ud83c\udf44",chestnut:"\ud83c\udf30",jack_o_lantern:"\ud83c\udf83",shell:"\ud83d\udc1a",spider_web:"\ud83d\udd78",earth_americas:"\ud83c\udf0e",earth_africa:"\ud83c\udf0d",earth_asia:"\ud83c\udf0f",full_moon:"\ud83c\udf15",waning_gibbous_moon:"\ud83c\udf16",last_quarter_moon:"\ud83c\udf17",waning_crescent_moon:"\ud83c\udf18",new_moon:"\ud83c\udf11",waxing_crescent_moon:"\ud83c\udf12",first_quarter_moon:"\ud83c\udf13",moon:"\ud83c\udf14",waxing_gibbous_moon:"\ud83c\udf14",new_moon_with_face:"\ud83c\udf1a",full_moon_with_face:"\ud83c\udf1d",first_quarter_moon_with_face:"\ud83c\udf1b",last_quarter_moon_with_face:"\ud83c\udf1c",sun_with_face:"\ud83c\udf1e",crescent_moon:"\ud83c\udf19",star:"\u2b50\ufe0f",star2:"\ud83c\udf1f",dizzy:"\ud83d\udcab",sparkles:"\u2728",comet:"\u2604\ufe0f",sunny:"\u2600\ufe0f",sun_behind_small_cloud:"\ud83c\udf24",partly_sunny:"\u26c5\ufe0f",sun_behind_large_cloud:"\ud83c\udf25",sun_behind_rain_cloud:"\ud83c\udf26",cloud:"\u2601\ufe0f",cloud_with_rain:"\ud83c\udf27",cloud_with_lightning_and_rain:"\u26c8",cloud_with_lightning:"\ud83c\udf29",zap:"\u26a1\ufe0f",fire:"\ud83d\udd25",boom:"\ud83d\udca5",collision:"\ud83d\udca5",snowflake:"\u2744\ufe0f",cloud_with_snow:"\ud83c\udf28",snowman_with_snow:"\u2603\ufe0f",snowman:"\u26c4\ufe0f",wind_face:"\ud83c\udf2c",dash:"\ud83d\udca8",tornado:"\ud83c\udf2a",fog:"\ud83c\udf2b",open_umbrella:"\u2602\ufe0f",umbrella:"\u2614\ufe0f",droplet:"\ud83d\udca7",sweat_drops:"\ud83d\udca6",ocean:"\ud83c\udf0a",green_apple:"\ud83c\udf4f",apple:"\ud83c\udf4e",pear:"\ud83c\udf50",tangerine:"\ud83c\udf4a",orange:"\ud83c\udf4a",mandarin:"\ud83c\udf4a",lemon:"\ud83c\udf4b",banana:"\ud83c\udf4c",watermelon:"\ud83c\udf49",grapes:"\ud83c\udf47",strawberry:"\ud83c\udf53",melon:"\ud83c\udf48",cherries:"\ud83c\udf52",peach:"\ud83c\udf51",pineapple:"\ud83c\udf4d",tomato:"\ud83c\udf45",eggplant:"\ud83c\udf46",hot_pepper:"\ud83c\udf36",corn:"\ud83c\udf3d",sweet_potato:"\ud83c\udf60",honey_pot:"\ud83c\udf6f",bread:"\ud83c\udf5e",cheese:"\ud83e\uddc0",poultry_leg:"\ud83c\udf57",meat_on_bone:"\ud83c\udf56",fried_shrimp:"\ud83c\udf64",egg:"\ud83c\udf73",hamburger:"\ud83c\udf54",fries:"\ud83c\udf5f",hotdog:"\ud83c\udf2d",pizza:"\ud83c\udf55",spaghetti:"\ud83c\udf5d",taco:"\ud83c\udf2e",burrito:"\ud83c\udf2f",ramen:"\ud83c\udf5c",stew:"\ud83c\udf72",fish_cake:"\ud83c\udf65",sushi:"\ud83c\udf63",bento:"\ud83c\udf71",curry:"\ud83c\udf5b",rice_ball:"\ud83c\udf59",rice:"\ud83c\udf5a",rice_cracker:"\ud83c\udf58",oden:"\ud83c\udf62",dango:"\ud83c\udf61",shaved_ice:"\ud83c\udf67",ice_cream:"\ud83c\udf68",icecream:"\ud83c\udf66",cake:"\ud83c\udf70",birthday:"\ud83c\udf82",custard:"\ud83c\udf6e",candy:"\ud83c\udf6c",lollipop:"\ud83c\udf6d",chocolate_bar:"\ud83c\udf6b",popcorn:"\ud83c\udf7f",doughnut:"\ud83c\udf69",cookie:"\ud83c\udf6a",beer:"\ud83c\udf7a",beers:"\ud83c\udf7b",wine_glass:"\ud83c\udf77",cocktail:"\ud83c\udf78",tropical_drink:"\ud83c\udf79",champagne:"\ud83c\udf7e",sake:"\ud83c\udf76",tea:"\ud83c\udf75",coffee:"\u2615\ufe0f",baby_bottle:"\ud83c\udf7c",fork_and_knife:"\ud83c\udf74",plate_with_cutlery:"\ud83c\udf7d",soccer:"\u26bd\ufe0f",basketball:"\ud83c\udfc0",football:"\ud83c\udfc8",baseball:"\u26be\ufe0f",tennis:"\ud83c\udfbe",volleyball:"\ud83c\udfd0",rugby_football:"\ud83c\udfc9","8ball":"\ud83c\udfb1",ping_pong:"\ud83c\udfd3",badminton:"\ud83c\udff8",ice_hockey:"\ud83c\udfd2",field_hockey:"\ud83c\udfd1",cricket:"\ud83c\udfcf",bow_and_arrow:"\ud83c\udff9",golf:"\u26f3\ufe0f",fishing_pole_and_fish:"\ud83c\udfa3",ice_skate:"\u26f8",ski:"\ud83c\udfbf",skier:"\u26f7",snowboarder:"\ud83c\udfc2",weight_lifting_woman:"\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",weight_lifting_man:"\ud83c\udfcb\ufe0f",basketball_woman:"\u26f9\ufe0f\u200d\u2640\ufe0f",basketball_man:"\u26f9\ufe0f",golfing_woman:"\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f",golfing_man:"\ud83c\udfcc\ufe0f",surfing_woman:"\ud83c\udfc4\u200d\u2640\ufe0f",surfing_man:"\ud83c\udfc4",surfer:"\ud83c\udfc4",swimming_woman:"\ud83c\udfca\u200d\u2640\ufe0f",swimming_man:"\ud83c\udfca",swimmer:"\ud83c\udfca",rowing_woman:"\ud83d\udea3\u200d\u2640\ufe0f",rowing_man:"\ud83d\udea3",rowboat:"\ud83d\udea3",horse_racing:"\ud83c\udfc7",biking_woman:"\ud83d\udeb4\u200d\u2640\ufe0f",biking_man:"\ud83d\udeb4",bicyclist:"\ud83d\udeb4",mountain_biking_woman:"\ud83d\udeb5\u200d\u2640\ufe0f",mountain_biking_man:"\ud83d\udeb5",mountain_bicyclist:"\ud83d\udeb5",bath:"\ud83d\udec0",business_suit_levitating:"\ud83d\udd74",reminder_ribbon:"\ud83c\udf97",running_shirt_with_sash:"\ud83c\udfbd",medal_sports:"\ud83c\udfc5",medal_military:"\ud83c\udf96",trophy:"\ud83c\udfc6",rosette:"\ud83c\udff5",dart:"\ud83c\udfaf",ticket:"\ud83c\udfab",tickets:"\ud83c\udf9f",performing_arts:"\ud83c\udfad",art:"\ud83c\udfa8",circus_tent:"\ud83c\udfaa",clapper:"\ud83c\udfac",microphone:"\ud83c\udfa4",headphones:"\ud83c\udfa7",musical_score:"\ud83c\udfbc",musical_keyboard:"\ud83c\udfb9",saxophone:"\ud83c\udfb7",trumpet:"\ud83c\udfba",guitar:"\ud83c\udfb8",violin:"\ud83c\udfbb",video_game:"\ud83c\udfae",slot_machine:"\ud83c\udfb0",game_die:"\ud83c\udfb2",bowling:"\ud83c\udfb3",car:"\ud83d\ude97",red_car:"\ud83d\ude97",taxi:"\ud83d\ude95",blue_car:"\ud83d\ude99",bus:"\ud83d\ude8c",trolleybus:"\ud83d\ude8e",racing_car:"\ud83c\udfce",police_car:"\ud83d\ude93",ambulance:"\ud83d\ude91",fire_engine:"\ud83d\ude92",minibus:"\ud83d\ude90",truck:"\ud83d\ude9a",articulated_lorry:"\ud83d\ude9b",tractor:"\ud83d\ude9c",motorcycle:"\ud83c\udfcd",bike:"\ud83d\udeb2",rotating_light:"\ud83d\udea8",oncoming_police_car:"\ud83d\ude94",oncoming_bus:"\ud83d\ude8d",oncoming_automobile:"\ud83d\ude98",oncoming_taxi:"\ud83d\ude96",aerial_tramway:"\ud83d\udea1",mountain_cableway:"\ud83d\udea0",suspension_railway:"\ud83d\ude9f",railway_car:"\ud83d\ude83",train:"\ud83d\ude8b",monorail:"\ud83d\ude9d",bullettrain_side:"\ud83d\ude84",bullettrain_front:"\ud83d\ude85",light_rail:"\ud83d\ude88",mountain_railway:"\ud83d\ude9e",steam_locomotive:"\ud83d\ude82",train2:"\ud83d\ude86",metro:"\ud83d\ude87",tram:"\ud83d\ude8a",station:"\ud83d\ude89",helicopter:"\ud83d\ude81",small_airplane:"\ud83d\udee9",airplane:"\u2708\ufe0f",flight_departure:"\ud83d\udeeb",flight_arrival:"\ud83d\udeec",boat:"\u26f5\ufe0f",sailboat:"\u26f5\ufe0f",motor_boat:"\ud83d\udee5",speedboat:"\ud83d\udea4",ferry:"\u26f4",passenger_ship:"\ud83d\udef3",rocket:"\ud83d\ude80",artificial_satellite:"\ud83d\udef0",seat:"\ud83d\udcba",anchor:"\u2693\ufe0f",construction:"\ud83d\udea7",fuelpump:"\u26fd\ufe0f",busstop:"\ud83d\ude8f",vertical_traffic_light:"\ud83d\udea6",traffic_light:"\ud83d\udea5",world_map:"\ud83d\uddfa",ship:"\ud83d\udea2",ferris_wheel:"\ud83c\udfa1",roller_coaster:"\ud83c\udfa2",carousel_horse:"\ud83c\udfa0",building_construction:"\ud83c\udfd7",foggy:"\ud83c\udf01",tokyo_tower:"\ud83d\uddfc",factory:"\ud83c\udfed",fountain:"\u26f2\ufe0f",rice_scene:"\ud83c\udf91",mountain:"\u26f0",mountain_snow:"\ud83c\udfd4",mount_fuji:"\ud83d\uddfb",volcano:"\ud83c\udf0b",japan:"\ud83d\uddfe",camping:"\ud83c\udfd5",tent:"\u26fa\ufe0f",national_park:"\ud83c\udfde",motorway:"\ud83d\udee3",railway_track:"\ud83d\udee4",sunrise:"\ud83c\udf05",sunrise_over_mountains:"\ud83c\udf04",desert:"\ud83c\udfdc",beach_umbrella:"\ud83c\udfd6",desert_island:"\ud83c\udfdd",city_sunrise:"\ud83c\udf07",city_sunset:"\ud83c\udf06",cityscape:"\ud83c\udfd9",night_with_stars:"\ud83c\udf03",bridge_at_night:"\ud83c\udf09",milky_way:"\ud83c\udf0c",stars:"\ud83c\udf20",sparkler:"\ud83c\udf87",fireworks:"\ud83c\udf86",rainbow:"\ud83c\udf08",houses:"\ud83c\udfd8",european_castle:"\ud83c\udff0",japanese_castle:"\ud83c\udfef",stadium:"\ud83c\udfdf",statue_of_liberty:"\ud83d\uddfd",house:"\ud83c\udfe0",house_with_garden:"\ud83c\udfe1",derelict_house:"\ud83c\udfda",office:"\ud83c\udfe2",department_store:"\ud83c\udfec",post_office:"\ud83c\udfe3",european_post_office:"\ud83c\udfe4",hospital:"\ud83c\udfe5",bank:"\ud83c\udfe6",hotel:"\ud83c\udfe8",convenience_store:"\ud83c\udfea",school:"\ud83c\udfeb",love_hotel:"\ud83c\udfe9",wedding:"\ud83d\udc92",classical_building:"\ud83c\udfdb",church:"\u26ea\ufe0f",mosque:"\ud83d\udd4c",synagogue:"\ud83d\udd4d",kaaba:"\ud83d\udd4b",shinto_shrine:"\u26e9",watch:"\u231a\ufe0f",iphone:"\ud83d\udcf1",calling:"\ud83d\udcf2",computer:"\ud83d\udcbb",keyboard:"\u2328\ufe0f",desktop_computer:"\ud83d\udda5",printer:"\ud83d\udda8",computer_mouse:"\ud83d\uddb1",trackball:"\ud83d\uddb2",joystick:"\ud83d\udd79",clamp:"\ud83d\udddc",minidisc:"\ud83d\udcbd",floppy_disk:"\ud83d\udcbe",cd:"\ud83d\udcbf",dvd:"\ud83d\udcc0",vhs:"\ud83d\udcfc",camera:"\ud83d\udcf7",camera_flash:"\ud83d\udcf8",video_camera:"\ud83d\udcf9",movie_camera:"\ud83c\udfa5",film_projector:"\ud83d\udcfd",film_strip:"\ud83c\udf9e",telephone_receiver:"\ud83d\udcde",phone:"\u260e\ufe0f",telephone:"\u260e\ufe0f",pager:"\ud83d\udcdf",fax:"\ud83d\udce0",tv:"\ud83d\udcfa",radio:"\ud83d\udcfb",studio_microphone:"\ud83c\udf99",level_slider:"\ud83c\udf9a",control_knobs:"\ud83c\udf9b",stopwatch:"\u23f1",timer_clock:"\u23f2",alarm_clock:"\u23f0",mantelpiece_clock:"\ud83d\udd70",hourglass_flowing_sand:"\u23f3",hourglass:"\u231b\ufe0f",satellite:"\ud83d\udce1",battery:"\ud83d\udd0b",electric_plug:"\ud83d\udd0c",bulb:"\ud83d\udca1",flashlight:"\ud83d\udd26",candle:"\ud83d\udd6f",wastebasket:"\ud83d\uddd1",oil_drum:"\ud83d\udee2",money_with_wings:"\ud83d\udcb8",dollar:"\ud83d\udcb5",yen:"\ud83d\udcb4",euro:"\ud83d\udcb6",pound:"\ud83d\udcb7",moneybag:"\ud83d\udcb0",credit_card:"\ud83d\udcb3",gem:"\ud83d\udc8e",balance_scale:"\u2696",wrench:"\ud83d\udd27",hammer:"\ud83d\udd28",hammer_and_pick:"\u2692",hammer_and_wrench:"\ud83d\udee0",pick:"\u26cf",nut_and_bolt:"\ud83d\udd29",gear:"\u2699",chains:"\u26d3",gun:"\ud83d\udd2b",bomb:"\ud83d\udca3",hocho:"\ud83d\udd2a",knife:"\ud83d\udd2a",dagger:"\ud83d\udde1",crossed_swords:"\u2694",shield:"\ud83d\udee1",smoking:"\ud83d\udeac",coffin:"\u26b0",funeral_urn:"\u26b1",amphora:"\ud83c\udffa",crystal_ball:"\ud83d\udd2e",prayer_beads:"\ud83d\udcff",barber:"\ud83d\udc88",alembic:"\u2697",telescope:"\ud83d\udd2d",microscope:"\ud83d\udd2c",hole:"\ud83d\udd73",pill:"\ud83d\udc8a",syringe:"\ud83d\udc89",thermometer:"\ud83c\udf21",toilet:"\ud83d\udebd",shower:"\ud83d\udebf",bathtub:"\ud83d\udec1",bellhop_bell:"\ud83d\udece",key:"\ud83d\udd11",old_key:"\ud83d\udddd",door:"\ud83d\udeaa",couch_and_lamp:"\ud83d\udecb",sleeping_bed:"\ud83d\udecc",bed:"\ud83d\udecf",framed_picture:"\ud83d\uddbc",parasol_on_ground:"\u26f1",moyai:"\ud83d\uddff",shopping:"\ud83d\udecd",gift:"\ud83c\udf81",balloon:"\ud83c\udf88",flags:"\ud83c\udf8f",ribbon:"\ud83c\udf80",confetti_ball:"\ud83c\udf8a",tada:"\ud83c\udf89",wind_chime:"\ud83c\udf90",izakaya_lantern:"\ud83c\udfee",lantern:"\ud83c\udfee",dolls:"\ud83c\udf8e",email:"\u2709\ufe0f",envelope:"\u2709\ufe0f",envelope_with_arrow:"\ud83d\udce9",incoming_envelope:"\ud83d\udce8","e-mail":"\ud83d\udce7",love_letter:"\ud83d\udc8c",inbox_tray:"\ud83d\udce5",outbox_tray:"\ud83d\udce4",package:"\ud83d\udce6",label:"\ud83c\udff7",bookmark:"\ud83d\udd16",mailbox_closed:"\ud83d\udcea",mailbox:"\ud83d\udceb",mailbox_with_mail:"\ud83d\udcec",mailbox_with_no_mail:"\ud83d\udced",postbox:"\ud83d\udcee",postal_horn:"\ud83d\udcef",scroll:"\ud83d\udcdc",page_with_curl:"\ud83d\udcc3",page_facing_up:"\ud83d\udcc4",bookmark_tabs:"\ud83d\udcd1",bar_chart:"\ud83d\udcca",chart_with_upwards_trend:"\ud83d\udcc8",chart_with_downwards_trend:"\ud83d\udcc9",spiral_notepad:"\ud83d\uddd2",spiral_calendar:"\ud83d\uddd3",calendar:"\ud83d\udcc6",date:"\ud83d\udcc5",card_index:"\ud83d\udcc7",card_file_box:"\ud83d\uddc3",ballot_box:"\ud83d\uddf3",file_cabinet:"\ud83d\uddc4",clipboard:"\ud83d\udccb",file_folder:"\ud83d\udcc1",open_file_folder:"\ud83d\udcc2",card_index_dividers:"\ud83d\uddc2",newspaper_roll:"\ud83d\uddde",newspaper:"\ud83d\udcf0",notebook:"\ud83d\udcd3",notebook_with_decorative_cover:"\ud83d\udcd4",ledger:"\ud83d\udcd2",closed_book:"\ud83d\udcd5",green_book:"\ud83d\udcd7",blue_book:"\ud83d\udcd8",orange_book:"\ud83d\udcd9",books:"\ud83d\udcda",book:"\ud83d\udcd6",open_book:"\ud83d\udcd6",link:"\ud83d\udd17",paperclip:"\ud83d\udcce",paperclips:"\ud83d\udd87",triangular_ruler:"\ud83d\udcd0",straight_ruler:"\ud83d\udccf",scissors:"\u2702\ufe0f",pushpin:"\ud83d\udccc",round_pushpin:"\ud83d\udccd",triangular_flag_on_post:"\ud83d\udea9",crossed_flags:"\ud83c\udf8c",white_flag:"\ud83c\udff3\ufe0f",black_flag:"\ud83c\udff4",checkered_flag:"\ud83c\udfc1",rainbow_flag:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08",paintbrush:"\ud83d\udd8c",crayon:"\ud83d\udd8d",pen:"\ud83d\udd8a",fountain_pen:"\ud83d\udd8b",black_nib:"\u2712\ufe0f",memo:"\ud83d\udcdd",pencil:"\ud83d\udcdd",pencil2:"\u270f\ufe0f",lock_with_ink_pen:"\ud83d\udd0f",closed_lock_with_key:"\ud83d\udd10",lock:"\ud83d\udd12",unlock:"\ud83d\udd13",mag:"\ud83d\udd0d",mag_right:"\ud83d\udd0e",heart:"\u2764\ufe0f",yellow_heart:"\ud83d\udc9b",green_heart:"\ud83d\udc9a",blue_heart:"\ud83d\udc99",purple_heart:"\ud83d\udc9c",broken_heart:"\ud83d\udc94",heavy_heart_exclamation:"\u2763\ufe0f",two_hearts:"\ud83d\udc95",revolving_hearts:"\ud83d\udc9e",heartbeat:"\ud83d\udc93",heartpulse:"\ud83d\udc97",sparkling_heart:"\ud83d\udc96",cupid:"\ud83d\udc98",gift_heart:"\ud83d\udc9d",heart_decoration:"\ud83d\udc9f",peace_symbol:"\u262e\ufe0f",latin_cross:"\u271d\ufe0f",star_and_crescent:"\u262a\ufe0f",om:"\ud83d\udd49",wheel_of_dharma:"\u2638\ufe0f",star_of_david:"\u2721\ufe0f",six_pointed_star:"\ud83d\udd2f",menorah:"\ud83d\udd4e",yin_yang:"\u262f\ufe0f",orthodox_cross:"\u2626\ufe0f",place_of_worship:"\ud83d\uded0",ophiuchus:"\u26ce",aries:"\u2648\ufe0f",taurus:"\u2649\ufe0f",gemini:"\u264a\ufe0f",cancer:"\u264b\ufe0f",leo:"\u264c\ufe0f",virgo:"\u264d\ufe0f",libra:"\u264e\ufe0f",scorpius:"\u264f\ufe0f",sagittarius:"\u2650\ufe0f",capricorn:"\u2651\ufe0f",aquarius:"\u2652\ufe0f",pisces:"\u2653\ufe0f",id:"\ud83c\udd94",atom_symbol:"\u269b",radioactive:"\u2622\ufe0f",biohazard:"\u2623\ufe0f",mobile_phone_off:"\ud83d\udcf4",vibration_mode:"\ud83d\udcf3",eight_pointed_black_star:"\u2734\ufe0f",vs:"\ud83c\udd9a",accept:"\ud83c\ude51",white_flower:"\ud83d\udcae",ideograph_advantage:"\ud83c\ude50",secret:"\u3299\ufe0f",congratulations:"\u3297\ufe0f",u6e80:"\ud83c\ude35",a:"\ud83c\udd70\ufe0f",b:"\ud83c\udd71\ufe0f",ab:"\ud83c\udd8e",cl:"\ud83c\udd91",o2:"\ud83c\udd7e\ufe0f",sos:"\ud83c\udd98",no_entry:"\u26d4\ufe0f",name_badge:"\ud83d\udcdb",no_entry_sign:"\ud83d\udeab",x:"\u274c",o:"\u2b55\ufe0f",anger:"\ud83d\udca2",hotsprings:"\u2668\ufe0f",no_pedestrians:"\ud83d\udeb7",do_not_litter:"\ud83d\udeaf",no_bicycles:"\ud83d\udeb3","non-potable_water":"\ud83d\udeb1",underage:"\ud83d\udd1e",no_mobile_phones:"\ud83d\udcf5",exclamation:"\u2757\ufe0f",heavy_exclamation_mark:"\u2757\ufe0f",grey_exclamation:"\u2755",question:"\u2753",grey_question:"\u2754",bangbang:"\u203c\ufe0f",interrobang:"\u2049\ufe0f",low_brightness:"\ud83d\udd05",high_brightness:"\ud83d\udd06",trident:"\ud83d\udd31",fleur_de_lis:"\u269c",part_alternation_mark:"\u303d\ufe0f",warning:"\u26a0\ufe0f",children_crossing:"\ud83d\udeb8",beginner:"\ud83d\udd30",recycle:"\u267b\ufe0f",chart:"\ud83d\udcb9",sparkle:"\u2747\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",negative_squared_cross_mark:"\u274e",white_check_mark:"\u2705",globe_with_meridians:"\ud83c\udf10",m:"\u24c2\ufe0f",diamond_shape_with_a_dot_inside:"\ud83d\udca0",cyclone:"\ud83c\udf00",loop:"\u27bf",atm:"\ud83c\udfe7",sa:"\ud83c\ude02\ufe0f",passport_control:"\ud83d\udec2",customs:"\ud83d\udec3",baggage_claim:"\ud83d\udec4",left_luggage:"\ud83d\udec5",wheelchair:"\u267f\ufe0f",no_smoking:"\ud83d\udead",wc:"\ud83d\udebe",parking:"\ud83c\udd7f\ufe0f",potable_water:"\ud83d\udeb0",mens:"\ud83d\udeb9",womens:"\ud83d\udeba",baby_symbol:"\ud83d\udebc",restroom:"\ud83d\udebb",put_litter_in_its_place:"\ud83d\udeae",cinema:"\ud83c\udfa6",signal_strength:"\ud83d\udcf6",koko:"\ud83c\ude01",abc:"\ud83d\udd24",abcd:"\ud83d\udd21",capital_abcd:"\ud83d\udd20",symbols:"\ud83d\udd23",information_source:"\u2139\ufe0f",ng:"\ud83c\udd96",ok:"\ud83c\udd97",up:"\ud83c\udd99",cool:"\ud83c\udd92",new:"\ud83c\udd95",free:"\ud83c\udd93",zero:"0\ufe0f\u20e3",one:"1\ufe0f\u20e3",two:"2\ufe0f\u20e3",three:"3\ufe0f\u20e3",four:"4\ufe0f\u20e3",five:"5\ufe0f\u20e3",six:"6\ufe0f\u20e3",seven:"7\ufe0f\u20e3",eight:"8\ufe0f\u20e3",nine:"9\ufe0f\u20e3",keycap_ten:"\ud83d\udd1f",hash:"#\ufe0f\u20e3",asterisk:"*\ufe0f\u20e3",arrow_forward:"\u25b6\ufe0f",pause_button:"\u23f8",play_or_pause_button:"\u23ef",stop_button:"\u23f9",record_button:"\u23fa",next_track_button:"\u23ed",previous_track_button:"\u23ee",fast_forward:"\u23e9",rewind:"\u23ea",arrow_double_up:"\u23eb",arrow_double_down:"\u23ec",arrow_backward:"\u25c0\ufe0f",arrow_up_small:"\ud83d\udd3c",arrow_down_small:"\ud83d\udd3d",arrow_right:"\u27a1\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_down:"\u2b07\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_upper_left:"\u2196\ufe0f",arrow_up_down:"\u2195\ufe0f",left_right_arrow:"\u2194\ufe0f",arrow_right_hook:"\u21aa\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_heading_down:"\u2935\ufe0f",twisted_rightwards_arrows:"\ud83d\udd00",repeat:"\ud83d\udd01",repeat_one:"\ud83d\udd02",arrows_counterclockwise:"\ud83d\udd04",arrows_clockwise:"\ud83d\udd03",musical_note:"\ud83c\udfb5",notes:"\ud83c\udfb6",wavy_dash:"\u3030\ufe0f",curly_loop:"\u27b0",heavy_check_mark:"\u2714\ufe0f",heavy_plus_sign:"\u2795",heavy_minus_sign:"\u2796",heavy_division_sign:"\u2797",heavy_multiplication_x:"\u2716\ufe0f",heavy_dollar_sign:"\ud83d\udcb2",currency_exchange:"\ud83d\udcb1",tm:"\u2122\ufe0f",copyright:"\xa9\ufe0f",registered:"\xae\ufe0f",end:"\ud83d\udd1a",back:"\ud83d\udd19",on:"\ud83d\udd1b",top:"\ud83d\udd1d",soon:"\ud83d\udd1c",ballot_box_with_check:"\u2611\ufe0f",radio_button:"\ud83d\udd18",white_circle:"\u26aa\ufe0f",black_circle:"\u26ab\ufe0f",red_circle:"\ud83d\udd34",large_blue_circle:"\ud83d\udd35",small_red_triangle:"\ud83d\udd3a",small_red_triangle_down:"\ud83d\udd3b",small_orange_diamond:"\ud83d\udd38",small_blue_diamond:"\ud83d\udd39",large_orange_diamond:"\ud83d\udd36",large_blue_diamond:"\ud83d\udd37",white_square_button:"\ud83d\udd33",black_square_button:"\ud83d\udd32",black_small_square:"\u25aa\ufe0f",white_small_square:"\u25ab\ufe0f",black_medium_small_square:"\u25fe\ufe0f",white_medium_small_square:"\u25fd\ufe0f",black_medium_square:"\u25fc\ufe0f",white_medium_square:"\u25fb\ufe0f",black_large_square:"\u2b1b\ufe0f",white_large_square:"\u2b1c\ufe0f",mute:"\ud83d\udd07",speaker:"\ud83d\udd08",sound:"\ud83d\udd09",loud_sound:"\ud83d\udd0a",no_bell:"\ud83d\udd15",bell:"\ud83d\udd14",mega:"\ud83d\udce3",loudspeaker:"\ud83d\udce2",eye_speech_bubble:"\ud83d\udc41\u200d\ud83d\udde8",speech_balloon:"\ud83d\udcac",thought_balloon:"\ud83d\udcad",right_anger_bubble:"\ud83d\uddef",black_joker:"\ud83c\udccf",mahjong:"\ud83c\udc04\ufe0f",flower_playing_cards:"\ud83c\udfb4",spades:"\u2660\ufe0f",clubs:"\u2663\ufe0f",hearts:"\u2665\ufe0f",diamonds:"\u2666\ufe0f",clock1:"\ud83d\udd50",clock2:"\ud83d\udd51",clock3:"\ud83d\udd52",clock4:"\ud83d\udd53",clock5:"\ud83d\udd54",clock6:"\ud83d\udd55",clock7:"\ud83d\udd56",clock8:"\ud83d\udd57",clock9:"\ud83d\udd58",clock10:"\ud83d\udd59",clock11:"\ud83d\udd5a",clock12:"\ud83d\udd5b",clock130:"\ud83d\udd5c",clock230:"\ud83d\udd5d",clock330:"\ud83d\udd5e",clock430:"\ud83d\udd5f",clock530:"\ud83d\udd60",clock630:"\ud83d\udd61",clock730:"\ud83d\udd62",clock830:"\ud83d\udd63",clock930:"\ud83d\udd64",clock1030:"\ud83d\udd65",clock1130:"\ud83d\udd66",clock1230:"\ud83d\udd67",afghanistan:"\ud83c\udde6\ud83c\uddeb",aland_islands:"\ud83c\udde6\ud83c\uddfd",albania:"\ud83c\udde6\ud83c\uddf1",algeria:"\ud83c\udde9\ud83c\uddff",american_samoa:"\ud83c\udde6\ud83c\uddf8",andorra:"\ud83c\udde6\ud83c\udde9",angola:"\ud83c\udde6\ud83c\uddf4",anguilla:"\ud83c\udde6\ud83c\uddee",antarctica:"\ud83c\udde6\ud83c\uddf6",antigua_barbuda:"\ud83c\udde6\ud83c\uddec",argentina:"\ud83c\udde6\ud83c\uddf7",armenia:"\ud83c\udde6\ud83c\uddf2",aruba:"\ud83c\udde6\ud83c\uddfc",australia:"\ud83c\udde6\ud83c\uddfa",austria:"\ud83c\udde6\ud83c\uddf9",azerbaijan:"\ud83c\udde6\ud83c\uddff",bahamas:"\ud83c\udde7\ud83c\uddf8",
bahrain:"\ud83c\udde7\ud83c\udded",bangladesh:"\ud83c\udde7\ud83c\udde9",barbados:"\ud83c\udde7\ud83c\udde7",belarus:"\ud83c\udde7\ud83c\uddfe",belgium:"\ud83c\udde7\ud83c\uddea",belize:"\ud83c\udde7\ud83c\uddff",benin:"\ud83c\udde7\ud83c\uddef",bermuda:"\ud83c\udde7\ud83c\uddf2",bhutan:"\ud83c\udde7\ud83c\uddf9",bolivia:"\ud83c\udde7\ud83c\uddf4",caribbean_netherlands:"\ud83c\udde7\ud83c\uddf6",bosnia_herzegovina:"\ud83c\udde7\ud83c\udde6",botswana:"\ud83c\udde7\ud83c\uddfc",brazil:"\ud83c\udde7\ud83c\uddf7",british_indian_ocean_territory:"\ud83c\uddee\ud83c\uddf4",british_virgin_islands:"\ud83c\uddfb\ud83c\uddec",brunei:"\ud83c\udde7\ud83c\uddf3",bulgaria:"\ud83c\udde7\ud83c\uddec",burkina_faso:"\ud83c\udde7\ud83c\uddeb",burundi:"\ud83c\udde7\ud83c\uddee",cape_verde:"\ud83c\udde8\ud83c\uddfb",cambodia:"\ud83c\uddf0\ud83c\udded",cameroon:"\ud83c\udde8\ud83c\uddf2",canada:"\ud83c\udde8\ud83c\udde6",canary_islands:"\ud83c\uddee\ud83c\udde8",cayman_islands:"\ud83c\uddf0\ud83c\uddfe",central_african_republic:"\ud83c\udde8\ud83c\uddeb",chad:"\ud83c\uddf9\ud83c\udde9",chile:"\ud83c\udde8\ud83c\uddf1",cn:"\ud83c\udde8\ud83c\uddf3",christmas_island:"\ud83c\udde8\ud83c\uddfd",cocos_islands:"\ud83c\udde8\ud83c\udde8",colombia:"\ud83c\udde8\ud83c\uddf4",comoros:"\ud83c\uddf0\ud83c\uddf2",congo_brazzaville:"\ud83c\udde8\ud83c\uddec",congo_kinshasa:"\ud83c\udde8\ud83c\udde9",cook_islands:"\ud83c\udde8\ud83c\uddf0",costa_rica:"\ud83c\udde8\ud83c\uddf7",croatia:"\ud83c\udded\ud83c\uddf7",cuba:"\ud83c\udde8\ud83c\uddfa",curacao:"\ud83c\udde8\ud83c\uddfc",cyprus:"\ud83c\udde8\ud83c\uddfe",czech_republic:"\ud83c\udde8\ud83c\uddff",denmark:"\ud83c\udde9\ud83c\uddf0",djibouti:"\ud83c\udde9\ud83c\uddef",dominica:"\ud83c\udde9\ud83c\uddf2",dominican_republic:"\ud83c\udde9\ud83c\uddf4",ecuador:"\ud83c\uddea\ud83c\udde8",egypt:"\ud83c\uddea\ud83c\uddec",el_salvador:"\ud83c\uddf8\ud83c\uddfb",equatorial_guinea:"\ud83c\uddec\ud83c\uddf6",eritrea:"\ud83c\uddea\ud83c\uddf7",estonia:"\ud83c\uddea\ud83c\uddea",ethiopia:"\ud83c\uddea\ud83c\uddf9",eu:"\ud83c\uddea\ud83c\uddfa",european_union:"\ud83c\uddea\ud83c\uddfa",falkland_islands:"\ud83c\uddeb\ud83c\uddf0",faroe_islands:"\ud83c\uddeb\ud83c\uddf4",fiji:"\ud83c\uddeb\ud83c\uddef",finland:"\ud83c\uddeb\ud83c\uddee",fr:"\ud83c\uddeb\ud83c\uddf7",french_guiana:"\ud83c\uddec\ud83c\uddeb",french_polynesia:"\ud83c\uddf5\ud83c\uddeb",french_southern_territories:"\ud83c\uddf9\ud83c\uddeb",gabon:"\ud83c\uddec\ud83c\udde6",gambia:"\ud83c\uddec\ud83c\uddf2",georgia:"\ud83c\uddec\ud83c\uddea",de:"\ud83c\udde9\ud83c\uddea",ghana:"\ud83c\uddec\ud83c\udded",gibraltar:"\ud83c\uddec\ud83c\uddee",greece:"\ud83c\uddec\ud83c\uddf7",greenland:"\ud83c\uddec\ud83c\uddf1",grenada:"\ud83c\uddec\ud83c\udde9",guadeloupe:"\ud83c\uddec\ud83c\uddf5",guam:"\ud83c\uddec\ud83c\uddfa",guatemala:"\ud83c\uddec\ud83c\uddf9",guernsey:"\ud83c\uddec\ud83c\uddec",guinea:"\ud83c\uddec\ud83c\uddf3",guinea_bissau:"\ud83c\uddec\ud83c\uddfc",guyana:"\ud83c\uddec\ud83c\uddfe",haiti:"\ud83c\udded\ud83c\uddf9",honduras:"\ud83c\udded\ud83c\uddf3",hong_kong:"\ud83c\udded\ud83c\uddf0",hungary:"\ud83c\udded\ud83c\uddfa",iceland:"\ud83c\uddee\ud83c\uddf8",india:"\ud83c\uddee\ud83c\uddf3",indonesia:"\ud83c\uddee\ud83c\udde9",iran:"\ud83c\uddee\ud83c\uddf7",iraq:"\ud83c\uddee\ud83c\uddf6",ireland:"\ud83c\uddee\ud83c\uddea",isle_of_man:"\ud83c\uddee\ud83c\uddf2",israel:"\ud83c\uddee\ud83c\uddf1",it:"\ud83c\uddee\ud83c\uddf9",cote_divoire:"\ud83c\udde8\ud83c\uddee",jamaica:"\ud83c\uddef\ud83c\uddf2",jp:"\ud83c\uddef\ud83c\uddf5",jersey:"\ud83c\uddef\ud83c\uddea",jordan:"\ud83c\uddef\ud83c\uddf4",kazakhstan:"\ud83c\uddf0\ud83c\uddff",kenya:"\ud83c\uddf0\ud83c\uddea",kiribati:"\ud83c\uddf0\ud83c\uddee",kosovo:"\ud83c\uddfd\ud83c\uddf0",kuwait:"\ud83c\uddf0\ud83c\uddfc",kyrgyzstan:"\ud83c\uddf0\ud83c\uddec",laos:"\ud83c\uddf1\ud83c\udde6",latvia:"\ud83c\uddf1\ud83c\uddfb",lebanon:"\ud83c\uddf1\ud83c\udde7",lesotho:"\ud83c\uddf1\ud83c\uddf8",liberia:"\ud83c\uddf1\ud83c\uddf7",libya:"\ud83c\uddf1\ud83c\uddfe",liechtenstein:"\ud83c\uddf1\ud83c\uddee",lithuania:"\ud83c\uddf1\ud83c\uddf9",luxembourg:"\ud83c\uddf1\ud83c\uddfa",macau:"\ud83c\uddf2\ud83c\uddf4",macedonia:"\ud83c\uddf2\ud83c\uddf0",madagascar:"\ud83c\uddf2\ud83c\uddec",malawi:"\ud83c\uddf2\ud83c\uddfc",malaysia:"\ud83c\uddf2\ud83c\uddfe",maldives:"\ud83c\uddf2\ud83c\uddfb",mali:"\ud83c\uddf2\ud83c\uddf1",malta:"\ud83c\uddf2\ud83c\uddf9",marshall_islands:"\ud83c\uddf2\ud83c\udded",martinique:"\ud83c\uddf2\ud83c\uddf6",mauritania:"\ud83c\uddf2\ud83c\uddf7",mauritius:"\ud83c\uddf2\ud83c\uddfa",mayotte:"\ud83c\uddfe\ud83c\uddf9",mexico:"\ud83c\uddf2\ud83c\uddfd",micronesia:"\ud83c\uddeb\ud83c\uddf2",moldova:"\ud83c\uddf2\ud83c\udde9",monaco:"\ud83c\uddf2\ud83c\udde8",mongolia:"\ud83c\uddf2\ud83c\uddf3",montenegro:"\ud83c\uddf2\ud83c\uddea",montserrat:"\ud83c\uddf2\ud83c\uddf8",morocco:"\ud83c\uddf2\ud83c\udde6",mozambique:"\ud83c\uddf2\ud83c\uddff",myanmar:"\ud83c\uddf2\ud83c\uddf2",namibia:"\ud83c\uddf3\ud83c\udde6",nauru:"\ud83c\uddf3\ud83c\uddf7",nepal:"\ud83c\uddf3\ud83c\uddf5",netherlands:"\ud83c\uddf3\ud83c\uddf1",new_caledonia:"\ud83c\uddf3\ud83c\udde8",new_zealand:"\ud83c\uddf3\ud83c\uddff",nicaragua:"\ud83c\uddf3\ud83c\uddee",niger:"\ud83c\uddf3\ud83c\uddea",nigeria:"\ud83c\uddf3\ud83c\uddec",niue:"\ud83c\uddf3\ud83c\uddfa",norfolk_island:"\ud83c\uddf3\ud83c\uddeb",northern_mariana_islands:"\ud83c\uddf2\ud83c\uddf5",north_korea:"\ud83c\uddf0\ud83c\uddf5",norway:"\ud83c\uddf3\ud83c\uddf4",oman:"\ud83c\uddf4\ud83c\uddf2",pakistan:"\ud83c\uddf5\ud83c\uddf0",palau:"\ud83c\uddf5\ud83c\uddfc",palestinian_territories:"\ud83c\uddf5\ud83c\uddf8",panama:"\ud83c\uddf5\ud83c\udde6",papua_new_guinea:"\ud83c\uddf5\ud83c\uddec",paraguay:"\ud83c\uddf5\ud83c\uddfe",peru:"\ud83c\uddf5\ud83c\uddea",philippines:"\ud83c\uddf5\ud83c\udded",pitcairn_islands:"\ud83c\uddf5\ud83c\uddf3",poland:"\ud83c\uddf5\ud83c\uddf1",portugal:"\ud83c\uddf5\ud83c\uddf9",puerto_rico:"\ud83c\uddf5\ud83c\uddf7",qatar:"\ud83c\uddf6\ud83c\udde6",reunion:"\ud83c\uddf7\ud83c\uddea",romania:"\ud83c\uddf7\ud83c\uddf4",ru:"\ud83c\uddf7\ud83c\uddfa",rwanda:"\ud83c\uddf7\ud83c\uddfc",st_barthelemy:"\ud83c\udde7\ud83c\uddf1",st_helena:"\ud83c\uddf8\ud83c\udded",st_kitts_nevis:"\ud83c\uddf0\ud83c\uddf3",st_lucia:"\ud83c\uddf1\ud83c\udde8",st_pierre_miquelon:"\ud83c\uddf5\ud83c\uddf2",st_vincent_grenadines:"\ud83c\uddfb\ud83c\udde8",samoa:"\ud83c\uddfc\ud83c\uddf8",san_marino:"\ud83c\uddf8\ud83c\uddf2",sao_tome_principe:"\ud83c\uddf8\ud83c\uddf9",saudi_arabia:"\ud83c\uddf8\ud83c\udde6",senegal:"\ud83c\uddf8\ud83c\uddf3",serbia:"\ud83c\uddf7\ud83c\uddf8",seychelles:"\ud83c\uddf8\ud83c\udde8",sierra_leone:"\ud83c\uddf8\ud83c\uddf1",singapore:"\ud83c\uddf8\ud83c\uddec",sint_maarten:"\ud83c\uddf8\ud83c\uddfd",slovakia:"\ud83c\uddf8\ud83c\uddf0",slovenia:"\ud83c\uddf8\ud83c\uddee",solomon_islands:"\ud83c\uddf8\ud83c\udde7",somalia:"\ud83c\uddf8\ud83c\uddf4",south_africa:"\ud83c\uddff\ud83c\udde6",south_georgia_south_sandwich_islands:"\ud83c\uddec\ud83c\uddf8",kr:"\ud83c\uddf0\ud83c\uddf7",south_sudan:"\ud83c\uddf8\ud83c\uddf8",es:"\ud83c\uddea\ud83c\uddf8",sri_lanka:"\ud83c\uddf1\ud83c\uddf0",sudan:"\ud83c\uddf8\ud83c\udde9",suriname:"\ud83c\uddf8\ud83c\uddf7",swaziland:"\ud83c\uddf8\ud83c\uddff",sweden:"\ud83c\uddf8\ud83c\uddea",switzerland:"\ud83c\udde8\ud83c\udded",syria:"\ud83c\uddf8\ud83c\uddfe",taiwan:"\ud83c\uddf9\ud83c\uddfc",tajikistan:"\ud83c\uddf9\ud83c\uddef",tanzania:"\ud83c\uddf9\ud83c\uddff",thailand:"\ud83c\uddf9\ud83c\udded",timor_leste:"\ud83c\uddf9\ud83c\uddf1",togo:"\ud83c\uddf9\ud83c\uddec",tokelau:"\ud83c\uddf9\ud83c\uddf0",tonga:"\ud83c\uddf9\ud83c\uddf4",trinidad_tobago:"\ud83c\uddf9\ud83c\uddf9",tunisia:"\ud83c\uddf9\ud83c\uddf3",tr:"\ud83c\uddf9\ud83c\uddf7",turkmenistan:"\ud83c\uddf9\ud83c\uddf2",turks_caicos_islands:"\ud83c\uddf9\ud83c\udde8",tuvalu:"\ud83c\uddf9\ud83c\uddfb",uganda:"\ud83c\uddfa\ud83c\uddec",ukraine:"\ud83c\uddfa\ud83c\udde6",united_arab_emirates:"\ud83c\udde6\ud83c\uddea",gb:"\ud83c\uddec\ud83c\udde7",uk:"\ud83c\uddec\ud83c\udde7",us:"\ud83c\uddfa\ud83c\uddf8",us_virgin_islands:"\ud83c\uddfb\ud83c\uddee",uruguay:"\ud83c\uddfa\ud83c\uddfe",uzbekistan:"\ud83c\uddfa\ud83c\uddff",vanuatu:"\ud83c\uddfb\ud83c\uddfa",vatican_city:"\ud83c\uddfb\ud83c\udde6",venezuela:"\ud83c\uddfb\ud83c\uddea",vietnam:"\ud83c\uddfb\ud83c\uddf3",wallis_futuna:"\ud83c\uddfc\ud83c\uddeb",western_sahara:"\ud83c\uddea\ud83c\udded",yemen:"\ud83c\uddfe\ud83c\uddea",zambia:"\ud83c\uddff\ud83c\uddf2",zimbabwe:"\ud83c\uddff\ud83c\uddfc"}},{}],2:[function(a,e,n){"use strict";e.exports={angry:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":/",":-/"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral_face:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],stuck_out_tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],sweat_smile:[",:)",",:-)"],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]}},{}],3:[function(a,e,n){"use strict";function o(a){return a.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}e.exports=function(a){var e,n=a.defs;a.enabled.length&&(n=Object.keys(n).reduce(function(e,o){return a.enabled.indexOf(o)>=0&&(e[o]=n[o]),e},{})),e=Object.keys(a.shortcuts).reduce(function(e,o){return n[o]?Array.isArray(a.shortcuts[o])?(a.shortcuts[o].forEach(function(a){e[a]=o}),e):(e[a.shortcuts[o]]=o,e):e},{});var i=Object.keys(n).map(function(a){return":"+a+":"}).concat(Object.keys(e)).sort().reverse().map(function(a){return o(a)}).join("|"),r=RegExp(i),_=RegExp(i,"g");return{defs:n,shortcuts:e,scanRE:r,replaceRE:_}}},{}],4:[function(a,e,n){"use strict";e.exports=function(a,e){return a[e].content}},{}],5:[function(a,e,n){"use strict";e.exports=function(a,e,n,o,i){function r(a,o,r){var _,t=0,l=[];return a.replace(i,function(o,i,c){var u;if(n.hasOwnProperty(o)){if(u=n[o],i>0&&!s.test(c[i-1]))return;if(i+o.length<c.length&&!s.test(c[i+o.length]))return}else u=o.slice(1,-1);i>t&&(_=new r("text","",0),_.content=a.slice(t,i),l.push(_)),_=new r("emoji","",0),_.markup=u,_.content=e[u],l.push(_),t=i+o.length}),t<a.length&&(_=new r("text","",0),_.content=a.slice(t),l.push(_)),l}var _=a.utils.arrayReplaceAt,t=a.utils.lib.ucmicro,s=new RegExp([t.Z.source,t.P.source,t.Cc.source].join("|"));return function(a){var e,n,i,t,s,l=a.tokens,c=0;for(n=0,i=l.length;n<i;n++)if("inline"===l[n].type)for(t=l[n].children,e=t.length-1;e>=0;e--)s=t[e],"link_open"!==s.type&&"link_close"!==s.type||"auto"===s.info&&(c-=s.nesting),"text"===s.type&&o.test(s.content)&&0===c&&(l[n].children=t=_(t,e,r(s.content,s.level,a.Token)))}}},{}],6:[function(a,e,n){"use strict";var o=a("./lib/data/full.json"),i=a("./lib/data/shortcuts"),r=a("./lib/render"),_=a("./lib/replace"),t=a("./lib/normalize_opts");e.exports=function(a,e){var n={defs:o,shortcuts:i,enabled:[]},s=t(a.utils.assign({},n,e||{}));a.renderer.rules.emoji=r,a.core.ruler.push("emoji",_(a,s.defs,s.shortcuts,s.scanRE,s.replaceRE))}},{"./lib/data/full.json":1,"./lib/data/shortcuts":2,"./lib/normalize_opts":3,"./lib/render":4,"./lib/replace":5}]},{},[6])(6)});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("ContentRendering/MarkdownItPlugins",["require","exports","VSS/Utils/Url"],function(n,t,i){var e=function(){function n(n,t){var i=this;n.core.ruler.push("external_links",function(n){return i.linkTokensTransformer(n)});t&&t.hideExternalImageIcon||(n.renderer.rules.link_close=function(n,t){return i.externalLinkIcon(n,t)});this.options=t||{}}return n.prototype.externalLinkIcon=function(t){var i=t[0].attrGet("href");return n.IsExternal(i)&&!this.options.hideExternalImageIcon?"<\/a> <span class='bowtie-icon bowtie-navigate-external' > <\/span>":"<\/a>"},n.prototype.linkTokensTransformer=function(t){function i(t){if(t.children&&t.children.map(i,this),t.type==="link_open"){var r=t.attrGet("href");this.options&&this.options.linkTransformer&&(r=this.options.linkTransformer(r),t.attrSet("href",r));n.IsExternal(r)&&(t.attrSet("target","_blank"),t.attrSet("rel","noopener"))}}t.tokens.map(i,this)},n.IsExternal=function(n){var t=new i.Uri(n),r=t.host?t.host:window.location.hostname;return r!==window.location.hostname},n}(),r,u,f;t.LinkTransformerPlugin=e;r=function(){function n(n,t){var i=this;t&&t.imageUrlTransformer&&n.core.ruler.push("image_links",function(n){return i.linkTransformer(n)});this.options=t}return n.prototype.linkTransformer=function(n){function t(n){if(n.children&&n.children.map(t,this),n.type==="image"){var i=n.attrGet("src"),r=this.options.imageUrlTransformer(i);n.attrSet("src",r)}}n.tokens.map(t,this)},n}();t.ImageTransformerPlugin=r;u=function(){function n(n){var t=this;this.mdInstance=n;n.core.ruler.push("header_anchor",function(n){return t.headerTransformer(n)})}return n.prototype.headerTransformer=function(n){for(var i,r,u,t=0;t<n.tokens.length-2;t++)n.tokens[t].type==="heading_open"&&n.tokens[t+1].type==="inline"&&(i=n.tokens[t+1],i.content&&(r=new RegExp(this.mdInstance.utils.lib.ucmicro.Z.source,"g"),u="user-content-"+encodeURIComponent(i.content.replace(r,"-")),n.tokens[t].attrPush(["id",u]),t+=2))},n}();t.AnchoredHeadersPlugin=u;f=function(){function n(n){var t=this;n.block.ruler.at("heading",function(n,i,r,u){return t.headerTransformer(n,i,r,u)},{alt:["paragraph","reference","blockquote"]})}return n.prototype.headerTransformer=function(n,t,i,r){var u=n.bMarks[t]+n.tShift[t],e=n.eMarks[t],s=n.src.charCodeAt(u),c=35,o,h,l,f;if(s!==c||u>=e)return!1;for(o=1,u++,s=n.src.charCodeAt(u);u<e&&o<=6&&s===c;)o++,u++,s=n.src.charCodeAt(u);return o>6?!1:r?!0:(e=n.skipCharsBack(e,32,u),h=n.skipCharsBack(e,c,u),h>u&&n.src.charCodeAt(h-1)===32&&(e=h),n.line=t+1,l=Array(o+1).join("#"),f=n.push("heading_open","h"+o.toString(),1),f.map=[t,n.line],f.markup=l,f=n.push("inline","",0),f.map=[t,n.line],f.children=[],f.content=n.src.slice(u,e).trim(),f=n.push("heading_close","h"+o.toString(),-1),f.markup=l,!0)},n}();t.LazyHeadersPlugin=f});
define("ContentRendering/Markdown",["require","exports","3rdParty/markdown-it","3rdParty/markdown-it-emoji","ContentRendering/MarkdownItPlugins"],function(n,t,i,r,u){var f=function(){function n(n){var t=this;this.renderHtml=function(n){return t.renderer.render(n)};this.options=n;this.renderer=this.getRenderer()}return n.prototype.getRenderer=function(){var f=this,t;return this.options?(t=i(this.options),t.use(function(n){return new u.LazyHeadersPlugin(n)}),t.use(function(n){return new u.AnchoredHeadersPlugin(n)}),t.use(function(n){return new u.LinkTransformerPlugin(n,f.options)}),t.use(function(n){return new u.ImageTransformerPlugin(n,f.options)}),this.options.emoji&&t.use(r),this.options.linkifyTlds&&t.linkify.tlds(this.options.linkifyTlds,!1)):(n.defaultRenderer||(n.defaultRenderer=i(this.options),n.defaultRenderer.use(function(n){return new u.LazyHeadersPlugin(n)}),n.defaultRenderer.use(function(n){return new u.AnchoredHeadersPlugin(n)}),n.defaultRenderer.use(function(n){return new u.LinkTransformerPlugin(n)}),n.defaultRenderer.use(function(n){return new u.ImageTransformerPlugin(n)})),t=n.defaultRenderer),t},n.prototype.resetCache=function(){n.defaultRenderer=null},n}();t.MarkdownRenderer=f});
define("Gallery/Client/Controls/VSSItemDetails/VSSItemDetails.ViewModel",["require","exports","knockout","q","react","Gallery/Client/Scenarios/QnA/Components/QnAContainer","Gallery/Client/Scenarios/QnA/Actions/QnAActionCreator","Gallery/Client/Scenarios/QnA/Actions/QnAActions","Gallery/Client/Scenarios/QnA/Stores/QnAStoreHub","Gallery/Client/Scenarios/QnA/Sources/QnASource","Gallery/Client/Controls/BreadCrumb/BreadCrumb.ViewModel","Gallery/Client/Common/ConnectedContext","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Service/VNext/GalleryDataProvider","Gallery/Client/Service/GitHubServiceProvider/GitHubServiceProvider","Gallery/Client/Controls/ImageControl/Image.ViewModel","Gallery/Client/Controls/Badges/Badges.ViewModel","Gallery/Client/Common/ItemDetailsTelemetry","Gallery/Client/Controls/VSSItemDownload/VSSItemDownload.ViewModel","Gallery/Client/Service/VSSItemHelper","Gallery/Client/Service/Item","Gallery/Client/3rdParty/marked","Gallery/Client/Common/MarkedHelper","Gallery/Client/Controls/MetaDataList/MetaDataList.ViewModel","Gallery/Client/Controls/RatingAndReviewDetails/RatingAndReviewDetails.View","Gallery/Client/Controls/RatingAndReviewDetails/RatingAndReviewDetails.ViewModel","Gallery/Client/Controls/RatingControl/RatingControl.ViewModel","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Common/Utility.Common","Gallery/Client/Service/VSSGallery/VSSGallery","Gallery/Client/Service/VSSItem","Gallery/Client/Controls/PriceCalculator/VSTSItemPriceCalculator","VSS/Context","VSS/Diag","VSS/Events/Services","VSS/Gallery/Contracts","VSS/Adapters/Knockout","VSS/Serialization","VSS/Utils/Date","VSS/Utils/Html","VSS/Utils/String","VSS/Utils/Url","ContentRendering/Markdown","VSS/Common/Constants/Platform","VSS/FeatureAvailability/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi){var ci=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ExternalMetadataProperties,li=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ExternalMetadataErrorProperties,ai=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ItemDetailsProperties,hi=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ItemDetailsResourceProperties,vi=lt.WindowWrapper,si=function(n){function t(t){var u=n.call(this)||this;return u.brandingTheme="light",u.titleTag=null,u.previewString=null,u.galleryItemLink=null,u.galleryItemLinkDisplayName=null,u.showGalleryItemEditLink=!1,u.galleryItemEditLinkDisplayName=null,u.galleryItemEditLink=null,u.publisherPageLinkDescription=v.ItemDetailsToPublisherPageLink,u.ratingsScreenReaderText=null,u.publisherLink=null,u.downloads=0,u.downloadsText="",u.clicksText="",u.separatorText="",u.showDownloads=!1,u.showRatingReview=!1,u.reviewResultsLoaded=i.observable(!1),u.showPriceCalculatorInMarkdown=!1,u.actionLinkNewTab=!1,u.actionButtonDisabled=!1,u.actionButtonTitle="",u.actionButtonVisible=!0,u.actionDescriptionHtml=null,u.installForPaidUsersSupported=!1,u.freeInstallLink=null,u.installButtonText=v.InstallButtonText,u.trialButtonText=v.StartTrialText,u.trialButtonVisible=!1,u.trialLink="",u.trialLinkNewTab=!1,u._testCommerce=!1,u.downloadButtonText=v.DownloadButtonText,u.downloadLink=null,u.itemDownloadViewModel=null,u.initiateDownloadonPageLoad=!1,u._downloadButtonVisible=!1,u.clickButtonText=v.ItemGetStarted,u.clickLink=null,u.clickButtonVisible=null,u.isVSCode=!1,u.isVSExtension=!1,u.VSCodeCopyCommandOptions=i.observable(null),u.offersCost=null,u.offersCostText=null,u.isVSIPPartner=!1,u.isUnpublished=!1,u.unpublishedText=null,u.showItemPricing=i.observable(!1),u.itemPricingContent=null,u.teamSizePlansMessage=null,u.showPriceCalculator=i.observable(!1),u.itemPriceCalculator=null,u.itemTags=[],u.itemCategories=[],u.showCapabilitiesInfo=!0,u.capabilitiesHeader=v.CapabilitiesInfoHeader,u.seeMoreText=v.SeeMore,u.isWorksWithExpanded=i.observable(!0),u.noOfCapabilities=5,u.closeDialogText=v.CloseButtonText,u.initiateInstall=!1,u.getStartedLink=null,u.itemDetailsLearnLink=null,u.itemDetailsSupportLink=null,u.itemDetailsBillingSupportLink=null,u.itemDetailsFeedbackLink=null,u.itemDetailsLicenseLink=null,u.itemDetailsChangelogLink=null,u.itemDetailsPrivacyLink=null,u.itemPublisherKey=v.PublisherText,u.itemPublishedDateKey=v.PublishedDateText,u.itemGetStartedKey=v.ItemGetStarted,u.itemUpdateDateKey=v.ItemLastUpdatedDate,u.itemVersionKey=v.ItemVersion,u.itemDetailsShareKey=v.ItemDetailsShare,u.itemDetailsLearnString=v.ItemDetailsLearn,u.itemDetailsSupportString=v.ItemDetailsSupport,u.itemDetailsBillingSupportString=v.ItemDetailsBillingSupport,u.itemDetailsFeedbackString=v.ItemDetailsFeedBack,u.itemDetailsLicenseString=v.LicenseText,u.itemDetailsChangelogString=v.ChangelogText,u.itemDetailsPrivacyString=v.PrivacyText,u.itemTabOverviewString=v.ItemTabOverview,u.itemPricingString=v.ItemPricing,u.reportAbuseString=v.ItemDetailsReportAbuseLinkText,u.itemMoreInfoText=v.MoreInfoText,u.itemResourcesText=v.ResourcesText,u.itemProjectDetailsText=v.ProjectDetailsText,u.startPlanInfoText="",u.pricePerMonthText=v.PricePerMonthText,u.usersText=v.UsersText,u.showOfferPlans=!1,u.planBasedPricing=!1,u.isUserAuthenticated=!1,u.itemDetailsGitHubLink=i.observable(null),u.itemDetailsPullRequestLink=null,u.itemDetailsOpenIssuesLink=null,u.itemDetailsLastCommitLink=null,u.itemDetailsGitHubString=i.observable(null),u.itemDetailsPullRequestString=i.observable(null),u.itemDetailsOpenIssuesString=i.observable(null),u.itemDetailsLastCommitString=i.observable(null),u.itemBadgesViewModel=i.observable(null),u.showQnA=i.observable(!1),u.githubDetailsAvailable=u.computed(function(){return u.itemDetailsGitHubString()!==null&&u.itemDetailsPullRequestString()!==null&&u.itemDetailsOpenIssuesString()!==null&&u.itemDetailsLastCommitString()!==null?!0:!1}),u.shouldShowBadges=u.computed(function(){return u.githubDetailsAvailable()||u.itemDetailsGitHubLink()===null?!0:!1}),u.shouldShowProjectDetails=u.computed(function(){return u.itemDetailsGitHubLink()===null&&u.itemBadgesViewModel()!==null||u.githubDetailsAvailable()?!0:!1}),u.setWorksWithExpanded=function(){u.isWorksWithExpanded(!0)},u.vssDetailedItem=t.vssDetailedItem,u._gitHubServiceProvider=t.gitHubServiceProvider,u._vssGallery=t.vssGalleryProvider,t.vssDownloadVsixFlag&&(u.initiateDownloadonPageLoad=t.intiateDownloadOnPageLoad,u._downloadButtonVisible=t.vssDownloadVsixFlag,u._initializeDownloadOptions(),u.actionDescriptionHtml=ri.format(v.VSS_Extension_Download_Help,"<strong>"+v.ItemInstall+"<\/strong>","<strong>"+y.Download+"<\/strong>")),u.initiateInstall=t.intiateInstall,u.showMinimalView=t.showMinimalView,u.isUserAuthenticated=wt.getDefaultWebContext().user?!0:!1,u.itemLoaded=r.defer(),u.ratingControl=ot.RatingAndReviewDetailsView,u._testCommerce=ct.GalleryURLs.isTestCommerceEnabled(lt.WindowWrapper.getQueryString()),u.fullyQualifiedItemName=yt.ItemModelHelper.getFullyQualifiedNameForItem(u.vssDetailedItem.publisherName,u.vssDetailedItem.name),u.isVSIPPartner=b.GalleryDataProvider.isVSIPPartner(),u._initialize(),u}return __extends(t,n),t.prototype._initialize=function(){var n=this;this._initializeMarkedOptions();this._initializeControlBindings();nt.ItemDetailsTelemetry.publishItemDetailsTelemetryEvent(p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ITEMDETAILSPAGE,this.vssDetailedItem);oi.FeatureAvailabilityService.isFeatureEnabled(a.FeatureFlag.LogWebPageView,!1)&&this._vssGallery.incrementExtensionDailyStat(this.vssDetailedItem.publisherName,this.vssDetailedItem.name,this.vssDetailedItem.version,a.ExtensionDailyStatType.WebPageView);this.setQnAFeatureFlagValue()&&this.vssDetailedItem.itemType!==yt.VSSItemType.VSSOffer&&(this._qnaActions=new o.QnAActions,this._qnaSource=new h.QnASource,this._qnaActionCreator=new e.QnAActionCreator(this._qnaActions,this._qnaSource),this.qnaContainer=u.createElement(f.QnAContainerComponent,{publisherDetails:{currentUserPublisher:ni.deserializeJsonIsland($(".can-update-extension"),null),publisherDisplayName:this.vssDetailedItem.publisherDisplayName,publisherImageLink:this.vssDetailedItem.imageUrl,publisherName:this.vssDetailedItem.publisherName,extensionName:this.vssDetailedItem.name,extensionDisplayName:this.vssDetailedItem.title,productType:yt.ItemModelHelper.getItemTypeText(this.vssDetailedItem.itemType)},userDetails:{displayName:this.isUserAuthenticated?wt.getDefaultWebContext().user.name:"",id:this.isUserAuthenticated?wt.getDefaultWebContext().user.id:"",getImageUrlForAUser:function(n){return n!==t.EMPTY_GUID?ct.GalleryURLs.getUserAvatarUrl(n):ct.GalleryURLs.getResourcePath()+t.DEFAULT_USER_IMAGE},loginIfRequired:function(){if(!n.isUserAuthenticated){var t=lt.UrlUtils.setReplyToParameterInLoginRedirectUrl();return vi.open(t,"_self"),!0}return!1}},qnaActionCreator:this._qnaActionCreator,store:new s.QnAStoreHub(this._qnaActions).qnaStore}),this.showQnA(!0))},t.prototype.onItemLoaded=function(){return this.itemLoaded.promise},t.prototype._initializeDownloadOptions=function(){var i=this,r=wt.getDefaultWebContext().user,n;r?(this.downloadLink="#download-pop-up",n={item:this.vssDetailedItem,vssGalleryProvider:this._vssGallery,startDownloadOnInit:this.initiateDownloadonPageLoad,postDownloadCallback:function(){var n;i._logTelemetryForItemAcquisitionClick(p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ITEM_DOWNLOAD);var t=$(".download-control-container").eq(0),r=parseInt(t.css("width")),u=$(window).width()/2-r/2;t.css("left",u+"px");n=$("#download-pop-up");n.on("shown.bs.modal",function(){n.find("button:not([disabled])").first().focus()})}},this.itemDownloadViewModel=new tt.VssItemDownloadViewModel(n)):this.downloadLink=lt.UrlUtils.setReplyToParameterInLoginRedirectUrl(t.QUERY_PARAM_DOWNLOAD,"true")},t.prototype.getExternalDataProvider=function(){return this._vssGallery&&this._vssGallery instanceof vt.VSSGalleryExternalProvider?this._vssGallery:null},t.prototype._initializeItemPriceCalculator=function(){this.itemPriceCalculator=new pt.VSTSItemPriceCalculator(this.vssDetailedItem)},t.prototype._initializeMarkedOptions=function(){oi.FeatureAvailabilityService.isFeatureEnabled(ei.WebPlatformFeatureFlags.MarkdownRendering)?this.platformRenderer=new fi.MarkdownRenderer(ft.MarkedHelper.initializeMarkdownItOptions(this._vssGallery,this.vssDetailedItem)):this.markedOptions=ft.MarkedHelper.initializeMarkedOptions(this._vssGallery,this.vssDetailedItem)},t.prototype.isGitHubFlavoredMarkdownEnabled=function(){return this.vssDetailedItem.properties&&this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_GITHUB_FLAVORED_MARKDOWN]==="false"?!1:!0},t.prototype.getItemAssetSourceURL=function(n){var t=n;return n&&n.length>0&&(n.charAt(0)==="/"&&(n=n.substr(1)),lt.UrlUtils.isAbsoluteUrl(n)||(t=this._vssGallery.getItemAssetSourceURL(this.vssDetailedItem.id,this.vssDetailedItem.version,n))),t},t.prototype._initializeControlBindings=function(){this._initializeBreadCrumb();this._initializeItemBanner();this._initalizeItemDetails()},t.prototype._initializeItemBanner=function(){var n=this,r,f,i,e,t,u,c;if((this.vssDetailedItem.flags&dt.PublishedExtensionFlags.Unpublished)!=0&&(this.isUnpublished=!0,this.unpublishedText=v.UnpublishedExtensionNote),this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_BRANDING_COLOR]?(r=this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_BRANDING_COLOR],f=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r),this.brandingColor=f?r:null):this.brandingColor=null,this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_BRANDING_THEME]&&(this.brandingTheme=ri.ignoreCaseComparer(this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_BRANDING_THEME],"dark")===0?"dark":"light"),this.itemName=this.vssDetailedItem.title,this.vssDetailedItem.itemType===yt.VSSItemType.VSIdeExtension?this.vssDetailedItem.priceCategory===rt.priceCategory.Paid?this.titleTag=v.ItemPaid:this.vssDetailedItem.priceCategory===rt.priceCategory.Trial&&(this.titleTag=v.ItemTrial):(!yt.ItemModelHelper.isThirdPartyPaidExtension(this.vssDetailedItem)||this.vssDetailedItem.offerDetails&&this.vssDetailedItem.offerDetails.hasPublicPlans)&&!this.vssDetailedItem.isPreview||(this.titleTag=v.ItemPreview,it.VSSItemHelper.isVSCodeExtension(this.vssDetailedItem)||(this.previewString=v.ItemPaidPreview)),i={imageUrl:this.vssDetailedItem.brandingImageUrl||this.vssDetailedItem.imageUrl,fallbackImageUrl:this.vssDetailedItem.fallbackBrandingImageUrl||this.vssDetailedItem.fallbackImageUrl,hideIfNotFound:!0},e=oi.FeatureAvailabilityService.isFeatureEnabled(a.FeatureFlag.ShowLargeThumbnailAsBrandingIcon,!1)||at.FeatureFlagUtils.isFeatureFlagEnabled(location.href,at.FeatureFlagUtils.ShowLargeThumbnailAsBrandingIcon),this.vssDetailedItem.itemType!==yt.VSSItemType.VSIdeExtension||e||(i.imageUrl=this.vssDetailedItem.imageUrl,i.fallbackImageUrl=this.vssDetailedItem.fallbackImageUrl),this.imageViewModel=new d.ImageViewModel(i),this.downloads=this.vssDetailedItem.installCount,t=this._getToLocalStringForNumber(this.downloads),this.downloads===1?(this.downloadsText=ri.format(v.ItemInstallText,t),this.clicksText=ri.format(v.ItemClickText,t)):(this.downloadsText=ri.format(v.ItemInstallsText,t),this.clicksText=ri.format(v.ItemClicksText,t)),this.separatorText=v.SeparatorText,this.showDownloads=this.vssDetailedItem.isBuiltIn||this.vssDetailedItem.itemType===yt.VSSItemType.VSSOffer||this.downloads<1||!wt.getPageContext().webAccessConfiguration.isHosted?!1:!0,u=oi.FeatureAvailabilityService.isFeatureEnabled(a.FeatureFlag.ShowRatingAndReview,!1),at.FeatureFlagUtils.isFeatureFlagEnabled(location.href,at.FeatureFlagUtils.ratingReviewFF)&&(at.FeatureFlagUtils.setFeatureFlagCookie(at.FeatureFlagUtils.ratingReviewFF),u=!0),u&&this.vssDetailedItem.itemType!==yt.VSSItemType.VSSOffer){this.showRatingReview=!0;var o=5,s=dt.ReviewFilterOptions.FilterEmptyReviews|dt.ReviewFilterOptions.FilterEmptyUserNames,h=ht.IRatingStarType.DarkStar;ri.equals(this.brandingTheme,"dark")&&(h=ht.IRatingStarType.LightStar);this._vssGallery.getReviews(this.vssDetailedItem.publisherName,this.vssDetailedItem.name,o,s).then(function(t){var i={reviewResults:t,pageSize:o,filterOptions:s,itemInfo:n.vssDetailedItem,vssGalleryDataProvider:n._vssGallery,ratingStarType:h};n.ratingAndReviewDetailsData=new st.RatingAndReviewDetailsViewModel(i);n.ratingsScreenReaderText=ri.format(v.RatingsScreenReaderText,n.vssDetailedItem.averageRating);n.reviewResultsLoaded(!0);n.itemLoaded.resolve(null)},function(n){alert(n.message)})}c=oi.FeatureAvailabilityService.isFeatureEnabled(a.FeatureFlag.ShowVSItemLink,!1)||at.FeatureFlagUtils.isFeatureFlagEnabled(location.href,at.FeatureFlagUtils.ShowVSItemLink);c&&this.vssDetailedItem.itemType===yt.VSSItemType.VSIdeExtension&&(this.galleryItemLink=it.VSSItemHelper.getGalleryItemUrl(this.vssDetailedItem)+"/?redirect=0",this.galleryItemLinkDisplayName=v.GalleryItemLinkDisplayName);this.itemDescription=this.vssDetailedItem.longDescription||this.vssDetailedItem.shortDescription;this.publisherDisplayName=this.vssDetailedItem.publisherDisplayName;wt.getPageContext().webAccessConfiguration.isHosted&&(this.publisherLink=ct.GalleryURLs.getSearchPageUrlForPublisherQuery(this.publisherDisplayName));this.publisherDisplay=v.Publisher_By+this.vssDetailedItem.publisherDisplayName;this._initializeAction()},t.prototype.onClickActionButtonsDropdownIcon=function(){kt.getService().fire(t.EVENT_ON_CLICK_ACTION_BUTTONS_DROPDOWN_ICON)},t.prototype._isThirdPartyExtensionAvailableForPurchase=function(){return this.vssDetailedItem.priceCategory===rt.priceCategory.Paid&&this._isThirdPartyExtensionPurchaseSupported()&&(this.vssDetailedItem.offerDetails&&this.vssDetailedItem.offerDetails.hasPublicPlans||this.vssDetailedItem.offerDetails&&this.vssDetailedItem.offerDetails.hasPlans&&this._testCommerce)?!0:!1},t.prototype._isThirdPartyExtensionPurchaseSupported=function(){return lt.isPureHosted()?!0:lt.isOnPremHasInternetAccess()?!0:!1},t.prototype._needsAADAuth=function(){var n=$(".needs-aad-auth").html();return n&&ri.ignoreCaseComparer(n,"true")===0?!0:!1},t.prototype._connectedInstallEnabled=function(){return wt.getPageContext().webAccessConfiguration.isHosted},t.prototype._isAvailableForConnectedInstall=function(){return it.VSSItemHelper.supportsConnectedInstall(this.vssDetailedItem)},t.prototype._showTrialForOnPrem=function(){return!1},t.prototype._getInstallLink=function(n){n===void 0&&(n=!1);var t=location.protocol+"//"+location.host,i=yt.ItemModelHelper.getFullyQualifiedNameForItem(this.vssDetailedItem.publisherName,this.vssDetailedItem.name),r=wt.getDefaultWebContext().user,f=this._connectedInstallEnabled(),u=ni.deserializeJsonIsland($(".onprem-redirect-url"),null);return f&&this._isAvailableForConnectedInstall()&&Boolean(u)?(t=u,n&&(t+="&freeInstall=true")):n?t=r?"#install-pop-up":t+ct.GalleryURLs.getFreeInstallItemURLForDetailsPage(i):(t=t+ct.GalleryURLs.getInstallItemURLForDetailsPage(i),r&&!this._needsAADAuth()&&(t+="#install-pop-up")),encodeURI(t)},t.prototype._initializeAction=function(){this.actionButtonVisible=this._isActionButtonVisible(this.vssDetailedItem);var n=this._getInstallLink();switch(this.vssDetailedItem.itemType){case yt.VSSItemType.VSSOffer:this._setAcquisitionOptionsForVSSOffer(n);break;case yt.VSSItemType.VSSIntegration:case yt.VSSItemType.VSSTfsIntegration:case yt.VSSItemType.VSSHostedIntegration:this._setAcquisitionOptionsForIntegration(n);break;case yt.VSSItemType.VSCodeExtension:this._setAcquisitionOptionsForVSCodeExtension();break;case yt.VSSItemType.VSIdeExtension:this._setAcquisitionOptionsForVSExtension();break;default:this._setAcquisitionOptionsForVSSExtension(n)}!this.actionButtonVisible&&this._downloadButtonVisible&&(this.actionDescriptionHtml=null);this.actionButtonVisible||(this.actionLink=null)},t.prototype._setAcquisitionOptionsForVSSOffer=function(n){this.actionButtonText=v.ItemBuy;this.actionLink=n;this._setCostForOffers()},t.prototype._setAcquisitionOptionsForIntegration=function(){this.actionLinkNewTab=!0;this.vssDetailedItem.properties&&this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_INSTALL_LINK]?(this.actionButtonText=v.ItemInstall,this.actionLink=this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_INSTALL_LINK]):this.vssDetailedItem.properties&&this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_GET_STARTED_LINK]?(this.actionButtonText=v.ItemGetStarted,this.actionLink=this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_GET_STARTED_LINK]):(this.actionButtonText=v.ItemGetStarted,this._disableActionButton());(this._isSamePageLink(this.actionLink)||this._isInstallLinkModalType(this.actionLink))&&(this.actionLinkNewTab=!1)},t.prototype._setAcquisitionOptionsForVSCodeExtension=function(){var n=ri.format(a.GalleryUrls.CodeExtensionGetStartedLink,this.vssDetailedItem.publisherName,this.vssDetailedItem.name);this.isVSCode=!0;this.VSCodeCopyCommandOptions({itemName:this.vssDetailedItem.name,publisherName:this.vssDetailedItem.publisherName,brandingTheme:this.brandingTheme,actionLink:n,actionLinkNewTab:!0})},t.prototype._setAcquisitionOptionsForVSExtension=function(){this.isVSExtension=!0;this.showGalleryItemEditLink=ni.deserializeJsonIsland($(".can-update-extension"),null);this.galleryItemEditLink=it.VSSItemHelper.getGalleryItemUrl(this.vssDetailedItem)+"/edit";this.galleryItemEditLinkDisplayName=v.GalleryItemEditLinkDisplayName;this._isClickButtonVisible()?(this.clickLink="",this.downloadLink=null):this.downloadLink="";this.actionDescriptionHtml=null},t.prototype._setAcquisitionOptionsForVSSExtension=function(n){var i,t;this.actionLink=n;this.trialLink=this._getInstallLink(!0);this.trialLinkNewTab=this._isSamePageLink(this.trialLink);this.vssDetailedItem.isBuiltIn?(this.actionButtonText=v.ItemAlreadyInstalled,this._disableActionButton()):(lt.isOnPremOrHostedConnectedContext()?this.vssDetailedItem.isPublic&&this.vssDetailedItem.itemType!==yt.VSSItemType.VSSHostedExtension&&this.vssDetailedItem.itemType!==yt.VSSItemType.VSSHostedResource||this._disableActionButton(v.ExtensionUnavailableForTFS):lt.isOnPremOrHostedConnectedContext()||this.vssDetailedItem.itemType===yt.VSSItemType.VSSTfsExtension&&this._disableActionButton(v.ExtensionUnavailableForHosted),this.vssDetailedItem.isPreview||this.vssDetailedItem.priceCategory===rt.priceCategory.Free?this.actionButtonText=v.ItemInstall:yt.ItemModelHelper.isFirstPartyPublisher(this.vssDetailedItem.publisherDisplayName)?(this.actionButtonText=v.ItemBuy,this.trialButtonVisible=this._isTrialButtonVisible(),this.freeInstallLink=this._getInstallLink(!0),i=wt.getPageContext().webAccessConfiguration.isHosted||lt.isOnPremHasInternetAccess(),i?this._isInstallForPaidUsersSupported()&&(this.installForPaidUsersSupported=!0):(this.actionButtonText=v.ItemInstall,this.actionLink=this.freeInstallLink)):this._isThirdPartyExtensionAvailableForPurchase()?(this.actionButtonText=v.ItemBuy,this.trialButtonVisible=this._isTrialButtonVisible(),lt.isOnPremOrHostedConnectedContext()?it.VSSItemHelper.isItemPurchasableForOnPrem(this.vssDetailedItem)||this._disableActionButton(v.BuyDisabledForNonAdmins):this.vssDetailedItem.itemType===yt.VSSItemType.VSSTfsExtension&&this._disableActionButton(v.ExtensionUnavailableForHosted)):(this.actionButtonText=v.ItemInstall,wt.getPageContext().webAccessConfiguration.isHosted||this._disableActionButton()));this._testCommerce&&!this.actionButtonDisabled&&(t=ui.Uri.parse(this.actionLink),t.addQueryParam(ct.GalleryURLs.TestCommerceQueryParam,"true"),this.actionLink=t.absoluteUri);this.actionButtonDisabled===!1&&this.actionButtonVisible&&lt.isHostedConnectedContext()&&(this.actionDescriptionHtml=ri.format(v.ConnectedContext_Install_WarningText,"<strong>"+this.actionButtonText+"<\/strong>","<strong>"+lt.getOnPremServerUrlFromInstallPath(n)+"<\/strong>"))},t.prototype._isInstallForPaidUsersSupported=function(){return this.actionButtonVisible&&!this.actionButtonDisabled&&this.vssDetailedItem.itemType!==yt.VSSItemType.VSSHostedResource&&(lt.isPureHosted()||l.isFeatureEnabled(l.getConnectedContext().enabledFeatures,l.OnPremEnabledFeatures.ValidateConnectServer))},t.prototype._isTrialButtonVisible=function(){return lt.isOnPremOrHostedConnectedContext()?this._showTrialForOnPrem():!lt.isOnPremOrHostedConnectedContext()&&this.vssDetailedItem.itemType===yt.VSSItemType.VSSTfsExtension?!1:this.vssDetailedItem.itemType===yt.VSSItemType.VSSHostedResource?!1:!0},t.prototype._isClickButtonVisible=function(){return this.vssDetailedItem.deploymentType===dt.ExtensionDeploymentTechnology.ReferralLink},t.prototype._isActionButtonVisible=function(n){return!n.isBuiltIn&&this.vssDetailedItem.itemType!==yt.VSSItemType.VSCodeExtension},t.prototype._isInstallLinkModalType=function(n){return n&&n.search("#install-pop-up")>=0?!0:!1},t.prototype._isDownloadLinkModalType=function(n){return n&&n.search("#download-pop-up")>=0?!0:!1},t.prototype._isSamePageLink=function(n){return n&&n[0]==="#"},t.prototype._getToLocalStringForPrice=function(n,t){return lt.convertToCurrencyFormat(n,t,"$","en")},t.prototype._getToLocalStringForNumber=function(n){return lt.isLessThanIE11()?n.toString():n.toLocaleString()},t.prototype._disableActionButton=function(n){n===void 0&&(n=v.ActionDisabled);this.actionButtonDisabled=!0;this.actionButtonTitle=n;this.actionLink="#";this.actionLinkNewTab=!1},t.prototype._setCostForOffers=function(){switch(this.vssDetailedItem.name){case"vs-enterprise-annual":this.offersCost=v.VSEnterpriseAnnualCost;this.offersCostText=v.VSEnterpriseNote;break;case"vs-professional-annual":this.offersCost=v.VSProfessionalAnnualCost;this.offersCostText=v.VSProfessionalNote;break;case"vs-enterprise-monthly":this.offersCost=v.VSEnterpriseMonthlyCost;break;case"vs-professional-monthly":this.offersCost=v.VSProfessionalMonthlyCost;break;case"hockeyapp-business-monthly-small":this.offersCost=v.HockeyApp15Apps+" - "+v.HockeyApp15AppsCost;break;case"hockeyapp-business-monthly-medium":this.offersCost=v.HockeyApp45Apps+" - "+v.HockeyApp45AppsCost;break;case"hockeyapp-business-monthly-large":this.offersCost=v.HockeyApp120Apps+" - "+v.HockeyApp120AppsCost;break;case"hockeyapp-business-monthly-xlarge":this.offersCost=v.HockeyApp250Apps+" - "+v.HockeyApp250AppsCost;break;case"hockeyapp-business-monthly-2xlarge":this.offersCost=v.HockeyApp500Apps+" - "+v.HockeyApp500AppsCost;break;case"hockeyapp-free":this.actionButtonText=v.ItemGetStarted;this.actionLink=a.GalleryUrls.HockeyApp_SignIn;break;case"xamarin-university":this.offersCost=v.XamarinUniversityOffersCost;this.offersCostText=v.XamarinUniversityCostSubText}},t.prototype._initializeBreadCrumb=function(){var n=c.BreadCrumbVSSItemHelper.getBreadCrumbOptionsForItem(this.vssDetailedItem);this.breadCrumbViewModel=new c.BreadCrumbViewModel(n)},t.prototype._initalizeItemDetails=function(){this._initializeItemOverView();this._initializeItemPricing();this._initializeItemMedia();this._initializeItemTagsAndCategories();this._initializeItemLinks();this._initializeItemLinksLabels();this._initializeProjectDetails();this._initializeItemAdditionalDetails();this._initializeItemCapabilitiesInfo()},t.prototype._initializeBadges=function(){if(this.vssDetailedItem.badges){var n={item:this.vssDetailedItem};this.itemBadgesViewModel(new g.BadgesViewModel(n))}},t.prototype._initializeProjectDetails=function(){var t=this,n;n=/^(?:https?:\/\/(?:www\.)?|www\.)github\.com\/([a-z0-9-\.]+)\/([a-z0-9-\.]+)/i.exec(this.itemDetailsGitHubLink());n?(n[2]&&n[2].length>=4&&(n[2]=ri.ignoreCaseComparer(n[2].substr(n[2].length-4),".git")===0?n[2].substr(0,n[2].length-4):n[2]),this.itemDetailsGitHubString(ri.format(v.ItemDetailsGitHubString,n[1],n[2])),this.itemDetailsPullRequestLink=ri.format(k.ItemConstants.ITEM_DETAILS_PULL_REQUEST_LINK,n[1],n[2]),this.itemDetailsOpenIssuesLink=ri.format(k.ItemConstants.ITEM_DETAILS_OPEN_ISSUES_LINK,n[1],n[2]),this.itemDetailsLastCommitLink=ri.format(k.ItemConstants.ITEM_DETAILS_LAST_COMMIT_LINK,n[1],n[2]),this._getGitHubRepositoryDetailsPromise=this._gitHubServiceProvider.getGitHubRepositoryDetails(n[1],n[2]),this._getGitHubRepositoryDetailsPromise.then(function(n){t.itemDetailsPullRequestString(ri.format(v.ItemDetailsPullRequestString,n.itemDetailsPullRequestCount?n.itemDetailsPullRequestCount:v.ItemDetailsNo));t.itemDetailsOpenIssuesString(ri.format(v.ItemDetailsOpenIssuesString,n.itemDetailsOpenIssuesCount?n.itemDetailsOpenIssuesCount:v.ItemDetailsNo));t.itemDetailsLastCommitString(ri.format(v.ItemDetailsLastCommitString,ti.ago(new Date(n.itemDetailsLastPushedAtDateString),new Date)))},function(n){t.itemDetailsGitHubLink(null);t._logExternalMetaDataErrorTelemetry(n)})):this.itemDetailsGitHubLink(null);this._initializeBadges()},t.prototype._initializeItemOverView=function(){var n="",i,t,r,u,f;for(n=this.vssDetailedItem.itemDetailsMarkdown==null||this.vssDetailedItem.itemDetailsMarkdown===""?v.ItemOverviewAbsentString:this.vssDetailedItem.itemDetailsMarkdown,i=/(['"])\{CURRENT_EXTENSION_ASSET_BASE_PATH\}([^'"]+)\1/ig,t=i.exec(n);t!==null;)r=t[0],u=t[2],n=n.replace(r,'"'+yt.ItemModelHelper.getItemAssetSourceURL(this._vssGallery,this.vssDetailedItem,u)+'"'),t=i.exec(n);for(i=/(['"])\{DEFAULT_ASSET_BASE_PATH\}([^'"]+)\1/ig,t=i.exec(n);t!==null;)r=t[0],u=t[2],n=n.replace(r,'"'+ct.GalleryURLs.getResourcePath()+u+'"'),t=i.exec(n);f=oi.FeatureAvailabilityService.isFeatureEnabled(ei.WebPlatformFeatureFlags.MarkdownRendering)?this.platformRenderer.renderHtml(n):ut(n,this.markedOptions);this.itemDetailsContent=ii.HtmlNormalizer.normalize(f)},t.prototype._initializeItemPricing=function(){var n=this.vssDetailedItem.priceCategory===rt.priceCategory.Paid;this.showItemPricing(!1);n&&(this.showOfferPlans=this._showOfferPlans(),yt.ItemModelHelper.isFirstPartyPublisher(this.vssDetailedItem.publisherDisplayName)?this._initializeItemPricingForUserBased():(this.planBasedPricing=!0,this._initializeItemPricingForPlanBased()))},t.prototype._initializeItemPricingForUserBased=function(){if(this.vssDetailedItem.itemPricingMarkdown)if(this.itemPricingContent=oi.FeatureAvailabilityService.isFeatureEnabled(ei.WebPlatformFeatureFlags.MarkdownRendering)?ii.HtmlNormalizer.normalize(this.platformRenderer.renderHtml(this.vssDetailedItem.itemPricingMarkdown)):ii.HtmlNormalizer.normalize(ut(this.vssDetailedItem.itemPricingMarkdown,this.markedOptions)),this.showItemPricing(!0),lt.isPackageManagementItem(this.vssDetailedItem))this.startPlanInfoText=lt.isHostedConnectedContext()?v.PackageManagementPricingInfoConnectedContext:v.PackageManagementPricingInfoHosted;else if(this.showOfferPlans&&this.vssDetailedItem.offerMeterPrices&&this.vssDetailedItem.offerMeterPrices.length){var n=this.vssDetailedItem.offerMeterPrices,t=v.StartPriceInfoForUserBased;this.vssDetailedItem.itemType===yt.VSSItemType.VSSHostedResource?(t=n.length===1?v.FixedPricingHeaderTextForResourceBasedItems:v.VariablePricingHeaderTextForResourceItems,this.startPlanInfoText=ri.format(t,this._getToLocalStringForPrice(n[0].price,n[0].currencyCode),this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_HOSTED_RESOURCE_NAME].toLowerCase())):(this.vssDetailedItem.offerDetails&&this.vssDetailedItem.offerDetails.isAccountBased&&(t=v.StartPriceInfoForAccountBased),this.startPlanInfoText=ri.format(t,this._getToLocalStringForPrice(n[0].price,n[0].currencyCode)))}this._HidePriceCalculator()||(this.vssDetailedItem.properties[yt.ItemConstants.PRICING_CALCULATOR_STATUS]&&this.vssDetailedItem.properties[yt.ItemConstants.PRICING_CALCULATOR_STATUS].toLowerCase()==="true"||lt.FeatureFlagUtils.isShowPricingCalculatorForAllUserBased())&&(this.showItemPricing(!0),this.showPriceCalculator(!0),this._initializeItemPriceCalculator(),this.showPriceCalculatorInMarkdown=this._showPriceCalculatorInMarkdown())},t.prototype._HidePriceCalculator=function(){return this.vssDetailedItem.properties[yt.ItemConstants.PRICING_CALCULATOR_STATUS]&&this.vssDetailedItem.properties[yt.ItemConstants.PRICING_CALCULATOR_STATUS].toLowerCase()==="false"},t.prototype._showPriceCalculatorInMarkdown=function(){return this.vssDetailedItem.itemPricingMarkdown&&ri.caseInsensitiveContains(this.vssDetailedItem.itemPricingMarkdown,t.PRICING_PLACEHOLDER)},t.prototype._initializeItemPricingForPlanBased=function(){var n,i,r,t;if(this.showOfferPlans&&this.vssDetailedItem.offerMeterPrices&&this.vssDetailedItem.offerMeterPrices.length){for(n=this.vssDetailedItem.offerMeterPrices,n.sort(function(n,t){return n.price-t.price}),i=[],r=n.length,t=0;t<r;t++)i.push({price:this._getToLocalStringForPrice(n[t].price,n[t].currencyCode),noOfUsers:n[t].quantity});this.itemPricePlanDetails=i;this.startPlanInfoText=ri.format(v.StartPlanInfoText,this.itemPricePlanDetails[0].price);lt.isBuyCustomizationAutoCompleteForAgileCardsEnabled(this.vssDetailedItem)&&(this.teamSizePlansMessage=v.TeamSizePlansMessage);this.showItemPricing(!0)}},t.prototype._showOfferPlans=function(){return wt.getPageContext().webAccessConfiguration.isHosted&&ri.ignoreCaseComparer(this.actionButtonText,v.ItemBuy)===0&&it.VSSItemHelper.isItemOfferPlansSupported(this.vssDetailedItem)},t.prototype._initializeItemMedia=function(){this.screenshotUrls=this.vssDetailedItem.screenshotUrls;this.fallbackScreenshotUrls=this.vssDetailedItem.fallbackScreenshotUrls||this.vssDetailedItem.screenshotUrls},t.prototype._initializeItemTagsAndCategories=function(){var n={metaDataListGroups:[]},t=ct.GalleryURLs.getVssCategoryURL,i,r;this.vssDetailedItem.itemType===yt.VSSItemType.VSCodeExtension&&(t=ct.GalleryURLs.getVSCodeCategoryURL);this.vssDetailedItem.itemType===yt.VSSItemType.VSIdeExtension&&(t=ct.GalleryURLs.getVSCategoryURL);this.vssDetailedItem.categories&&(i=[],$.each(this.vssDetailedItem.categories,function(n,r){i.push({name:yt.ItemModelHelper.manipulateCategory(r),link:t(r),openInNewTab:!1})}),n.metaDataListGroups.push({headerName:v.Categories,metaDataList:i}));this.vssDetailedItem.tags&&(r=[],$.each(this.vssDetailedItem.tags,function(n,t){var i=null;wt.getPageContext().webAccessConfiguration.isHosted&&(i=ct.GalleryURLs.getSearchPageUrlForTagQuery(t));r.push({name:t,link:i,openInNewTab:!1})}),n.metaDataListGroups.push({headerName:v.ItemTags,metaDataList:r}));this.metaDataListViewModel=new et.MetaDataListViewModel(n)},t.prototype._initializeItemLinks=function(){var n,i,r;this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_GITHUB_REPOSITORY_LINK]&&this.itemDetailsGitHubLink(this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_GITHUB_REPOSITORY_LINK]);n=this._initializeItemResourceLinks();this.hasResourceLinks=n;this.showReportAbuseLink=yt.ItemModelHelper.isFirstPartyPublisher(this.vssDetailedItem.publisherDisplayName)&&wt.getPageContext().webAccessConfiguration.isHosted;i=ri.format(t.REPORT_ABUSE_SUBJECT,this.vssDetailedItem.publisherDisplayName,this.vssDetailedItem.title);r=location.href+"\r\n"+v.ItemDetailsReportAbuseContentText;this.reportAbuseLink=encodeURI(ri.format(t.MAIL_TO,t.REPORT_ABUSE_EMAIL,i,r))},t.prototype._initializeItemLinksLabels=function(){this.vssDetailedItem.itemType===yt.VSSItemType.VSCodeExtension?(this.itemDetailsLearnString=v.ItemDetailsLearnVSCode,this.itemDetailsSupportString=v.ItemDetailsSupportVSCode,this.itemGetStartedKey=v.ItemGetStartedVSCode):(this.itemDetailsLearnString=v.ItemDetailsLearn,this.itemDetailsSupportString=v.ItemDetailsSupport,this.itemGetStartedKey=v.ItemGetStarted);(it.VSSItemHelper.isVssExtensionOrResource(this.vssDetailedItem)&&this.vssDetailedItem.priceCategory===rt.priceCategory.Paid||yt.ItemModelHelper.isVSSOffer(this.vssDetailedItem.itemType))&&(this.itemDetailsSupportString=v.ItemDetailsTechnicalSupport)},t.prototype._initializeItemResourceLinks=function(){var n=!1,t;return this.vssDetailedItem.properties&&this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_GET_STARTED_LINK]&&(this.getStartedLink=this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_GET_STARTED_LINK]),this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_LEARN_LINK]&&(this.itemDetailsLearnLink=this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_LEARN_LINK]),this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_SUPPORT_LINK]&&(this.itemDetailsSupportLink=this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_SUPPORT_LINK]),this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_FEEDBACK_LINK]&&(this.itemDetailsFeedbackLink=this.vssDetailedItem.properties[yt.ItemConstants.PROPERTY_FEEDBACK_LINK]),!it.VSSItemHelper.isVssExtensionOrResource(this.vssDetailedItem)||this.vssDetailedItem.priceCategory!==rt.priceCategory.Paid||yt.ItemModelHelper.isThirdPartyPaidExtension(this.vssDetailedItem)&&!(this.vssDetailedItem.offerDetails&&this.vssDetailedItem.offerDetails.hasPublicPlans)||this.vssDetailedItem.isPreview?yt.ItemModelHelper.isVSSOffer(this.vssDetailedItem.itemType)&&(this.itemDetailsBillingSupportLink=a.GalleryUrls.BillingSupportUrlForPaidExtensionLink):this.itemDetailsBillingSupportLink=a.GalleryUrls.BillingSupportUrlForPaidExtensionLink,this.vssDetailedItem.licenseUrl?this.itemDetailsLicenseLink=this.vssDetailedItem.licenseUrl:this.vssDetailedItem.itemType===yt.VSSItemType.VSSOffer&&(this.itemDetailsLicenseLink=a.GalleryUrls.Eula_AzureLicenseUrl),this.vssDetailedItem.changelogUrl&&(this.itemDetailsChangelogLink=this.vssDetailedItem.changelogUrl),this.vssDetailedItem.privacyUrl&&(t=oi.FeatureAvailabilityService.isFeatureEnabled(a.FeatureFlag.PrivacyPage,!1),(t||at.CookieUtils.getCookie("PrivacyPage").toLowerCase()==="true")&&(this.itemDetailsPrivacyLink=this.vssDetailedItem.privacyUrl)),(this.getStartedLink||this.itemDetailsLearnLink||this.itemDetailsSupportLink||this.itemDetailsFeedbackLink||this.itemDetailsLicenseLink||this.itemDetailsChangelogLink||this.itemDetailsPrivacyLink)&&(n=!0),n},t.prototype._initializeItemAdditionalDetails=function(){var r,i,n;if(this.version=this.vssDetailedItem.version,this.itemUpdatedDate=this.vssDetailedItem.updatedDate,this.itemPublishedDate=this.vssDetailedItem.publishedDate,this.itemShareDetails=null,wt.getPageContext().webAccessConfiguration.isHosted){r=this.vssDetailedItem.itemType===yt.VSSItemType.VSSOffer?v.ItemShareOffer:v.ItemShareExtension;i="";n="";this.vssDetailedItem.itemType===yt.VSSItemType.VSCodeExtension?(n=v.VSCode,i=ri.format(v.ItemShareEmailSubject,this.vssDetailedItem.title,n)):this.vssDetailedItem.itemType===yt.VSSItemType.VSIdeExtension?(n=v.VS_IDE,i=ri.format(v.ItemShareEmailSubject,this.vssDetailedItem.title,n)):this.vssDetailedItem.itemType===yt.VSSItemType.VSSOffer?i=ri.format(v.ItemShareEmailSubjectForSubscriptions,this.vssDetailedItem.title):(n=v.VSO_Header,i=ri.format(v.ItemShareEmailSubject,this.vssDetailedItem.title,n));var u=ri.format(v.ItemShareEmailContents,r,location.href),f=encodeURIComponent(ri.format(v.ItemShareTwitterContents,location.href)),e=encodeURIComponent(ri.format(location.href));this.itemShareDetails={imgFacebook:ui.combineUrl(ct.GalleryURLs.getResourcePath(),a.GalleryUrls.ItemShareFacebookIcon),imgTwitter:ui.combineUrl(ct.GalleryURLs.getResourcePath(),a.GalleryUrls.ItemShareTwitterIcon),imgEmail:ui.combineUrl(ct.GalleryURLs.getResourcePath(),a.GalleryUrls.ItemShareEmailIcon),linkFacebook:ri.format(a.GalleryUrls.ItemShareFacebookUrl,e),linkTwitter:ri.format(a.GalleryUrls.ItemShareTwitterUrl,f),linkEmail:ri.format(t.MAIL_TO,"",encodeURI(i),encodeURIComponent(u))}}},t.prototype._initializeItemCapabilitiesInfo=function(){var n,t;if(this.capabilities=[],this.minimumSetCapabilities=[],n=ni.deserializeJsonIsland($(".worksWith"),null),n===null||n.length===0)this.showCapabilitiesInfo=!1;else for(n.length>this.noOfCapabilities&&this.isWorksWithExpanded(!1),t=0;t<n.length;t++)this.capabilities.push({name:n[t]}),t<this.noOfCapabilities&&this.minimumSetCapabilities.push({name:n[t]})},t.prototype.isPublisherVerified=function(n){return(n&dt.PublisherFlags.Verified)!=0},t.prototype.startDownload=function(){if(this.isVSExtension){this._logTelemetryForVSItemType();window.location.href=ct.GalleryURLs.getVSPackageDownloadURL(this.vssDetailedItem.publisherName,this.vssDetailedItem.name,this.vssDetailedItem.version);return}return this.itemDownloadViewModel&&this.itemDownloadViewModel.initiateDownload(),!0},t.prototype.onDownloadDialogClose=function(){if(this.itemDownloadViewModel)return this.itemDownloadViewModel.resetDownload(),!0},t.prototype.onClick=function(n){var t="",i=$(n.target).text();return this.vssDetailedItem.itemType===yt.VSSItemType.VSSIntegration||this.vssDetailedItem.itemType===yt.VSSItemType.VSSHostedIntegration?ri.equals(i,v.ItemGetStarted,!0)?t=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.GET_STARTED_ITEM:ri.equals(i,v.ItemInstall,!0)&&(t=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_INSTALL_ITEM):(this.vssDetailedItem.itemType===yt.VSSItemType.VSSExtension||this.vssDetailedItem.itemType===yt.VSSItemType.VSSHostedExtension||this.vssDetailedItem.itemType===yt.VSSItemType.VSSHostedResource||this.vssDetailedItem.itemType===yt.VSSItemType.VSSOffer)&&(w.TelemetryHelper.setJourneyIdIfNeeded(this.fullyQualifiedItemName),ri.equals(i,v.ItemInstall,!0)?t=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_INSTALL_ITEM_CLICK:ri.equals(i,v.StartTrialText,!0)?t=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_TRIAL_ITEM_CLICK:ri.equals(i,v.ItemBuy,!0)&&(t=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_BUY_ITEM_CLICK)),this._logTelemetryForItemAcquisitionClick(t),!0},t.prototype._logTelemetryForVSItemType=function(){var n="";this.vssDetailedItem.itemType===yt.VSSItemType.VSIdeExtension&&(n=this._isClickButtonVisible()?p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.GET_STARTED_ITEM:p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ITEM_DOWNLOAD,this._logTelemetryForItemAcquisitionClick(n))},t.prototype._logTelemetryForItemAcquisitionClick=function(n){var t={};t[ai.ProductType]=yt.ItemModelHelper.getItemTypeText(this.vssDetailedItem.itemType);t[ai.IsPublic]=this.vssDetailedItem.isPublic;t[ai.Id]=yt.ItemModelHelper.getFullyQualifiedNameForItem(this.vssDetailedItem.publisherName,this.vssDetailedItem.name);t[p.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.Referrer]=document.referrer;n&&n.length>0&&w.TelemetryHelper.publishEvent(n,t,!0)},t.prototype._logExternalMetaDataTelemetry=function(n){var t={};return t[ci.Id]=yt.ItemModelHelper.getFullyQualifiedNameForItem(this.vssDetailedItem.publisherName,this.vssDetailedItem.name),t[ci.LinkType]=n,t[ci.ProductType]=yt.ItemModelHelper.getItemTypeText(this.vssDetailedItem.itemType),w.TelemetryHelper.publishEvent(p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.EXTERNALMETADATA,t),!0},t.prototype._logExternalMetaDataErrorTelemetry=function(n){var t={};t[li.Id]=yt.ItemModelHelper.getFullyQualifiedNameForItem(this.vssDetailedItem.publisherName,this.vssDetailedItem.name);t[li.Error]=n;t[li.ProductType]=yt.ItemModelHelper.getItemTypeText(this.vssDetailedItem.itemType);w.TelemetryHelper.publishEvent(p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.EXTERNALMETADATA_ERRORS,t)},t.prototype._publishTelemetryEventDetailsPageResourceClicked=function(n,t){var r=p.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.DETAILS_PAGE_RESOURCE_CLICK,i={};return i[hi.Id]=yt.ItemModelHelper.getFullyQualifiedNameForItem(this.vssDetailedItem.publisherName,this.vssDetailedItem.name),i[hi.ProductType]=yt.ItemModelHelper.getItemTypeText(this.vssDetailedItem.itemType),i[hi.ResourceUrl]=n,i[hi.ResourceType]=t,r&&r.length>0&&w.TelemetryHelper.publishEvent(r,i,!0),!0},t.prototype.setQnAFeatureFlagValue=function(){var n=oi.FeatureAvailabilityService.isFeatureEnabled(a.FeatureFlag.ShowQnA,!1);return n===!0?n:(at.FeatureFlagUtils.isFeatureFlagEnabled(location.href,at.FeatureFlagUtils.ShowQnA)&&(at.FeatureFlagUtils.setFeatureFlagCookie(at.FeatureFlagUtils.ShowQnA),n=!0),n)},t}(gt.TemplateViewModel);si.PRICING_PLACEHOLDER="ShowPriceCalculator";si.MAIL_TO="mailto:{0}?subject={1}&Body={2}";si.REPORT_ABUSE_SUBJECT="Report abuse - {0} / {1}";si.REPORT_ABUSE_EMAIL="vsmarketplace@microsoft.com";si.TESTMANAGER_EXTENSION_NAME="vss-testmanager-web";si.QUERY_PARAM_DOWNLOAD="download";si.QUERY_PARAM_INSTALL="install";si.EVENT_ON_CLICK_ACTION_BUTTONS_DROPDOWN_ICON="VSS.Gallery.ItemDetails.onClickActionButtonsDropdownIcon";si.EMPTY_GUID="00000000-0000-0000-0000-000000000000";si.DEFAULT_USER_IMAGE="Header/default-user.png";t.VSSItemDetailsViewModel=si});
define("VSS/Controls/Panels",["require","exports","VSS/Ajax","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h){var l=s.domElem,y=h.getErrorMessage,c=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({collapsed:!0,iconCss:"icon",iconCollapseCss:"bowtie-icon bowtie-toggle-tree-collapsed",iconExpandCss:"bowtie-icon bowtie-toggle-tree-expanded"},t))},t.prototype._swapDefaultToggleIconForCustom=function(n){this._$toggleIcon.remove();this._$toggleIcon=n;this._header.addClass(t._defaultToggleIconOverrideClass)},t.prototype._createControl=function(){var t=this,n=this._options;return this._isDisabled=!1,n.hoverCss&&this.getElement().hover(function(){$(this).addClass(n.hoverCss)},function(){$(this).removeClass(n.hoverCss)}),this._header=$(l("div","tfs-collapsible-header")).attr({tabindex:"0",role:"button","aria-expanded":String(this.isExpanded())}),n.headerCss&&this._header.addClass(n.headerCss),this._header.bind("click.CollapsiblePanel",function(){return t.toggleExpandedState()}),this._header.bind("keydown",function(n){if(n.target===n.currentTarget&&(n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE)&&!s.KeyUtils.isModifierKey(n))return t.toggleExpandedState()}),this._header.bind("mouseenter focus",function(n){return n.preventDefault(),t._header.addClass("focus"),!1}),this._header.bind("mouseleave blur",function(n){return n.preventDefault(),t._header.removeClass("focus"),!1}),this._$toggleIcon=$(l("span","tfs-collapsible-collapse")).addClass(n.iconCss).addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),n.collapseCss&&this._$toggleIcon.addClass(n.collapseCss),this._header.append(this._$toggleIcon),this.getElement().append(this._header),this._content=$(l("div","tfs-collapsible-content")),n.contentCss&&this._content.addClass(n.contentCss),n.collapsed&&this._content.hide(),this.getElement().append(this._content),this.getElement()},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._createControl()},t.prototype._enhance=function(n){if(this._options.collapsed=n.hasClass("collapsed"),this._createElement(),this._createControl(),n.after(this.getElement()),this.appendContent(n),this._options.headerText)this.appendHeaderText(this._options.headerText);else if(this._options.headerContent)this.appendHeader(this._options.headerContent),this._options.customToggleIcon&&this._swapDefaultToggleIconForCustom(this._options.customToggleIcon);else{var t=n.attr("title");t&&(n.hasClass("header")&&(n.removeClass("header"),this._header.addClass("header")),this.appendHeader(t))}},t.prototype.replaceHeaderTextIfPresent=function(n){return $("span.tfs-collapsible-text",this._header).text(n)},t.prototype.appendHeaderText=function(n){this._header.attr("title",n);var t=$("<span/>").text(n).addClass("tfs-collapsible-text");return(this._options.headingLevel===undefined||this._options.headingLevel>0)&&t.attr({role:"heading","aria-level":this._options.headingLevel?String(this._options.headingLevel):"2"}),this.appendHeader(t)},t.prototype.appendHeader=function(n){return this._header.append(n),this},t.prototype.appendContent=function(n){var i=this._options,t;return $.isFunction(n)?i.collapsed?(this._dynamicContents||(this._dynamicContents=[]),this._dynamicContents.push(n)):t=n.call(this):t=n,t&&(this._content.append(t),this.getElement().removeClass("collapsed")),this},t.prototype.isExpanded=function(){return this._options.collapsed?!1:!0},t.prototype.expand=function(){this.isExpanded()||this.toggleExpandedState()},t.prototype.collapse=function(){this.isExpanded()&&this.toggleExpandedState()},t.prototype.toggleExpandedState=function(){var i,o,n=this._options,r,u=this._content,f=this._dynamicContents,e;if(this._isDisabled)return!1;if(n.collapsed=!n.collapsed,r=this._$toggleIcon,r.removeClass(n.iconCollapseCss+" "+n.iconExpandCss),r.addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),this._header.attr("aria-expanded",String(!n.collapsed)),n.collapsed)u.hide(),n.expandCss&&this.getElement().removeClass(n.expandCss),this._fire(t.EVENT_CONTENT_COLLAPSED);else{if(f){for(i=0,o=f.length;i<o;i++)e=f[i],$.isFunction(e)&&u.append(e.apply());this._dynamicContents=null}u.show();n.expandCss&&this.getElement().addClass(n.expandCss);this._fire(t.EVENT_CONTENT_EXPANDED)}if(this._options.onToggleCallback&&$.isFunction(this._options.onToggleCallback))this._options.onToggleCallback(this.isExpanded());return!1},t.prototype.setDisabled=function(n){this._isDisabled!=n&&(n?(this._header.addClass("disabled"),this._$toggleIcon.hide(),this._header.removeAttr("tabindex")):(this._header.removeClass("disabled"),this._$toggleIcon.show(),this._header.attr("tabindex","0")),this._isDisabled=n)},t.prototype.isCollapsiblePanelDisabled=function(){return this._isDisabled},t}(r.Control),a,v;c.EVENT_CONTENT_EXPANDED="collapsible-panel-expanded";c.EVENT_CONTENT_COLLAPSED="collapsible-panel-collapsed";c.enhancementTypeName="tfs.collapsiblepanel";c._defaultToggleIconOverrideClass="custom-toggle-icon";t.CollapsiblePanel=c;r.Enhancement.registerJQueryWidget(c,"collapsible");r.Enhancement.registerEnhancement(c,".tfs-collapsible");a=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"ajax-panel",replaceContent:!0,cache:!0},t))},t.prototype.initialize=function(){var t=this._options.url;n.prototype.initialize.call(this);t&&this.beginLoad(t,this._options.urlParams,this._options.success,this._options.error)},t.prototype._dispose=function(){this._cancelPendingLoad();n.prototype._dispose.call(this)},t.prototype.beginLoad=function(n,t,s,h){var l=this,c,a;u.logTracePoint("AjaxPanel.beginLoad.start");this._cancelPendingLoad();c=new o.Cancelable(this);this._cancelable=c;this.getElement().empty();this._options.showStatusIndicator!==!1&&(a=r.BaseControl.createIn(e.StatusIndicator,this.getElement(),{center:!0,imageClass:"big-status-progress",message:f.Loading}),a.start());this._element.attr("aria-busy","true");i.issueRequest(n,{type:"GET",data:t,dataType:"html",traditional:!0,cache:this._options.cache}).then(c.wrap(function(n){l.onLoadCompleted(n);$.isFunction(s)&&s.call(self,n)}),c.wrap(function(n){var t;$.isFunction(h)&&(t=h.call(self,n)===!0);l.onLoadError(n,t)}))},t.prototype.onLoadCompleted=function(n){this.getElement()&&this._options.replaceContent&&(this.getElement().empty(),this.getElement().html(n),r.Enhancement.ensureEnhancements(this.getElement()));this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.onLoadError=function(n,t){t||this.showError(n);this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.showError=function(n){this.getElement().empty();$(l("div","error")).appendTo(this.getElement()).text(y(n))},t.prototype._cancelPendingLoad=function(){this._cancelable&&(this._cancelable.cancel(),this._cancelable=null)},t}(r.Control);a.enhancementTypeName="tfs.ajaxPanel";t.AjaxPanelO=a;v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(a);t.AjaxPanel=v});
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/core",["jquery"],n):n(jQuery)})(function(n){function t(t,r){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap='#"+f+"']")[0],!!e&&i(e)):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||r:r)&&i(t)}function i(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u=i==="absolute",f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&t.css("position")==="static"?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return i==="fixed"||!r.length?n(this[0].ownerDocument||document):r},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(i){return t(i,!isNaN(n.attr(i,"tabindex")))},tabbable:function(i){var r=n.attr(i,"tabindex"),u=isNaN(r);return(u||r>=0)&&t(i,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function f(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e=i==="Width"?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),u={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return t===undefined?u["inner"+i].call(this):this.each(function(){n(this).css(r,f(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return typeof t!="number"?u["outer"+i].call(this,t):this.each(function(){n(this).css(r,f(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var i=n(this[0]),r,u;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&u!==0))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}}});
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/widget",["jquery"],n):n(jQuery)})(function(n){var i=0,t=Array.prototype.slice;return n.cleanData=function(t){return function(i){for(var r,u,f=0;(u=i[f])!=null;f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData),n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u},n.widget.extend=function(i){for(var e=t.call(arguments,1),f=0,o=e.length,r,u;f<o;f++)for(r in e[f])u=e[f][r],e[f].hasOwnProperty(r)&&u!==undefined&&(i[r]=n.isPlainObject(u)?n.isPlainObject(i[r])?n.widget.extend({},i[r],u):n.widget.extend({},u):u);return i},n.widget.bridge=function(i,r){var u=r.prototype.widgetFullName||i;n.fn[i]=function(f){var s=typeof f=="string",o=t.call(arguments,1),e=this;return s?this.each(function(){var t,r=n.data(this,u);return f==="instance"?(e=r,!1):r?!n.isFunction(r[f])||f.charAt(0)==="_"?n.error("no such method '"+f+"' for "+i+" widget instance"):(t=r[f].apply(r,o),t!==r&&t!==undefined?(e=t&&t.jquery?e.pushStack(t.get()):t,!1):void 0):n.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+f+"'")}):(o.length&&(f=n.widget.extend.apply(null,[f].concat(o))),this.each(function(){var t=n.data(this,u);t?(t.option(f||{}),t._init&&t._init()):n.data(this,u,new r(f,this))})),e}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=n(r||this.defaultElement||this)[0];this.element=n(r);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();r!==this&&(n.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===r&&this.destroy()}}),this.document=n(r.style?r.ownerDocument:r.document||r),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var e=t,r,u,f;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof t=="string")if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;f<r.length-1;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),arguments.length===1)return u[t]===undefined?null:u[t];u[t]=i}else{if(arguments.length===1)return this.options[t]===undefined?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}}),n.widget});
/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/button",["jquery", "./core", "./widget"], n) : n(jQuery) })(function (n) { var t, i = "ui-button ui-widget ui-state-default ui-corner-all", r = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", f = function () { var t = n(this); setTimeout(function () { t.find(":ui-button").button("refresh") }, 1) }, u = function (t) { var i = t.name, r = t.form, u = n([]); return i && (i = i.replace(/'/g, "\\'"), u = r ? n(r).find("[name='" + i + "'][type=radio]") : n("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function () { return !this.form })), u }; return n.widget("ui.button", { version: "1.11.4", defaultElement: "<button>", options: { disabled: null, text: !0, label: null, icons: { primary: null, secondary: null } }, _create: function () { this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, f); typeof this.options.disabled != "boolean" ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled); this._determineButtonType(); this.hasTitle = !!this.buttonElement.attr("title"); var e = this, r = this.options, o = this.type === "checkbox" || this.type === "radio", s = o ? "" : "ui-state-active"; r.label === null && (r.label = this.type === "input" ? this.buttonElement.val() : this.buttonElement.html()); this._hoverable(this.buttonElement); this.buttonElement.addClass(i).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () { r.disabled || this === t && n(this).addClass("ui-state-active") }).bind("mouseleave" + this.eventNamespace, function () { r.disabled || n(this).removeClass(s) }).bind("click" + this.eventNamespace, function (n) { r.disabled && (n.preventDefault(), n.stopImmediatePropagation()) }); this._on({ focus: function () { this.buttonElement.addClass("ui-state-focus") }, blur: function () { this.buttonElement.removeClass("ui-state-focus") } }); o && this.element.bind("change" + this.eventNamespace, function () { e.refresh() }); this.type === "checkbox" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1 }) : this.type === "radio" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); e.buttonElement.attr("aria-pressed", "true"); var t = e.element[0]; u(t).not(t).map(function () { return n(this).button("widget")[0] }).removeClass("ui-state-active").attr("aria-pressed", "false") }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); t = this; e.document.one("mouseup", function () { t = null }) }).bind("mouseup" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).removeClass("ui-state-active") }).bind("keydown" + this.eventNamespace, function (t) { if (r.disabled) return !1; (t.keyCode === n.ui.keyCode.SPACE || t.keyCode === n.ui.keyCode.ENTER) && n(this).addClass("ui-state-active") }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () { n(this).removeClass("ui-state-active") }), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) { t.keyCode === n.ui.keyCode.SPACE && n(this).click() })); this._setOption("disabled", r.disabled); this._resetButton() }, _determineButtonType: function () { var n, t, i; this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button"; this.type === "checkbox" || this.type === "radio" ? (n = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = n.find(t), this.buttonElement.length || (n = n.length ? n.siblings() : this.element.siblings(), this.buttonElement = n.filter(t), this.buttonElement.length || (this.buttonElement = n.find(t))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element }, widget: function () { return this.buttonElement }, _destroy: function () { this.element.removeClass("ui-helper-hidden-accessible"); this.buttonElement.removeClass(i + " ui-state-active " + r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()); this.hasTitle || this.buttonElement.removeAttr("title") }, _setOption: function (n, t) { if (this._super(n, t), n === "disabled") { this.widget().toggleClass("ui-state-disabled", !!t); this.element.prop("disabled", !!t); t && (this.type === "checkbox" || this.type === "radio" ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")); return } this._resetButton() }, refresh: function () { var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled"); t !== this.options.disabled && this._setOption("disabled", t); this.type === "radio" ? u(this.element[0]).each(function () { n(this).is(":checked") ? n(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false") }) : this.type === "checkbox" && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false")) }, _resetButton: function () { if (this.type === "input") { this.options.label && this.element.val(this.options.label); return } var i = this.buttonElement.removeClass(r), e = n("<span><\/span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(), t = this.options.icons, f = t.primary && t.secondary, u = []; t.primary || t.secondary ? (this.options.text && u.push("ui-button-text-icon" + (f ? "s" : t.primary ? "-primary" : "-secondary")), t.primary && i.prepend("<span class='ui-button-icon-primary ui-icon " + t.primary + "'><\/span>"), t.secondary && i.append("<span class='ui-button-icon-secondary ui-icon " + t.secondary + "'><\/span>"), this.options.text || (u.push(f ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || i.attr("title", n.trim(e)))) : u.push("ui-button-text-only"); i.addClass(u.join(" ")) } }), n.widget("ui.buttonset", { version: "1.11.4", options: { items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)" }, _create: function () { this.element.addClass("ui-buttonset") }, _init: function () { this.refresh() }, _setOption: function (n, t) { n === "disabled" && this.buttons.button("option", n, t); this._super(n, t) }, refresh: function () { var i = this.element.css("direction") === "rtl", t = this.element.find(this.options.items), r = t.filter(":ui-button"); t.not(":ui-button").button(); r.button("refresh"); this.buttons = t.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(i ? "ui-corner-left" : "ui-corner-right").end().end() }, _destroy: function () { this.element.removeClass("ui-buttonset"); this.buttons.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-left ui-corner-right").end().button("destroy") } }), n.ui.button });
/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/draggable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.draggable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function () { this.options.helper === "original" && this._setPositionRelative(); this.options.addClasses && this.element.addClass("ui-draggable"); this.options.disabled && this.element.addClass("ui-draggable-disabled"); this._setHandleClassName(); this._mouseInit() }, _setOption: function (n, t) { this._super(n, t); n === "handle" && (this._removeHandleClassName(), this._setHandleClassName()) }, _destroy: function () { if ((this.helper || this.element).is(".ui-draggable-dragging")) { this.destroyOnClear = !0; return } this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"); this._removeHandleClassName(); this._mouseDestroy() }, _mouseCapture: function (t) { var i = this.options; return (this._blurActiveElement(t), this.helper || i.disabled || n(t.target).closest(".ui-resizable-handle").length > 0) ? !1 : (this.handle = this._getHandle(t), !this.handle) ? !1 : (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix), !0) }, _blockFrames: function (t) { this.iframeBlocks = this.document.find(t).map(function () { var t = n(this); return n("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _blurActiveElement: function (t) { var i = this.document[0]; if (this.handleElement.is(t.target)) try { i.activeElement && i.activeElement.nodeName.toLowerCase() !== "body" && n(i.activeElement).blur() } catch (r) { } }, _mouseStart: function (t) { var i = this.options; return (this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), n.ui.ddmanager && (n.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () { return n(this).css("position") === "fixed" }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(t), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", t) === !1) ? (this._clear(), !1) : (this._cacheHelperProportions(), n.ui.ddmanager && !i.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t), this._normalizeRightBottom(), this._mouseDrag(t, !0), n.ui.ddmanager && n.ui.ddmanager.dragStart(this, t), !0) }, _refreshOffsets: function (n) { this.offset = { top: this.positionAbs.top - this.margins.top, left: this.positionAbs.left - this.margins.left, scroll: !1, parent: this._getParentOffset(), relative: this._getRelativeOffset() }; this.offset.click = { left: n.pageX - this.offset.left, top: n.pageY - this.offset.top } }, _mouseDrag: function (t, i) { if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) { var r = this._uiHash(); if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1; this.position = r.position } return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", n.ui.ddmanager && n.ui.ddmanager.drag(this, t), !1 }, _mouseStop: function (t) { var r = this, i = !1; return n.ui.ddmanager && !this.options.dropBehaviour && (i = n.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), this.options.revert === "invalid" && !i || this.options.revert === "valid" && i || this.options.revert === !0 || n.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? n(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { r._trigger("stop", t) !== !1 && r._clear() }) : this._trigger("stop", t) !== !1 && this._clear(), !1 }, _mouseUp: function (t) { return this._unblockFrames(), n.ui.ddmanager && n.ui.ddmanager.dragStop(this, t), this.handleElement.is(t.target) && this.element.focus(), n.ui.mouse.prototype._mouseUp.call(this, t) }, cancel: function () { return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this }, _getHandle: function (t) { return this.options.handle ? !!n(t.target).closest(this.element.find(this.options.handle)).length : !0 }, _setHandleClassName: function () { this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element; this.handleElement.addClass("ui-draggable-handle") }, _removeHandleClassName: function () { this.handleElement.removeClass("ui-draggable-handle") }, _createHelper: function (t) { var r = this.options, u = n.isFunction(r.helper), i = u ? n(r.helper.apply(this.element[0], [t])) : r.helper === "clone" ? this.element.clone().removeAttr("id") : this.element; return i.parents("body").length || i.appendTo(r.appendTo === "parent" ? this.element[0].parentNode : r.appendTo), u && i[0] === this.element[0] && this._setPositionRelative(), i[0] === this.element[0] || /(fixed|absolute)/.test(i.css("position")) || i.css("position", "absolute"), i }, _setPositionRelative: function () { /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative") }, _adjustOffsetFromHelper: function (t) { typeof t == "string" && (t = t.split(" ")); n.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }); "left" in t && (this.offset.click.left = t.left + this.margins.left); "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left); "top" in t && (this.offset.click.top = t.top + this.margins.top); "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top) }, _isRootNode: function (n) { return /(html|body)/i.test(n.tagName) || n === this.document[0] }, _getParentOffset: function () { var t = this.offsetParent.offset(), i = this.document[0]; return this.cssPosition === "absolute" && this.scrollParent[0] !== i && n.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = { top: 0, left: 0 }), { top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if (this.cssPosition !== "relative") return { top: 0, left: 0 }; var n = this.element.position(), t = this._isRootNode(this.scrollParent[0]); return { top: n.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()), left: n.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft()) } }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () { var f, t, i, r = this.options, u = this.document[0]; if (this.relativeContainer = null, !r.containment) { this.containment = null; return } if (r.containment === "window") { this.containment = [n(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, n(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, n(window).scrollLeft() + n(window).width() - this.helperProportions.width - this.margins.left, n(window).scrollTop() + (n(window).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment === "document") { this.containment = [0, 0, n(u).width() - this.helperProportions.width - this.margins.left, (n(u).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment.constructor === Array) { this.containment = r.containment; return } (r.containment === "parent" && (r.containment = this.helper[0].parentNode), t = n(r.containment), i = t[0], i) && (f = /(scroll|auto)/.test(t.css("overflow")), this.containment = [(parseInt(t.css("borderLeftWidth"), 10) || 0) + (parseInt(t.css("paddingLeft"), 10) || 0), (parseInt(t.css("borderTopWidth"), 10) || 0) + (parseInt(t.css("paddingTop"), 10) || 0), (f ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(t.css("borderRightWidth"), 10) || 0) - (parseInt(t.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (f ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(t.css("borderBottomWidth"), 10) || 0) - (parseInt(t.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = t) }, _convertPositionTo: function (n, t) { t || (t = this.position); var i = n === "absolute" ? 1 : -1, r = this._isRootNode(this.scrollParent[0]); return { top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - (this.cssPosition === "fixed" ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top) * i, left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - (this.cssPosition === "fixed" ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) * i } }, _generatePosition: function (n, t) { var i, s, u, f, r = this.options, h = this._isRootNode(this.scrollParent[0]), e = n.pageX, o = n.pageY; return h && this.offset.scroll || (this.offset.scroll = { top: this.scrollParent.scrollTop(), left: this.scrollParent.scrollLeft() }), t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, n.pageX - this.offset.click.left < i[0] && (e = i[0] + this.offset.click.left), n.pageY - this.offset.click.top < i[1] && (o = i[1] + this.offset.click.top), n.pageX - this.offset.click.left > i[2] && (e = i[2] + this.offset.click.left), n.pageY - this.offset.click.top > i[3] && (o = i[3] + this.offset.click.top)), r.grid && (u = r.grid[1] ? this.originalPageY + Math.round((o - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY, o = i ? u - this.offset.click.top >= i[1] || u - this.offset.click.top > i[3] ? u : u - this.offset.click.top >= i[1] ? u - r.grid[1] : u + r.grid[1] : u, f = r.grid[0] ? this.originalPageX + Math.round((e - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX, e = i ? f - this.offset.click.left >= i[0] || f - this.offset.click.left > i[2] ? f : f - this.offset.click.left >= i[0] ? f - r.grid[0] : f + r.grid[0] : f), r.axis === "y" && (e = this.originalPageX), r.axis === "x" && (o = this.originalPageY)), { top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top), left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left) } }, _clear: function () { this.helper.removeClass("ui-draggable-dragging"); this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(); this.helper = null; this.cancelHelperRemoval = !1; this.destroyOnClear && this.destroy() }, _normalizeRightBottom: function () { this.options.axis !== "y" && this.helper.css("right") !== "auto" && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")); this.options.axis !== "x" && this.helper.css("bottom") !== "auto" && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto")) }, _trigger: function (t, i, r) { return r = r || this._uiHash(), n.ui.plugin.call(this, t, [i, r, this], !0), /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"), r.offset = this.positionAbs), n.Widget.prototype._trigger.call(this, t, i, r) }, plugins: {}, _uiHash: function () { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs } } }), n.ui.plugin.add("draggable", "connectToSortable", { start: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.sortables = []; n(r.options.connectToSortable).each(function () { var i = n(this).sortable("instance"); i && !i.options.disabled && (r.sortables.push(i), i.refreshPositions(), i._trigger("activate", t, u)) }) }, stop: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.cancelHelperRemoval = !1; n.each(r.sortables, function () { var n = this; n.isOver ? (n.isOver = 0, r.cancelHelperRemoval = !0, n.cancelHelperRemoval = !1, n._storedCSS = { position: n.placeholder.css("position"), top: n.placeholder.css("top"), left: n.placeholder.css("left") }, n._mouseStop(t), n.options.helper = n.options._helper) : (n.cancelHelperRemoval = !0, n._trigger("deactivate", t, u)) }) }, drag: function (t, i, r) { n.each(r.sortables, function () { var f = !1, u = this; u.positionAbs = r.positionAbs; u.helperProportions = r.helperProportions; u.offset.click = r.offset.click; u._intersectsWith(u.containerCache) && (f = !0, n.each(r.sortables, function () { return this.positionAbs = r.positionAbs, this.helperProportions = r.helperProportions, this.offset.click = r.offset.click, this !== u && this._intersectsWith(this.containerCache) && n.contains(u.element[0], this.element[0]) && (f = !1), f })); f ? (u.isOver || (u.isOver = 1, r._parent = i.helper.parent(), u.currentItem = i.helper.appendTo(u.element).data("ui-sortable-item", !0), u.options._helper = u.options.helper, u.options.helper = function () { return i.helper[0] }, t.target = u.currentItem[0], u._mouseCapture(t, !0), u._mouseStart(t, !0, !0), u.offset.click.top = r.offset.click.top, u.offset.click.left = r.offset.click.left, u.offset.parent.left -= r.offset.parent.left - u.offset.parent.left, u.offset.parent.top -= r.offset.parent.top - u.offset.parent.top, r._trigger("toSortable", t), r.dropped = u.element, n.each(r.sortables, function () { this.refreshPositions() }), r.currentItem = r.element, u.fromOutside = r), u.currentItem && (u._mouseDrag(t), i.position = u.position)) : u.isOver && (u.isOver = 0, u.cancelHelperRemoval = !0, u.options._revert = u.options.revert, u.options.revert = !1, u._trigger("out", t, u._uiHash(u)), u._mouseStop(t, !0), u.options.revert = u.options._revert, u.options.helper = u.options._helper, u.placeholder && u.placeholder.remove(), i.helper.appendTo(r._parent), r._refreshOffsets(t), i.position = r._generatePosition(t, !0), r._trigger("fromSortable", t), r.dropped = !1, n.each(r.sortables, function () { this.refreshPositions() })) }) } }), n.ui.plugin.add("draggable", "cursor", { start: function (t, i, r) { var u = n("body"), f = r.options; u.css("cursor") && (f._cursor = u.css("cursor")); u.css("cursor", f.cursor) }, stop: function (t, i, r) { var u = r.options; u._cursor && n("body").css("cursor", u._cursor) } }), n.ui.plugin.add("draggable", "opacity", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("opacity") && (f._opacity = u.css("opacity")); u.css("opacity", f.opacity) }, stop: function (t, i, r) { var u = r.options; u._opacity && n(i.helper).css("opacity", u._opacity) } }), n.ui.plugin.add("draggable", "scroll", { start: function (n, t, i) { i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)); i.scrollParentNotHidden[0] !== i.document[0] && i.scrollParentNotHidden[0].tagName !== "HTML" && (i.overflowOffset = i.scrollParentNotHidden.offset()) }, drag: function (t, i, r) { var u = r.options, o = !1, e = r.scrollParentNotHidden[0], f = r.document[0]; e !== f && e.tagName !== "HTML" ? (u.axis && u.axis === "x" || (r.overflowOffset.top + e.offsetHeight - t.pageY < u.scrollSensitivity ? e.scrollTop = o = e.scrollTop + u.scrollSpeed : t.pageY - r.overflowOffset.top < u.scrollSensitivity && (e.scrollTop = o = e.scrollTop - u.scrollSpeed)), u.axis && u.axis === "y" || (r.overflowOffset.left + e.offsetWidth - t.pageX < u.scrollSensitivity ? e.scrollLeft = o = e.scrollLeft + u.scrollSpeed : t.pageX - r.overflowOffset.left < u.scrollSensitivity && (e.scrollLeft = o = e.scrollLeft - u.scrollSpeed))) : (u.axis && u.axis === "x" || (t.pageY - n(f).scrollTop() < u.scrollSensitivity ? o = n(f).scrollTop(n(f).scrollTop() - u.scrollSpeed) : n(window).height() - (t.pageY - n(f).scrollTop()) < u.scrollSensitivity && (o = n(f).scrollTop(n(f).scrollTop() + u.scrollSpeed))), u.axis && u.axis === "y" || (t.pageX - n(f).scrollLeft() < u.scrollSensitivity ? o = n(f).scrollLeft(n(f).scrollLeft() - u.scrollSpeed) : n(window).width() - (t.pageX - n(f).scrollLeft()) < u.scrollSensitivity && (o = n(f).scrollLeft(n(f).scrollLeft() + u.scrollSpeed)))); o !== !1 && n.ui.ddmanager && !u.dropBehaviour && n.ui.ddmanager.prepareOffsets(r, t) } }), n.ui.plugin.add("draggable", "snap", { start: function (t, i, r) { var u = r.options; r.snapElements = []; n(u.snap.constructor !== String ? u.snap.items || ":data(ui-draggable)" : u.snap).each(function () { var t = n(this), i = t.offset(); this !== r.element[0] && r.snapElements.push({ item: this, width: t.outerWidth(), height: t.outerHeight(), top: i.top, left: i.left }) }) }, drag: function (t, i, r) { for (var e, o, s, h, c, a, l, v, w, b = r.options, f = b.snapTolerance, y = i.offset.left, k = y + r.helperProportions.width, p = i.offset.top, d = p + r.helperProportions.height, u = r.snapElements.length - 1; u >= 0; u--) { if (c = r.snapElements[u].left - r.margins.left, a = c + r.snapElements[u].width, l = r.snapElements[u].top - r.margins.top, v = l + r.snapElements[u].height, k < c - f || y > a + f || d < l - f || p > v + f || !n.contains(r.snapElements[u].item.ownerDocument, r.snapElements[u].item)) { r.snapElements[u].snapping && r.options.snap.release && r.options.snap.release.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = !1; continue } b.snapMode !== "inner" && (e = Math.abs(l - d) <= f, o = Math.abs(v - p) <= f, s = Math.abs(c - k) <= f, h = Math.abs(a - y) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l - r.helperProportions.height, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c - r.helperProportions.width }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a }).left)); w = e || o || s || h; b.snapMode !== "outer" && (e = Math.abs(l - p) <= f, o = Math.abs(v - d) <= f, s = Math.abs(c - y) <= f, h = Math.abs(a - k) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v - r.helperProportions.height, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a - r.helperProportions.width }).left)); !r.snapElements[u].snapping && (e || o || s || h || w) && r.options.snap.snap && r.options.snap.snap.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = e || o || s || h || w } } }), n.ui.plugin.add("draggable", "stack", { start: function (t, i, r) { var f, e = r.options, u = n.makeArray(n(e.stack)).sort(function (t, i) { return (parseInt(n(t).css("zIndex"), 10) || 0) - (parseInt(n(i).css("zIndex"), 10) || 0) }); u.length && (f = parseInt(n(u[0]).css("zIndex"), 10) || 0, n(u).each(function (t) { n(this).css("zIndex", f + t) }), this.css("zIndex", f + u.length)) } }), n.ui.plugin.add("draggable", "zIndex", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("zIndex") && (f._zIndex = u.css("zIndex")); u.css("zIndex", f.zIndex) }, stop: function (t, i, r) { var u = r.options; u._zIndex && n(i.helper).css("zIndex", u._zIndex) } }), n.ui.draggable });
/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/mouse",["jquery", "./widget"], n) : n(jQuery) })(function (n) { var t = !1; return n(document).mouseup(function () { t = !1 }), n.widget("ui.mouse", { version: "1.11.4", options: { cancel: "input,textarea,button,select,option", distance: 1, delay: 0 }, _mouseInit: function () { var t = this; this.element.bind("mousedown." + this.widgetName, function (n) { return t._mouseDown(n) }).bind("click." + this.widgetName, function (i) { if (!0 === n.data(i.target, t.widgetName + ".preventClickEvent")) return n.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1 }); this.started = !1 }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName); this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (i) { if (!t) { this._mouseMoved = !1; this._mouseStarted && this._mouseUp(i); this._mouseDownEvent = i; var r = this, u = i.which === 1, f = typeof this.options.cancel == "string" && i.target.nodeName ? n(i.target).closest(this.options.cancel).length : !1; return !u || f || !this._mouseCapture(i) ? !0 : (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { r.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted)) ? (i.preventDefault(), !0) : (!0 === n.data(i.target, this.widgetName + ".preventClickEvent") && n.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (n) { return r._mouseMove(n) }, this._mouseUpDelegate = function (n) { return r._mouseUp(n) }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), t = !0, !0) } }, _mouseMove: function (t) { return this._mouseMoved && (n.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button || !t.which) ? this._mouseUp(t) : ((t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted) ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) }, _mouseUp: function (i) { return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, i.target === this._mouseDownEvent.target && n.data(i.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(i)), t = !1, !1 }, _mouseDistanceMet: function (n) { return Math.max(Math.abs(this._mouseDownEvent.pageX - n.pageX), Math.abs(this._mouseDownEvent.pageY - n.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }) });
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/position",["jquery"],n):n(jQuery)})(function(n){return function(){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,f,i=Math.max,t=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(u!==undefined)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||u?i.width():i.outerWidth(),height:r||u?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return v.apply(this,arguments);u=n.extend({},u);var k,l,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=y(nt),nt[0].preventDefault&&(u.at="left top"),l=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var n=(u[this]||"").split(" "),t,i;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";t=h.exec(n[0]);i=h.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),u.at[0]==="right"?w.left+=l:u.at[0]==="center"&&(w.left+=l/2),u.at[1]==="bottom"?w.top+=p:u.at[1]==="center"&&(w.top+=p/2),k=a(tt.at,l,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,s=n(this),h=s.outerWidth(),c=s.outerHeight(),ut=r(this,"marginLeft"),ft=r(this,"marginTop"),et=h+ut+r(this,"marginRight")+rt.width,ot=c+ft+r(this,"marginBottom")+rt.height,o=n.extend({},w),v=a(tt.my,s.outerWidth(),s.outerHeight());u.my[0]==="right"?o.left-=h:u.my[0]==="center"&&(o.left-=h/2);u.my[1]==="bottom"?o.top-=c:u.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];f||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](o,{targetWidth:l,targetHeight:p,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:s})});u.using&&(g=function(n){var r=b.left-o.left,a=r+l-h,f=b.top-o.top,v=f+p-c,e={target:{element:nt,left:b.left,top:b.top,width:l,height:p},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:a<0?"left":r>0?"right":"center",vertical:v<0?"top":f>0?"bottom":"middle"};l<h&&t(r+a)<l&&(e.horizontal="center");p<c&&t(f+v)<p&&(e.vertical="middle");e.important=i(t(r),t(a))>i(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});s.offset(n.extend(o,{using:g}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,r=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?r>0&&f<=0?(h=n.left+r+t.collisionWidth-o-u,n.left+=r-h):n.left=f>0&&r<=0?u:r>f?u+o-t.collisionWidth:u:r>0?n.left+=r:f>0?n.left-=f:n.left=i(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,r=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?r>0&&f<=0?(h=n.top+r+t.collisionHeight-e-u,n.top+=r-h):n.top=f>0&&r<=0?u:r>f?u+e-t.collisionHeight:u:r>0?n.top+=r:f>0?n.top-=f:n.top=i(n.top-s,n.top)}},flip:{left:function(n,i){var r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-o,v=l+i.collisionWidth-c-o,u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,e=-2*i.offset[0],s,h;a<0?(s=n.left+u+f+e+i.collisionWidth-c-y,(s<0||s<t(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-i.collisionPosition.marginLeft+u+f+e-o,(h>0||t(h)<v)&&(n.left+=u+f+e))},top:function(n,i){var r=i.within,y=r.offset.top+r.scrollTop,c=r.height,o=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-o,v=l+i.collisionHeight-c-o,p=i.my[1]==="top",u=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,e=-2*i.offset[1],s,h;a<0?(h=n.top+u+f+e+i.collisionHeight-c-y,(h<0||h<t(a))&&(n.top+=u+f+e)):v>0&&(s=n.top-i.collisionPosition.marginTop+u+f+e-o,(s>0||t(s)<v)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,e,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in r)t.style[e]=r[e];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;f=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()}(),n.ui.position});
/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/resizable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.resizable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "resize", options: { alsoResize: !1, animate: !1, animateDuration: "slow", animateEasing: "swing", aspectRatio: !1, autoHide: !1, containment: !1, ghost: !1, grid: !1, handles: "e,s,se", helper: !1, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 90, resize: null, start: null, stop: null }, _num: function (n) { return parseInt(n, 10) || 0 }, _isNumber: function (n) { return !isNaN(parseInt(n, 10)) }, _hasScroll: function (t, i) { if (n(t).css("overflow") === "hidden") return !1; var r = i && i === "left" ? "scrollLeft" : "scrollTop", u = !1; return t[r] > 0 ? !0 : (t[r] = 1, u = t[r] > 0, t[r] = 0, u) }, _create: function () { var e, f, u, i, o, r = this, t = this.options; if (this.element.addClass("ui-resizable"), n.extend(this, { _aspectRatio: !!t.aspectRatio, aspectRatio: t.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: t.helper || t.ghost || t.animate ? t.helper || "ui-resizable-helper" : null }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }), this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })), this.originalElement.css({ margin: this.originalElement.css("margin") }), this._proportionallyResize()), this.handles = t.handles || (n(".ui-resizable-handle", this.element).length ? { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" } : "e,s,se"), this._handles = n(), this.handles.constructor === String) for (this.handles === "all" && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, f = 0; f < e.length; f++) u = n.trim(e[f]), o = "ui-resizable-" + u, i = n("<div class='ui-resizable-handle " + o + "'><\/div>"), i.css({ zIndex: t.zIndex }), "se" === u && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[u] = ".ui-resizable-" + u, this.element.append(i); this._renderAxis = function (t) { var i, u, f, e; t = t || this.element; for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = n(this.handles[i]), this._on(this.handles[i], { mousedown: r._mouseDown })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (u = n(this.handles[i], this.element), e = /sw|ne|nw|se|n|s/.test(i) ? u.outerHeight() : u.outerWidth(), f = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), t.css(f, e), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i]) }; this._renderAxis(this.element); this._handles = this._handles.add(this.element.find(".ui-resizable-handle")); this._handles.disableSelection(); this._handles.mouseover(function () { r.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), r.axis = i && i[1] ? i[1] : "se") }); t.autoHide && (this._handles.hide(), n(this.element).addClass("ui-resizable-autohide").mouseenter(function () { t.disabled || (n(this).removeClass("ui-resizable-autohide"), r._handles.show()) }).mouseleave(function () { t.disabled || r.resizing || (n(this).addClass("ui-resizable-autohide"), r._handles.hide()) })); this._mouseInit() }, _destroy: function () { this._mouseDestroy(); var t, i = function (t) { n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove() }; return this.elementIsWrapper && (i(this.element), t = this.element, this.originalElement.css({ position: t.css("position"), width: t.outerWidth(), height: t.outerHeight(), top: t.css("top"), left: t.css("left") }).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this }, _mouseCapture: function (t) { var r, i, u = !1; for (r in this.handles) i = n(this.handles[r])[0], (i === t.target || n.contains(i, t.target)) && (u = !0); return !this.options.disabled && u }, _mouseStart: function (t) { var u, f, e, r = this.options, i = this.element; return this.resizing = !0, this._renderProxy(), u = this._num(this.helper.css("left")), f = this._num(this.helper.css("top")), r.containment && (u += n(r.containment).scrollLeft() || 0, f += n(r.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = { left: u, top: f }, this.size = this._helper ? { width: this.helper.width(), height: this.helper.height() } : { width: i.width(), height: i.height() }, this.originalSize = this._helper ? { width: i.outerWidth(), height: i.outerHeight() } : { width: i.width(), height: i.height() }, this.sizeDiff = { width: i.outerWidth() - i.width(), height: i.outerHeight() - i.height() }, this.originalPosition = { left: u, top: f }, this.originalMousePosition = { left: t.pageX, top: t.pageY }, this.aspectRatio = typeof r.aspectRatio == "number" ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1, e = n(".ui-resizable-" + this.axis).css("cursor"), n("body").css("cursor", e === "auto" ? this.axis + "-resize" : e), i.addClass("ui-resizable-resizing"), this._propagate("start", t), !0 }, _mouseDrag: function (t) { var i, r, u = this.originalMousePosition, e = this.axis, o = t.pageX - u.left || 0, s = t.pageY - u.top || 0, f = this._change[e]; return (this._updatePrevProperties(), !f) ? !1 : (i = f.apply(this, [t, o, s]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)), i = this._respectSize(i, t), this._updateCache(i), this._propagate("resize", t), r = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), n.isEmptyObject(r) || (this._updatePrevProperties(), this._trigger("resize", t, this.ui()), this._applyChanges()), !1) }, _mouseStop: function (t) { this.resizing = !1; var r, u, f, e, o, s, h, c = this.options, i = this; return this._helper && (r = this._proportionallyResizeElements, u = r.length && /textarea/i.test(r[0].nodeName), f = u && this._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, e = u ? 0 : i.sizeDiff.width, o = { width: i.helper.width() - e, height: i.helper.height() - f }, s = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, h = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null, c.animate || this.element.css(n.extend(o, { top: h, left: s })), i.helper.height(i.size.height), i.helper.width(i.size.width), this._helper && !c.animate && this._proportionallyResize()), n("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1 }, _updatePrevProperties: function () { this.prevPosition = { top: this.position.top, left: this.position.left }; this.prevSize = { width: this.size.width, height: this.size.height } }, _applyChanges: function () { var n = {}; return this.position.top !== this.prevPosition.top && (n.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (n.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (n.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (n.height = this.size.height + "px"), this.helper.css(n), n }, _updateVirtualBoundaries: function (n) { var r, u, f, e, t, i = this.options; t = { minWidth: this._isNumber(i.minWidth) ? i.minWidth : 0, maxWidth: this._isNumber(i.maxWidth) ? i.maxWidth : Infinity, minHeight: this._isNumber(i.minHeight) ? i.minHeight : 0, maxHeight: this._isNumber(i.maxHeight) ? i.maxHeight : Infinity }; (this._aspectRatio || n) && (r = t.minHeight * this.aspectRatio, f = t.minWidth / this.aspectRatio, u = t.maxHeight * this.aspectRatio, e = t.maxWidth / this.aspectRatio, r > t.minWidth && (t.minWidth = r), f > t.minHeight && (t.minHeight = f), u < t.maxWidth && (t.maxWidth = u), e < t.maxHeight && (t.maxHeight = e)); this._vBoundaries = t }, _updateCache: function (n) { this.offset = this.helper.offset(); this._isNumber(n.left) && (this.position.left = n.left); this._isNumber(n.top) && (this.position.top = n.top); this._isNumber(n.height) && (this.size.height = n.height); this._isNumber(n.width) && (this.size.width = n.width) }, _updateRatio: function (n) { var t = this.position, i = this.size, r = this.axis; return this._isNumber(n.height) ? n.width = n.height * this.aspectRatio : this._isNumber(n.width) && (n.height = n.width / this.aspectRatio), r === "sw" && (n.left = t.left + (i.width - n.width), n.top = null), r === "nw" && (n.top = t.top + (i.height - n.height), n.left = t.left + (i.width - n.width)), n }, _respectSize: function (n) { var t = this._vBoundaries, i = this.axis, r = this._isNumber(n.width) && t.maxWidth && t.maxWidth < n.width, u = this._isNumber(n.height) && t.maxHeight && t.maxHeight < n.height, f = this._isNumber(n.width) && t.minWidth && t.minWidth > n.width, e = this._isNumber(n.height) && t.minHeight && t.minHeight > n.height, o = this.originalPosition.left + this.originalSize.width, s = this.position.top + this.size.height, h = /sw|nw|w/.test(i), c = /nw|ne|n/.test(i); return f && (n.width = t.minWidth), e && (n.height = t.minHeight), r && (n.width = t.maxWidth), u && (n.height = t.maxHeight), f && h && (n.left = o - t.minWidth), r && h && (n.left = o - t.maxWidth), e && c && (n.top = s - t.minHeight), u && c && (n.top = s - t.maxHeight), n.width || n.height || n.left || !n.top ? n.width || n.height || n.top || !n.left || (n.left = null) : n.top = null, n }, _getPaddingPlusBorderDimensions: function (n) { for (var t = 0, i = [], r = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], u = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")]; t < 4; t++) i[t] = parseInt(r[t], 10) || 0, i[t] += parseInt(u[t], 10) || 0; return { height: i[0] + i[2], width: i[1] + i[3] } }, _proportionallyResize: function () { if (this._proportionallyResizeElements.length) for (var n, t = 0, i = this.helper || this.element; t < this._proportionallyResizeElements.length; t++) n = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(n)), n.css({ height: i.height() - this.outerDimensions.height || 0, width: i.width() - this.outerDimensions.width || 0 }) }, _renderProxy: function () { var t = this.element, i = this.options; this.elementOffset = t.offset(); this._helper ? (this.helper = this.helper || n("<div style='overflow:hidden;'><\/div>"), this.helper.addClass(this._helper).css({ width: this.element.outerWidth() - 1, height: this.element.outerHeight() - 1, position: "absolute", left: this.elementOffset.left + "px", top: this.elementOffset.top + "px", zIndex: ++i.zIndex }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element }, _change: { e: function (n, t) { return { width: this.originalSize.width + t } }, w: function (n, t) { var i = this.originalSize, r = this.originalPosition; return { left: r.left + t, width: i.width - t } }, n: function (n, t, i) { var r = this.originalSize, u = this.originalPosition; return { top: u.top + i, height: r.height - i } }, s: function (n, t, i) { return { height: this.originalSize.height + i } }, se: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, sw: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, r])) }, ne: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, nw: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, r])) } }, _propagate: function (t, i) { n.ui.plugin.call(this, t, [i, this.ui()]); t !== "resize" && this._trigger(t, i, this.ui()) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition } } }), n.ui.plugin.add("resizable", "animate", { stop: function (t) { var i = n(this).resizable("instance"), u = i.options, r = i._proportionallyResizeElements, f = r.length && /textarea/i.test(r[0].nodeName), s = f && i._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, h = f ? 0 : i.sizeDiff.width, c = { width: i.size.width - h, height: i.size.height - s }, e = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, o = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null; i.element.animate(n.extend(c, o && e ? { top: o, left: e } : {}), { duration: u.animateDuration, easing: u.animateEasing, step: function () { var u = { width: parseInt(i.element.css("width"), 10), height: parseInt(i.element.css("height"), 10), top: parseInt(i.element.css("top"), 10), left: parseInt(i.element.css("left"), 10) }; r && r.length && n(r[0]).css({ width: u.width, height: u.height }); i._updateCache(u); i._propagate("resize", t) } }) } }), n.ui.plugin.add("resizable", "containment", { start: function () { var r, f, e, o, s, h, c, t = n(this).resizable("instance"), l = t.options, a = t.element, u = l.containment, i = u instanceof n ? u.get(0) : /parent/.test(u) ? a.parent().get(0) : u; i && (t.containerElement = n(i), /document/.test(u) || u === document ? (t.containerOffset = { left: 0, top: 0 }, t.containerPosition = { left: 0, top: 0 }, t.parentData = { element: n(document), left: 0, top: 0, width: n(document).width(), height: n(document).height() || document.body.parentNode.scrollHeight }) : (r = n(i), f = [], n(["Top", "Right", "Left", "Bottom"]).each(function (n, i) { f[n] = t._num(r.css("padding" + i)) }), t.containerOffset = r.offset(), t.containerPosition = r.position(), t.containerSize = { height: r.innerHeight() - f[3], width: r.innerWidth() - f[1] }, e = t.containerOffset, o = t.containerSize.height, s = t.containerSize.width, h = t._hasScroll(i, "left") ? i.scrollWidth : s, c = t._hasScroll(i) ? i.scrollHeight : o, t.parentData = { element: i, left: e.left, top: e.top, width: h, height: c })) }, resize: function (t) { var o, s, h, c, i = n(this).resizable("instance"), v = i.options, r = i.containerOffset, l = i.position, f = i._aspectRatio || t.shiftKey, e = { top: 0, left: 0 }, a = i.containerElement, u = !0; a[0] !== document && /static/.test(a.css("position")) && (e = r); l.left < (i._helper ? r.left : 0) && (i.size.width = i.size.width + (i._helper ? i.position.left - r.left : i.position.left - e.left), f && (i.size.height = i.size.width / i.aspectRatio, u = !1), i.position.left = v.helper ? r.left : 0); l.top < (i._helper ? r.top : 0) && (i.size.height = i.size.height + (i._helper ? i.position.top - r.top : i.position.top), f && (i.size.width = i.size.height * i.aspectRatio, u = !1), i.position.top = i._helper ? r.top : 0); h = i.containerElement.get(0) === i.element.parent().get(0); c = /relative|absolute/.test(i.containerElement.css("position")); h && c ? (i.offset.left = i.parentData.left + i.position.left, i.offset.top = i.parentData.top + i.position.top) : (i.offset.left = i.element.offset().left, i.offset.top = i.element.offset().top); o = Math.abs(i.sizeDiff.width + (i._helper ? i.offset.left - e.left : i.offset.left - r.left)); s = Math.abs(i.sizeDiff.height + (i._helper ? i.offset.top - e.top : i.offset.top - r.top)); o + i.size.width >= i.parentData.width && (i.size.width = i.parentData.width - o, f && (i.size.height = i.size.width / i.aspectRatio, u = !1)); s + i.size.height >= i.parentData.height && (i.size.height = i.parentData.height - s, f && (i.size.width = i.size.height * i.aspectRatio, u = !1)); u || (i.position.left = i.prevPosition.left, i.position.top = i.prevPosition.top, i.size.width = i.prevSize.width, i.size.height = i.prevSize.height) }, stop: function () { var t = n(this).resizable("instance"), r = t.options, u = t.containerOffset, f = t.containerPosition, e = t.containerElement, i = n(t.helper), o = i.offset(), s = i.outerWidth() - t.sizeDiff.width, h = i.outerHeight() - t.sizeDiff.height; t._helper && !r.animate && /relative/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }); t._helper && !r.animate && /static/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }) } }), n.ui.plugin.add("resizable", "alsoResize", { start: function () { var t = n(this).resizable("instance"), i = t.options; n(i.alsoResize).each(function () { var t = n(this); t.data("ui-resizable-alsoresize", { width: parseInt(t.width(), 10), height: parseInt(t.height(), 10), left: parseInt(t.css("left"), 10), top: parseInt(t.css("top"), 10) }) }) }, resize: function (t, i) { var r = n(this).resizable("instance"), e = r.options, u = r.originalSize, f = r.originalPosition, o = { height: r.size.height - u.height || 0, width: r.size.width - u.width || 0, top: r.position.top - f.top || 0, left: r.position.left - f.left || 0 }; n(e.alsoResize).each(function () { var t = n(this), u = n(this).data("ui-resizable-alsoresize"), r = {}, f = t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"]; n.each(f, function (n, t) { var i = (u[t] || 0) + (o[t] || 0); i && i >= 0 && (r[t] = i || null) }); t.css(r) }) }, stop: function () { n(this).removeData("resizable-alsoresize") } }), n.ui.plugin.add("resizable", "ghost", { start: function () { var t = n(this).resizable("instance"), i = t.options, r = t.size; t.ghost = t.originalElement.clone(); t.ghost.css({ opacity: .25, display: "block", position: "relative", height: r.height, width: r.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass(typeof i.ghost == "string" ? i.ghost : ""); t.ghost.appendTo(t.helper) }, resize: function () { var t = n(this).resizable("instance"); t.ghost && t.ghost.css({ position: "relative", height: t.size.height, width: t.size.width }) }, stop: function () { var t = n(this).resizable("instance"); t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0)) } }), n.ui.plugin.add("resizable", "grid", { resize: function () { var h, t = n(this).resizable("instance"), i = t.options, y = t.size, o = t.originalSize, s = t.originalPosition, c = t.axis, l = typeof i.grid == "number" ? [i.grid, i.grid] : i.grid, f = l[0] || 1, e = l[1] || 1, a = Math.round((y.width - o.width) / f) * f, v = Math.round((y.height - o.height) / e) * e, r = o.width + a, u = o.height + v, p = i.maxWidth && i.maxWidth < r, w = i.maxHeight && i.maxHeight < u, b = i.minWidth && i.minWidth > r, k = i.minHeight && i.minHeight > u; i.grid = l; b && (r += f); k && (u += e); p && (r -= f); w && (u -= e); /^(se|s|e)$/.test(c) ? (t.size.width = r, t.size.height = u) : /^(ne)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.top = s.top - v) : /^(sw)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.left = s.left - a) : ((u - e <= 0 || r - f <= 0) && (h = t._getPaddingPlusBorderDimensions(this)), u - e > 0 ? (t.size.height = u, t.position.top = s.top - v) : (u = e - h.height, t.size.height = u, t.position.top = s.top + o.height - u), r - f > 0 ? (t.size.width = r, t.position.left = s.left - a) : (r = f - h.width, t.size.width = r, t.position.left = s.left + o.width - r)) } }), n.ui.resizable });
/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/dialog",["jquery", "./core", "./widget", "./button", "./draggable", "./mouse", "./position", "./resizable"], n) : n(jQuery) })(function (n) { return n.widget("ui.dialog", { version: "1.11.4", options: { appendTo: "body", autoOpen: !0, buttons: [], closeOnEscape: !0, closeText: "Close", dialogClass: "", draggable: !0, hide: null, height: "auto", maxHeight: null, maxWidth: null, minHeight: 150, minWidth: 150, modal: !1, position: { my: "center", at: "center", of: window, collision: "fit", using: function (t) { var i = n(this).css(t).offset().top; i < 0 && n(this).css("top", t.top - i) } }, resizable: !0, show: null, title: null, width: 300, beforeClose: null, close: null, drag: null, dragStart: null, dragStop: null, focus: null, open: null, resize: null, resizeStart: null, resizeStop: null }, sizeRelatedOptions: { buttons: !0, height: !0, maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0, width: !0 }, resizableRelatedOptions: { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 }, _create: function () { this.originalCss = { display: this.element[0].style.display, width: this.element[0].style.width, minHeight: this.element[0].style.minHeight, maxHeight: this.element[0].style.maxHeight, height: this.element[0].style.height }; this.originalPosition = { parent: this.element.parent(), index: this.element.parent().children().index(this.element) }; this.originalTitle = this.element.attr("title"); this.options.title = this.options.title || this.originalTitle; this._createWrapper(); this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog); this._createTitlebar(); this._createButtonPane(); this.options.draggable && n.fn.draggable && this._makeDraggable(); this.options.resizable && n.fn.resizable && this._makeResizable(); this._isOpen = !1; this._trackFocus() }, _init: function () { this.options.autoOpen && this.open() }, _appendTo: function () { var t = this.options.appendTo; return t && (t.jquery || t.nodeType) ? n(t) : this.document.find(t || "body").eq(0) }, _destroy: function () { var n, t = this.originalPosition; this._untrackInstance(); this._destroyOverlay(); this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(); this.uiDialog.stop(!0, !0).remove(); this.originalTitle && this.element.attr("title", this.originalTitle); n = t.parent.children().eq(t.index); n.length && n[0] !== this.element[0] ? n.before(this.element) : t.parent.append(this.element) }, widget: function () { return this.uiDialog }, disable: n.noop, enable: n.noop, close: function (t) { var i, r = this; if (this._isOpen && this._trigger("beforeClose", t) !== !1) { if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try { i = this.document[0].activeElement; i && i.nodeName.toLowerCase() !== "body" && n(i).blur() } catch (u) { } this._hide(this.uiDialog, this.options.hide, function () { r._trigger("close", t) }) } }, isOpen: function () { return this._isOpen }, moveToTop: function () { this._moveToTop() }, _moveToTop: function (t, i) { var r = !1, f = this.uiDialog.siblings(".ui-front:visible").map(function () { return +n(this).css("z-index") }).get(), u = Math.max.apply(null, f); return u >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", u + 1), r = !0), r && !i && this._trigger("focus", t), r }, open: function () { var t = this; if (this._isOpen) { this._moveToTop() && this._focusTabbable(); return } this._isOpen = !0; this.opener = n(this.document[0].activeElement); this._size(); this._position(); this._createOverlay(); this._moveToTop(null, !0); this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1); this._show(this.uiDialog, this.options.show, function () { t._focusTabbable(); t._trigger("focus") }); this._makeFocusTarget(); this._trigger("open") }, _focusTabbable: function () { var n = this._focusedElement; n || (n = this.element.find("[autofocus]")); n.length || (n = this.element.find(":tabbable")); n.length || (n = this.uiDialogButtonPane.find(":tabbable")); n.length || (n = this.uiDialogTitlebarClose.filter(":tabbable")); n.length || (n = this.uiDialog); n.eq(0).focus() }, _keepFocus: function (t) { function i() { var t = this.document[0].activeElement, i = this.uiDialog[0] === t || n.contains(this.uiDialog[0], t); i || this._focusTabbable() } t.preventDefault(); i.call(this); this._delay(i) }, _createWrapper: function () { this.uiDialog = n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({ tabIndex: -1, role: "dialog" }).appendTo(this._appendTo()); this._on(this.uiDialog, { keydown: function (t) { if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === n.ui.keyCode.ESCAPE) { t.preventDefault(); this.close(t); return } if (t.keyCode === n.ui.keyCode.TAB && !t.isDefaultPrevented()) { var i = this.uiDialog.find(":tabbable"), r = i.filter(":first"), u = i.filter(":last"); t.target !== u[0] && t.target !== this.uiDialog[0] || t.shiftKey ? (t.target === r[0] || t.target === this.uiDialog[0]) && t.shiftKey && (this._delay(function () { u.focus() }), t.preventDefault()) : (this._delay(function () { r.focus() }), t.preventDefault()) } }, mousedown: function (n) { this._moveToTop(n) && this._focusTabbable() } }); this.element.find("[aria-describedby]").length || this.uiDialog.attr({ "aria-describedby": this.element.uniqueId().attr("id") }) }, _createTitlebar: function () { var t; this.uiDialogTitlebar = n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog); this._on(this.uiDialogTitlebar, { mousedown: function (t) { n(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus() } }); this.uiDialogTitlebarClose = n("<button type='button'><\/button>").button({ label: this.options.closeText, icons: { primary: "ui-icon-closethick" }, text: !1 }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar); this._on(this.uiDialogTitlebarClose, { click: function (n) { n.preventDefault(); this.close(n) } }); t = n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar); this._title(t); this.uiDialog.attr({ "aria-labelledby": t.attr("id") }) }, _title: function (n) { this.options.title || n.html("&#160;"); n.text(this.options.title) }, _createButtonPane: function () { this.uiDialogButtonPane = n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"); this.uiButtonSet = n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane); this._createButtons() }, _createButtons: function () { var i = this, t = this.options.buttons; if (this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), n.isEmptyObject(t) || n.isArray(t) && !t.length) { this.uiDialog.removeClass("ui-dialog-buttons"); return } n.each(t, function (t, r) { var u, f; r = n.isFunction(r) ? { click: r, text: t } : r; r = n.extend({ type: "button" }, r); u = r.click; r.click = function () { u.apply(i.element[0], arguments) }; f = { icons: r.icons, text: r.showText }; delete r.icons; delete r.showText; n("<button><\/button>", r).button(f).appendTo(i.uiButtonSet) }); this.uiDialog.addClass("ui-dialog-buttons"); this.uiDialogButtonPane.appendTo(this.uiDialog) }, _makeDraggable: function () { function i(n) { return { position: n.position, offset: n.offset } } var t = this, r = this.options; this.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (r, u) { n(this).addClass("ui-dialog-dragging"); t._blockFrames(); t._trigger("dragStart", r, i(u)) }, drag: function (n, r) { t._trigger("drag", n, i(r)) }, stop: function (u, f) { var e = f.offset.left - t.document.scrollLeft(), o = f.offset.top - t.document.scrollTop(); r.position = { my: "left top", at: "left" + (e >= 0 ? "+" : "") + e + " top" + (o >= 0 ? "+" : "") + o, of: t.window }; n(this).removeClass("ui-dialog-dragging"); t._unblockFrames(); t._trigger("dragStop", u, i(f)) } }) }, _makeResizable: function () { function r(n) { return { originalPosition: n.originalPosition, originalSize: n.originalSize, position: n.position, size: n.size } } var t = this, i = this.options, u = i.resizable, f = this.uiDialog.css("position"), e = typeof u == "string" ? u : "n,e,s,w,se,sw,ne,nw"; this.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: this.element, maxWidth: i.maxWidth, maxHeight: i.maxHeight, minWidth: i.minWidth, minHeight: this._minHeight(), handles: e, start: function (i, u) { n(this).addClass("ui-dialog-resizing"); t._blockFrames(); t._trigger("resizeStart", i, r(u)) }, resize: function (n, i) { t._trigger("resize", n, r(i)) }, stop: function (u, f) { var e = t.uiDialog.offset(), o = e.left - t.document.scrollLeft(), s = e.top - t.document.scrollTop(); i.height = t.uiDialog.height(); i.width = t.uiDialog.width(); i.position = { my: "left top", at: "left" + (o >= 0 ? "+" : "") + o + " top" + (s >= 0 ? "+" : "") + s, of: t.window }; n(this).removeClass("ui-dialog-resizing"); t._unblockFrames(); t._trigger("resizeStop", u, r(f)) } }).css("position", f) }, _trackFocus: function () { this._on(this.widget(), { focusin: function (t) { this._makeFocusTarget(); this._focusedElement = n(t.target) } }) }, _makeFocusTarget: function () { this._untrackInstance(); this._trackingInstances().unshift(this) }, _untrackInstance: function () { var t = this._trackingInstances(), i = n.inArray(this, t); i !== -1 && t.splice(i, 1) }, _trackingInstances: function () { var n = this.document.data("ui-dialog-instances"); return n || (n = [], this.document.data("ui-dialog-instances", n)), n }, _minHeight: function () { var n = this.options; return n.height === "auto" ? n.minHeight : Math.min(n.minHeight, n.height) }, _position: function () { var n = this.uiDialog.is(":visible"); n || this.uiDialog.show(); this.uiDialog.position(this.options.position); n || this.uiDialog.hide() }, _setOptions: function (t) { var i = this, r = !1, u = {}; n.each(t, function (n, t) { i._setOption(n, t); n in i.sizeRelatedOptions && (r = !0); n in i.resizableRelatedOptions && (u[n] = t) }); r && (this._size(), this._position()); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", u) }, _setOption: function (n, t) { var u, r, i = this.uiDialog; (n === "dialogClass" && i.removeClass(this.options.dialogClass).addClass(t), n !== "disabled") && (this._super(n, t), n === "appendTo" && this.uiDialog.appendTo(this._appendTo()), n === "buttons" && this._createButtons(), n === "closeText" && this.uiDialogTitlebarClose.button({ label: "" + t }), n === "draggable" && (u = i.is(":data(ui-draggable)"), u && !t && i.draggable("destroy"), !u && t && this._makeDraggable()), n === "position" && this._position(), n === "resizable" && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && typeof t == "string" && i.resizable("option", "handles", t), r || t === !1 || this._makeResizable()), n === "title" && this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))) }, _size: function () { var t, i, r, n = this.options; this.element.show().css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }); n.minWidth > n.width && (n.width = n.minWidth); t = this.uiDialog.css({ height: "auto", width: n.width }).outerHeight(); i = Math.max(0, n.minHeight - t); r = typeof n.maxHeight == "number" ? Math.max(0, n.maxHeight - t) : "none"; n.height === "auto" ? this.element.css({ minHeight: i, maxHeight: r, height: "auto" }) : this.element.height(Math.max(0, n.height - t)); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight()) }, _blockFrames: function () { this.iframeBlocks = this.document.find("iframe").map(function () { var t = n(this); return n("<div>").css({ position: "absolute", width: t.outerWidth(), height: t.outerHeight() }).appendTo(t.parent()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _allowInteraction: function (t) { return n(t.target).closest(".ui-dialog").length ? !0 : !!n(t.target).closest(".ui-datepicker").length }, _createOverlay: function () { if (this.options.modal) { var t = !0; this._delay(function () { t = !1 }); this.document.data("ui-dialog-overlays") || this._on(this.document, { focusin: function (n) { t || this._allowInteraction(n) || (n.preventDefault(), this._trackingInstances()[0]._focusTabbable()) } }); this.overlay = n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()); this._on(this.overlay, { mousedown: "_keepFocus" }); this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1) } }, _destroyOverlay: function () { if (this.options.modal && this.overlay) { var n = this.document.data("ui-dialog-overlays") - 1; n ? this.document.data("ui-dialog-overlays", n) : this.document.unbind("focusin").removeData("ui-dialog-overlays"); this.overlay.remove(); this.overlay = null } } }) });
// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Controls/Dialogs",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Controls/Panels","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","q","jQueryUI/core","jQueryUI/button","jQueryUI/dialog","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function tt(n,t){t&&c.BrowserCheckUtils.isEdge()&&$.each(t,function(t,i){var r=i.click;r&&(i.click=function(t){t&&!$(t.currentTarget).is(":disabled")&&r.apply(n[0],arguments)})})}function it(n,t){var r=t||"",i;return i=typeof n=="string"?n.split(" "):n,r.split(" ").concat(i).filter(function(n,t,i){return i.indexOf(n)===t}).join(" ")}function ft(n,t){return p.show(n,t)}function ot(n,t){return b.showMessageDialog(n,t)}var v=s.delegate,et=c.domElem,y,p,w,k,g,rt,ut,d,b,nt;t.preventClickingDisabledButtons=tt;y=function(n){function t(t){var i=n.call(this,t)||this;return i._onWindowResizeDelegate=v(i,i._onWindowResize),i}return __extends(t,n),t.beginExecuteDialogAction=function(n){p._dialogActionInProgress||(p._dialogActionInProgress=!0,n(function(){p._dialogActionInProgress=!1}))},t.create=function(n,t){var o=t&&t.content||$("<div />"),r,u,f,e;return t&&t.contentText&&o.text(t.contentText),r=i.Enhancement.enhance(n,o,t),u=this._getNextDialogZIndex(),r._element.parent().css("z-index",u),r._options.modal&&(f=r._element.parent().next("div.ui-widget-overlay").css("z-index",u-1),(c.BrowserCheckUtils.isIE()||c.BrowserCheckUtils.isEdge())&&(e=f.clone().insertAfter(f),f.css("width","50%"),e.css({"z-index":u-1,width:"50%",left:"50%"}),r._secondOverlay=e)),r._element.parent().children("div.ui-icon-gripsmall-diagonal-se").addClass("ui-icon-grip-diagonal-se"),r},t._getNextDialogZIndex=function(){var t,n,i=0;return $("div.ui-dialog").each(function(){t=Number($(this).css("z-index"));!isNaN(t)&&t>i&&(i=t)}),i<10001?n=10002:(n=i+2,n%2!=0&&n++),n},t.show=function(n,t){return this.create(n,$.extend({autoOpen:!0},t))},t.prototype.initializeOptions=function(t){var i,r,u,f;this._options=this._options||{};n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog",widthPct:.8,heightPct:.8,modal:!0,draggable:!0,resizable:!0,autoOpen:!1,dynamicSize:!0,disposeOnClose:!0,closeText:o.CloseButtonLabelText},t));i=this._options;r=$(window);i.height==="auto"&&(i.height=null);i.minWidth=Math.max(240,parseInt(i.minWidth,10)||0);i.minHeight=Math.max(192,parseInt(i.minHeight,10)||0);this._specifiedMaxWidth=parseInt(i.maxWidth,10);this._specifiedMaxHeight=parseInt(i.maxHeight,10);this._setMaxSize();this._ensureCtaButton();i.dynamicSize?(i.width=r.width()*i.widthPct,i.height=r.height()*i.heightPct):!i.useLegacyStyle&&i.height&&(u=66,i.subtitle&&(u+=22),f=typeof i.height=="number"?i.height:parseInt(i.height,10),f+=u,i.height=f);i.height&&!isNaN(i.height)&&(i.height=Math.min(i.height,r.height()));i.width&&!isNaN(i.width)&&(i.width=Math.min(i.width,r.width()));i.hideCloseButton&&(i.dialogClass=it("no-close",i.dialogClass));this._options.useLegacyStyle&&(i.dialogClass=it("ui-dialog-legacy",i.dialogClass))},t.prototype.initialize=function(){var i=this,o,h,l,s;n.prototype.initialize.call(this);var t=this,a=$(window),f=$.extend({},this._options);f.title=this.getTitle();f.close=function(n){i._options.close&&i._options.close(n);i._removeSecondOverlay();i.onClose(n)};f.open=function(n){t._options.open&&t._options.open.call(this,n);t.onOpen(n)};this._bind("dialogdragstart dialogdragstop",function(){u.getService().fire("dialog-move",i);i._onDialogMove()});this._options.attachResize&&this._bind("dialogresizestop",this.onDialogResize.bind(this));this._options.resizable&&this._bind("dialogresize",this._onDialogResizing.bind(this));f.dynamicSize&&(u.getService().attachEvent("window-resize",this._onWindowResizeDelegate),this._bind("dialogclose",function(){var n=u.getService();n.fire("dialog-close",t);n.detachEvent("window-resize",t._onWindowResizeDelegate)}));f.url||r.logTracePoint("Dialog.initialize.complete");tt(this.getElement(),f.buttons);this._options.contentMargin===!1&&this.getElement().addClass("no-margin");this.getElement().dialog(f);this._options.useLegacyStyle||(o=this.getElement().parent(),h=o.find(".ui-dialog-titlebar"),h.addClass("bowtie").append($("<div />").addClass("ui-dialog-subtitle")),l=$("span.ui-dialog-title",h),c.tooltipIfOverflow(l[0],{titleTarget:l[0],titleText:this.getTitle()}),o.find(".ui-dialog-buttonpane").addClass("bowtie"),s=o.find("button.ui-dialog-titlebar-close"),e.RichContentTooltip.addTooltip(this._options.closeText,s),s.removeAttr("title"),s.attr("aria-label",this._options.closeText),s.find(".ui-button-icon-primary").addClass("bowtie-icon bowtie-navigate-close"),(this._options.useBowtieStyle||this._options.bowtieVersion>0)&&o.addClass("bowtie-style"));this.setSubtitle(this.getSubtitle());this.getElement().keydown(function(n){var r,u,i;if(n.keyCode===$.ui.keyCode.ENTER){if(i=$(n.target),(!n.shiftKey&&i.is("input[type='text']")||i.is("textarea")&&n.ctrlKey)&&t._options.defaultButton&&t._options.buttons)return r=t._options.buttons[t._options.defaultButton],r&&(u=$("#"+r.id).button("option"),u.disabled||r.click.apply(this,[n])),!1;if(!i.is("textarea")&&!i.is("a")&&!i.is("button")&&!i.hasClass("propagate-keydown-event"))return!1}});setTimeout(function(){i._autoSizeAndPosition();i.onInitialize()},0);p._dialogActionInProgress=!1},t.prototype._autoSizeAndPosition=function(){var n=this.getElement(),t=this._options;n&&n.length>0&&$.contains(document.body,n[0])&&(t.preventAutoResize||(t.position&&n.dialog("option","position",t.position),t.height?n.dialog("option","height",t.height):n.dialog("option","height","auto"),this._setMaxHeight()),n.show())},t.prototype._ensureCtaButton=function(){var n=this._options,r,u,t,i;n.noAutoCta!==!0&&(r=/(^cta$)|(^cta\ )|(\ cta\ )|( cta$)/,u=/(^warning$)|(^warning\ )|(\ warning\ )|( warning$)/,$.isArray(n.buttons)&&n.buttons.length>0&&!n.buttons.some(function(n){return r.test(n.class)})&&!n.buttons.some(function(n){return u.test(n.class)})?(i=n.buttons[0].class||"",n.buttons[0].class=i+" cta"):n.buttons&&typeof n.buttons=="object"&&(t=Object.keys(n.buttons),t.length>0&&(t.some(function(t){return r.test(n.buttons[t].class)})||t.some(function(t){return u.test(n.buttons[t].class)})||(i=n.buttons[t[0]].class||"",n.buttons[t[0]].class=i+" cta"))))},t.prototype.onLoadCompleted=function(t){n.prototype.onLoadCompleted.call(this,t);this.setInitialFocus();r.logTracePoint("Dialog.initialize.complete")},t.prototype.setInitialFocus=function(){var n=this._options.initialFocusSelector||":visible:tabbable";this.getElement().find(n).first().focus()},t.prototype.setFormFocusDelayed=function(n){s.delay(this,300,function(){n.eq(0).focus().select()})},t.prototype.setTitle=function(n){this._title=n;this._updateTitle()},t.prototype.getTitle=function(){return this._title||this._options.title||this.getElement().attr("title")||""},t.prototype.setSubtitle=function(n){this._subtitle=n;this._updateSubtitle()},t.prototype.getSubtitle=function(){var n=this._subtitle;return(n===null||n===undefined)&&(n=this._options.subtitle),n||""},t.prototype.centerDialog=function(){this.getElement().dialog("option","position",{my:"center",at:"center",of:window});this._setMaxHeight()},t.prototype.getDialogResult=function(){return this._dialogResult},t.prototype.setDialogResult=function(n){this._dialogResult=n},t.prototype.show=function(){this.getElement().dialog("open")},t.prototype.onOpen=function(){if(!this._options||this._options.hasProgressElement!==!1){var n=$("<div />").addClass("ui-dialog-titlebar-progress-container").appendTo(this.getElement().parent().find(".ui-dialog-titlebar"));this._progressElement=$("<div />").addClass("ui-dialog-titlebar-progress-element").appendTo(n);l.globalProgressIndicator.registerProgressElement(this._progressElement)}u.getService().fire("dialog-open",this)},t.prototype.onClose=function(){u.getService().fire("dialog-close",this);this._progressElement&&l.globalProgressIndicator.unRegisterProgressElement(this._progressElement);this._removeSecondOverlay();this._options.disposeOnClose&&this.dispose();var n=$(".ui-dialog").slice(-1);n.length&&!this._options.noFocusOnClose&&n.focus()},t.prototype.onInitialize=function(){typeof this._options.initialize=="function"&&this._options.initialize.call(this)},t.prototype.close=function(){this.getElement()&&this.getElement().dialog("close")},t.prototype.dispose=function(){this._removeSecondOverlay();n.prototype.dispose.call(this)},t.prototype._removeSecondOverlay=function(){this._secondOverlay&&(this._secondOverlay.remove(),this._secondOverlay=null)},t.prototype._updateSubtitle=function(){if(this._initialized&&this.getElement()){var n=this.getElement().parent().find(".ui-dialog-subtitle"),t=this.getSubtitle()||"";n.text(t);c.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:t});n.toggle(t.length>0)}},t.prototype.onDialogResize=function(){},t.prototype._updateTitle=function(){if(this._initialized&&this.getElement()){var t=this.getElement().dialog("option","title",this.getTitle()),n=$("span.ui-dialog-title",t.parent());c.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:this.getTitle()})}},t.prototype._onWindowResize=function(){var t=$(window),n=this._options;this._setMaxSize();this.getElement().dialog("option",{width:t.width()*n.widthPct,height:t.height()*n.heightPct,maxHeight:parseInt(this._options.maxHeight,10),maxWidth:parseInt(this._options.maxWidth,10)});this.getElement().dialog("option",{position:n.position})},t.prototype._onDialogResizing=function(n,t){var u=$(window),i,r;t&&t.position&&t.size&&(i=Math.min(t.size.height,u.height()-t.position.top),r=Math.min(t.size.width,u.width()-t.position.left),(i!==t.size.height||r!==t.size.width)&&this.getElement().dialog("option",{width:r,height:i}))},t.prototype._onDialogMove=function(){this._options.preventAutoResize||(this._setMaxHeight(),this._ensureDialogContentHeight())},t.prototype._ensureDialogContentHeight=function(){var n=this.getElement().parent().css("height");n!=="auto"?this.getElement().css("height",this.getElement().outerHeight()):this.getElement().css("height","auto")},t.prototype._setMaxHeight=function(){var n=this.getElement().prev().outerHeight(!0)+this.getElement().next().outerHeight(!0);this.getElement().css("maxHeight",window.innerHeight-this.getElement().parent().position().top-n)},t.prototype._setMaxSize=function(){this._options.maxWidth=Math.min(window.innerWidth,this._specifiedMaxWidth||Infinity);this._options.maxHeight=Math.min(window.innerHeight,this._specifiedMaxHeight||Infinity)},t}(f.AjaxPanelO);y.enhancementTypeName="tfs.dialog";y._dialogActionInProgress=!1;t.DialogO=y;p=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(y);t.Dialog=p;w=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog modal-dialog",modal:!0,dynamicSize:!1,width:500,height:"auto",defaultButton:"ok",buttons:{ok:{id:"ok",text:t&&t.okText||o.ModalDialogOkButton,click:v(this,this.onOkClick),"class":"cta",disabled:"disabled"},cancel:{id:"cancel",text:t&&t.cancelText||o.ModalDialogCancelButton,click:v(this,this.onCancelClick)}}},t))},t.prototype.initialize=function(){this._bind(k.EVENT_BUTTON_STATUS_CHANGE,v(this,this.onButtonStatusChange));this._bind("resultReady",v(this,this.onResultReady));n.prototype.initialize.call(this)},t.prototype.updateOkButton=function(n){this.getElement()&&this.getElement().trigger(k.EVENT_BUTTON_STATUS_CHANGE,{enabled:n===!0})},t.prototype.processResult=function(n){var t=this._options.okCallback;n&&($.isFunction(t)&&(t.call(this,n),r.logTracePoint(this.getTypeName()+".callback-complete")),this.close())},t.prototype.onOkClick=function(){r.logTracePoint(this.getTypeName()+".OkClicked");this.processResult(this.getDialogResult())},t.prototype.onResultReady=function(n,t){this.processResult(t)},t.prototype.onCancelClick=function(){$.isFunction(this._options.cancelCallback)&&this._options.cancelCallback();this.close()},t.prototype.onButtonStatusChange=function(n,t){var i=this.getElement().siblings(".ui-dialog-buttonpane").find("#"+(t.button||"ok"));i.button("option","disabled",t.enabled?"":"disabled");this.setAttribute("aria-disabled",t.enabled?"false":"true",i)},t}(y);w.enhancementTypeName="tfs.modaldialog";w.EVENT_BUTTON_STATUS_CHANGE="buttonStatusChange";t.ModalDialogO=w;k=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(w);t.ModalDialog=k;g=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:400,height:200,resizable:!1,cssClass:"confirmation-dialog"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.$errorContainer=$(et("div")).addClass("confirmation-dialog-error").prependTo(this.getElement()).hide();this.updateOkButton(!0)},t.prototype._onSuccess=function(){this._fire("resultReady",!0);var n=this._options.successCallback;$.isFunction(n)&&(n.apply(this,arguments),r.logTracePoint(this.getTypeName()+".callback-complete"))},t.prototype._onError=function(n){this.$errorContainer.text(n.message).show()},t.prototype.onOkClick=function(t){this.updateOkButton(!1);n.prototype.onOkClick.call(this,t)},t}(w);t.ConfirmationDialogO=g;rt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(g);t.ConfirmationDialog=rt;ut=function(){function n(n){this.button=n}return n.prototype.toString=function(){return"MessageDialogResult: Button: "+(this.button?this.button.id:"?")+" ("+l.ErrorHandler.ignoreRejectedPromiseTag+")"},n}();d=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){var u=this,i=$.extend({width:500,height:"auto",hideCloseButton:!0,coreCssClass:"dialog modal-dialog message-dialog",modal:!0,dynamicSize:!1},t),r;i.buttons instanceof Array&&i.buttons.length>0&&(r={},i.buttons.forEach(function(n){r[n.id]=u.getButtonOptions(n)}),t.noDefaultButton||(i.defaultButton=i.buttons[0].id),this.setDialogResult(i.buttons[i.buttons.length-1]),i.buttons=r);t.escapeButton&&this.setDialogResult(t.escapeButton);n.prototype.initializeOptions.call(this,i)},t.prototype.initialize=function(){var i,t;n.prototype.initialize.call(this);this._options.requiredTypedConfirmation&&this.initializeTypedConfirmation();for(i in this._options.buttons)t=this._options.buttons[i],t.style&&$("#"+t.id).addClass(t.style)},t.prototype.initializeTypedConfirmation=function(){var u=this,f=this.getElement(),n=$("<input type='text' class='textbox message-dialog-confirm-textbox no-match' />"),t=$(),i,r;for(i in this._options.buttons)this._options.buttons[i].reject||(t=t.add($("#"+this._options.buttons[i].id)));r=function(){h.ignoreCaseComparer(n.val(),u._options.requiredTypedConfirmation)==0?(n.removeClass("no-match").addClass("match"),t.button("option","disabled","")):(n.addClass("no-match").removeClass("match"),t.button("option","disabled","disabled"))};n.bind("input keyup",r);f.append($("<div class='message-dialog-confirm'><\/div>").append(n));r(null);s.delay(this,100,function(){n.focus();n.select()})},t.prototype.getPromise=function(){return this._deferred||(this._deferred=a.defer()),this._deferred.promise},t.showMessageDialog=function(n,t){var i,r;return t=t||{},i=$.extend({buttons:[b.buttons.ok,b.buttons.cancel],useBowtieStyle:!0,minWidth:t.width,minHeight:t.height,title:o.Confirm},t),i.content=typeof n=="string"?$("<div />").text(n):n,r=ft(b,i),r.getPromise()},t.prototype.onClose=function(t){if(this._deferred){var i=new ut(this.getDialogResult());this._options.beforeClose&&this._options.beforeClose(i.button);i.button.reject?this._deferred.reject(i):this._deferred.resolve(i)}return n.prototype.onClose.call(this,t)},t.prototype.getButtonOptions=function(n){var t=this;return $.extend({click:function(){t.setDialogResult(n);t.close()}},n)},t}(y);d.buttons={ok:{id:"ok",text:o.ModalDialogOkButton,reject:!1},cancel:{id:"cancel",text:o.ModalDialogCancelButton,reject:!0},yes:{id:"yes",text:o.ModalDialogYesButton,reject:!1},no:{id:"no",text:o.ModalDialogNoButton,reject:!0},close:{id:"close",text:o.CloseButtonLabelText,reject:!0}};t.MessageDialogO=d;b=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(d);t.MessageDialog=b;nt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:t.width||600,minWidth:400,height:t.height||450,minHeight:200,attachResize:!0,defaultButton:"close",buttons:[{id:"close",text:o.CloseButtonLabelText,click:v(this,this.close)}]},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.setTitle(o.CopyContentDialogTitle);this._decorate()},t.prototype._decorate=function(){var r=this.getElement(),n,i=$("<div>").text(this._options.dialogLabel||this._getDefaultLabelText()),t;this._options.dialogLabelExtend&&i.append(this._options.dialogLabelExtend);t=$("<div class='copy-dialog-container'>").append(i).append($("<p>"));this._options.excludeTextPanel||(n=$("<div>"),t.append(n),this._options.copyAsHtml?this._initializeRichEditor(n):(this._initializeTextPanel(n),s.delay(this,100,function(){this._$textArea.focus();this._$textArea.select()})),this._bind("dialogresize",function(){n.css("height",t.height()-i.height()-40+"px")}));r.append(t);this._options.excludeTextPanel||n.css("height",t.height()-i.height()-40+"px")},t.prototype._getDefaultLabelText=function(){return c.BrowserCheckUtils.isMacintosh()?o.CopyContentMacintoshHelpText:o.CopyContentPcHelpText},t.prototype._initializeRichEditor=function(n){var t=this;l.using(["VSS/Controls/RichEditor"],function(r){var u=i.BaseControl.createIn(r.RichEditor,n,{noToolbar:!0,height:"100%",pageHtml:t._options.pageHtml,internal:!0});u.ready(function(){u.setValue(t._options.data);u.bindOnCopy(v(t,function(){s.delay(this,0,function(){this.close()})}));s.delay(t,100,function(){u.selectText();u.setEnabled(!1)})})})},t.prototype._initializeTextPanel=function(n){var t="copy-content-textarea";this._options.textAreaCopyClass&&(t=this._options.textAreaCopyClass);this._$textArea=$("<textarea/>").addClass(t).text(this._options.data);this._$textArea[0].oncopy=v(this,function(){s.delay(this,0,function(){this.close()})});n.append(this._$textArea)},t}(w);nt.enhancementTypeName="CopyContentDialog";t.CopyContentDialog=nt;t.show=ft;t.showMessageDialog=ot});
define("VSS/Navigation/Services",["require","exports","VSS/Context","VSS/Events/Handlers","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/String"],function(n,t,i,r,u,f,e){function o(n,t){var i={};return t&&(n=n||t._a||t.action,i=$.extend(i,t),delete i.action,delete i._a),n&&(i.action=n),i}function h(){return f.getLocalService(s)}var s=function(){function n(){this._namedEvents=new r.NamedEventCollection;this._popStateHandlers={};this._currentState={};window.history.pushState&&(this._usePushState=!0,$(window).bind("popstate",this._onPopState.bind(this)))}return n.prototype.getCurrentFragment=function(){return this._usePushState?n.serializeState(this.getCurrentState()):this.getCurrentHashString()},n.prototype.getCurrentHashString=function(){var n=window.location.hash;return n&&n[0]==="#"&&(n=n.substr(1)),n},n.prototype.getCurrentQueryString=function(){var n=window.location.search;return n&&n[0]==="?"&&(n=n.substr(1)),n},n.prototype.getFragmentActionLink=function(t,i){return"#"+n.serializeState(o(t,i))},n.prototype.getCurrentState=function(){return $.extend(this._ignoreQueryString?{}:n.deserializeState(this.getCurrentQueryString()),n.deserializeState(this.getCurrentHashString()))},n.prototype.replaceHistoryPoint=function(n,t,i,r){this.updateHistoryEntry(n,t,!0,!1,i,r)},n.prototype.addHistoryPoint=function(n,t,i,r,u){u===void 0&&(u=!0);this.updateHistoryEntry(n,t,!1,u,i,r)},n.prototype.updateHistoryEntry=function(t,i,r,u,f,e){var s={},c,h,l,a;u?(s=this.getCurrentState(),$.each(o(t,i),function(n,t){t===null||typeof t=="undefined"?delete s[n]:s[n]=t})):$.each(o(t,i),function(n,t){t!==null&&typeof t!="undefined"&&t!==""&&(s[n]=t)});c="";h="";this._usePushState?h=n.serializeState(s):c=n.serializeState(s);(c!==this.getCurrentHashString()||h!==this.getCurrentQueryString())&&(this._suppressNavigate=e===!0,this._usePushState?(r?(l="",h?l="?"+h:(a=window.location.toString(),l=a.substring(0,a.indexOf("?"))),window.history.replaceState(this._currentState,null,l)):window.history.pushState(this._currentState,null,"?"+h),this._onNavigate()):r?window.location.replace("#"+c):window.location.hash=c);f&&(document.title=f)},n.serializeState=function(n){var t=[];return $.each(n,function(n,i){if(i!==null&&typeof i!="undefined"){var r=n==="action"?"_a":n;t.push(r+"="+encodeURIComponent(i))}}),t.join("&")},n.deserializeState=function(n){var t={},i=(n||"").split("&");return i.forEach(function(n){var r=n.split("=",2),i,u;if(r.length===2){i=r[0];i==="_a"&&(i="action");u=r[1].replace(/\+/g,"%20");try{t[i]=decodeURIComponent(u)}catch(f){t[i]=u}}}),t},n.prototype.attachNavigate=function(n,t,i){if($.isFunction(n)){this.attachNavigate(null,n,t||i);return}if(t&&(this._initialized||(this._initialized=!0,this._suppressNavigate=!1,this._setLastNavigateState(),$(window).bind("hashchange",this._onHashChanged.bind(this)),this._usePushState&&this._moveHashStateToQueryParams()),this._namedEvents.subscribe(n?n.toString():"*",t),i)){var r=this.getCurrentState();(!n||r.action&&e.equals(r.action,n.toString(),!0))&&(this._setLastNavigateState(),t(this,r))}},n.prototype.detachNavigate=function(n,t){this._initialized&&($.isFunction(n)?this._namedEvents.unsubscribe("*",n):t&&n&&this._namedEvents.unsubscribe(n.toString(),t))},n.prototype.addPopStateHandler=function(n,t){this._popStateHandlers[n]=t},n.prototype.removePopStateHandler=function(n){delete this._popStateHandlers[n]},n.prototype.pushState=function(n,t,i,r){this.handleStateChange(window.history.pushState.bind(window.history),n,t,i,r)},n.prototype.replaceState=function(n,t,i,r){this.handleStateChange(window.history.replaceState.bind(window.history),n,t,i,r)},n.prototype.handleStateChange=function(n,t,i,r,u){var f=this._getFullTitle(u);this._lastNavigatedHashString=null;this._lastNavigatedQueryString=null;this._currentState={handlerId:i,handlerState:r,title:f||document.title};n(this._currentState,f,t);f&&(document.title=f)},n.prototype._getFullTitle=function(n){if(n){var t=i.getPageContext().webAccessConfiguration.isHosted?u.PageTitleWithContent_Hosted:u.PageTitleWithContent;return e.format(t,n||"")}return null},n.prototype._moveHashStateToQueryParams=function(){var n=this.getCurrentHashString();n&&window.history.replaceState(this._currentState,null,"?"+n)},n.prototype._onHashChanged=function(){this._usePushState?this._moveHashStateToQueryParams():this._ignoreQueryString=!0;this._onNavigate()},n.prototype._onPopState=function(n){var u=n.originalEvent,i=this._currentState,t=u.state,r;if(t&&(this._currentState=t,t.handlerId&&(r=this._popStateHandlers[t.handlerId],r&&r(t.handlerState,i&&i.handlerId===t.handlerId?i.handlerState:null)))){t.title&&(document.title=t.title);return}this._initialized&&(this._moveHashStateToQueryParams(),this._onNavigate())},n.prototype._onNavigate=function(){if(this._suppressNavigate)this._suppressNavigate=!1,this._setLastNavigateState();else if(this.getCurrentHashString()!==this._lastNavigatedHashString||this.getCurrentQueryString()!==this._lastNavigatedQueryString){this._setLastNavigateState();var n=this.getCurrentState();n.action&&this._namedEvents.invokeHandlers(n.action,this,n);this._namedEvents.invokeHandlers("*",this,n)}},n.prototype._setLastNavigateState=function(){this._lastNavigatedHashString=this.getCurrentHashString();this._lastNavigatedQueryString=this.getCurrentQueryString()},n}();t.HistoryService=s;t.getHistoryService=h});
define("Gallery/Client/Controls/VSSItemDetails/VSSItemDetails.View",["require","exports","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/URLHelper","Gallery/Client/Controls/ImageControl/Image.ViewModel","Gallery/Client/Pages/Install/Install.View","Gallery/Client/Common/Utility","Gallery/Client/Common/AccessibilityUtils","Gallery/Client/Controls/VSSItemDetails/VSSItemDetails.ViewModel","Gallery/Client/Service/VSSItem","knockout","Gallery/Client/Common/Utility","VSS/Controls","VSS/Controls/Dialogs","VSS/Events/Action","VSS/Events/Services","VSS/Adapters/Knockout","VSS/Controls/Menus","VSS/Navigation/Services","VSS/Utils/Core","VSS/Utils/UI","Gallery/Client/Common/Utility.Common"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var et=function(){function n(n,t){var i={imageUrl:n,fallbackImageUrl:t,imageStyle:"img-screenshot"};this.imageViewModel=new o.ImageViewModel(i)}return n}();t.ItemScreenshotViewModel=et;var ft=u.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ItemDetailsProperties,ot=tt.delegate,st=h.WindowWrapper,ut=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._isInstallControlInitialized=!1,t}return __extends(t,n),t.prototype.initialize=function(){var u=this,i,r;n.prototype.initialize.call(this);this.getViewModel().showMinimalView||this._drawCarousel();$(".ux-itemdetails-left a").attr("rel","noreferrer noopener");this._showDownloadDialogIfNeeded();this._initializeInstallDialog();this._addClickHandlersForSocialLinks();h.clearRedirectionCookie();this._createActionButtonPopupMenuCallback=ot(this,this._createActionButtonPopupMenu);k.getService().attachEvent(l.VSSItemDetailsViewModel.EVENT_ON_CLICK_ACTION_BUTTONS_DROPDOWN_ICON,this._createActionButtonPopupMenuCallback);$(window).bind("scroll",function(){u._disposeExistingPopup()});this.getViewModel().showPriceCalculatorInMarkdown&&(i=y.loadHtmlTemplate("price-calculator-view-template"),r=this.getElement().find(t.PRICING_PLACEHOLDER),r.replaceWith(i),v.applyBindings(this.getViewModel().itemPriceCalculator,i[0]))},t.prototype._disposeExistingPopup=function(){this._popupMenu&&(this._popupMenu.dispose(),delete this._popupMenu)},t.prototype._createActionButtonPopupMenu=function(){var n,t;this._disposeExistingPopup();var u=this.getViewModel(),i=[],f=r.ItemInstall;i.push({actionButtonText:f,actionButtonLink:u.freeInstallLink});n=$(".action-button-dropdown").eq(0);t=p.BaseControl.createIn(g.PopupMenu,n,{align:"right-bottom",showIcon:!1,items:[{childItems:this._getActionButtonMenuItems(i)}]});t.getElement().addClass("menu-popup");t.popup(n,n);this._popupMenu=t},t.prototype._getActionButtonMenuItems=function(n){var i=this,t=[];return $.each(n,function(n,r){var u={title:r.actionButtonText,showText:!0,action:function(){i._onClickInstallForPaidUsersOption(r.actionButtonLink)}};r.actionButtonText&&(u.text=r.actionButtonText);t.push(u)}),t},t.prototype._showInstallModalDialog=function(){var n=$("#install-pop-up");n.modal("show")},t.prototype._onClickInstallForPaidUsersOption=function(n){f.TelemetryHelper.setJourneyIdIfNeeded(this.getViewModel().fullyQualifiedItemName);this.getViewModel()._logTelemetryForItemAcquisitionClick(u.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_INSTALL_ITEM_CLICK);!this.getViewModel().isUserAuthenticated||h.isHostedConnectedContext()?(n+="&"+e.GalleryURLs.SkipBuyQueryParamEnabled,st.open(n,"_self")):(this.updateQueryParam(e.GalleryURLs.SkipBuyQueryParam,!0),this._showInstallModalDialog())},t.prototype._showDownloadDialogIfNeeded=function(){var t=this.getViewModel(),n;t.initiateDownloadonPageLoad&&(n=$("#download-pop-up"),n.modal(),this.updateQueryParam("download"))},t.prototype._addClickHandlersForSocialLinks=function(){var i=this,n=this.getElement().find(".item-share-container .social-link");n&&n.length>0&&n.click(function(n){var o=$(n.target),e="",s=i.getViewModel(),r;o.hasClass(t.SHARE_TWITTER_CLASS)?e=u.CustomerIntelligenceConstants.SocialNetworkConstants.TWITTER:o.hasClass(t.SHARE_FACEBOOK_CLASS)?e=u.CustomerIntelligenceConstants.SocialNetworkConstants.FACEBOOK:o.hasClass(t.SHARE_EMAIL_CLASS)&&(e=u.CustomerIntelligenceConstants.SocialNetworkConstants.EMAIL);r={};r[ft.SectionName]=e;r[ft.Id]=s.fullyQualifiedItemName;r[ft.ProductType]=a.ItemModelHelper.getItemTypeText(s.vssDetailedItem.itemType);f.TelemetryHelper.publishEvent(u.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SOCIAL_EVENT_CLICK,r)})},t.prototype._initializeInstallDialog=function(){var n=this,r=this.getViewModel(),f=r.getExternalDataProvider(),t,u;this.updateQueryParam(e.GalleryURLs.AuthRedirectQueryParam);t=rt.CookieUtils.getCookieValueForGivenKey("CommerceMarketplaceSubscriptionCookie",e.GalleryURLs.Referrer);t!==""&&this.updateQueryParam(e.GalleryURLs.Referrer,t);$("#install-pop-up").on("show.bs.modal",function(t){n.updateQueryParam("install",!0);var r=t&&t.relatedTarget&&(t.relatedTarget.className==="freeinstall-button-container"||t.relatedTarget.className==="trial-button-container");r&&n.updateQueryParam("freeInstall",!0);n._isInstallControlInitialized?b.getService().performAction(i.GalleryEvents.LAUNCH_INSTALL,{isFreeInstall:r}):(p.Enhancement.registerEnhancement(s.InstallView,"#install-pop-up",{VSSDataProvider:f}),n._isInstallControlInitialized=!0)});$("#install-pop-up").on("shown.bs.modal",function(){var n=$("#install-pop-up");c.setModalTabbing(n);c.setFocusOnFirstTabbableElement(n)});$("#install-pop-up").on("hide.bs.modal",function(){n._clearInstallQueryParams();h.clearRedirectionCookie();b.getService().performAction(i.GalleryEvents.UNLOAD_INSTALL,null)});r.initiateInstall&&(u=$("#install-pop-up"),u.modal({backdrop:"static",keyboard:!0}))},t.prototype._clearInstallQueryParams=function(){var n=this;e.GalleryURLs.getInstallQueryParams().forEach(function(t){n.updateQueryParam(t)})},t.prototype._drawCarousel=function(){var i=this,o=this.getElement(),r=o.find(".item-carousel"),u=[],n=this.getViewModel().screenshotUrls,f=this.getViewModel().fallbackScreenshotUrls,t;if(n&&n.length>0){for(t=0;t<n.length;t++)u.push(new et(n[t],f[t]));var s={itemTemplate:"item-tile-screenshot-template",items:u,showIndicators:!0,numberOfItemsToDisplay:1,autoPlay:!1,noShadow:!0},h=d.TemplateControl.applyRegisteredBinding("carousel-template",r,s),e=h.getViewModel(),c=r.find(".carousel");this._bind(c,"click",function(){var t=$(it.domElem("img")),r;t.attr("src",n[e.selectedIndicatorIndex()]);r=w.show(w.Dialog,{content:t,resizable:!1,preventAutoResize:!0});t.bind("error",{img:t,dialog:r},function(n){n.data.img.unbind("error");n.data.img.removeAttr("src");n.data.img.attr("src",f[e.selectedIndicatorIndex()]);setTimeout(function(){i._adjustPopupDimensions(n.data.dialog)},10)});setTimeout(function(){i._adjustPopupDimensions(r)},0)})}},t.prototype._adjustPopupDimensions=function(n){var f=$(window).width()*.8,e=$(window).height()*.8,i=n.getElement(),t,r,u;i.css("max-width",f+"px");i.css("max-height",e+"px");i.css("width","");i.css("height","");t=i.closest(".ui-dialog");t.css("width","auto");t.css("height","auto");t.addClass("item-details-screenshot-popup");r=t.width();t.css("left","50%");t.css("margin-left","-"+r/2+"px");u=t.height();t.css("top","50%");t.css("margin-top","-"+u/2+"px")},t.prototype.updateQueryParam=function(n,t){t===void 0&&(t=null);var r=nt.getHistoryService(),i=r.getCurrentState(),u=r.getCurrentHashString();i=i||{};n&&(i[n]=t,r.replaceHistoryPoint("",i,null,!0));u&&(window.location.hash=u)},t.prototype.dispose=function(){$(window).unbind("scroll");n.prototype.dispose.call(this)},t.prototype._cleanup=function(){this._disposeExistingPopup();k.getService().detachEvent(l.VSSItemDetailsViewModel.EVENT_ON_CLICK_ACTION_BUTTONS_DROPDOWN_ICON,this._createActionButtonPopupMenuCallback);n.prototype._cleanup.call(this)},t}(d.TemplateControl);ut.SHARE_TWITTER_CLASS="share-twitter-button";ut.SHARE_FACEBOOK_CLASS="share-facebook-button";ut.SHARE_EMAIL_CLASS="share-email-button";ut.PRICING_PLACEHOLDER='p:contains("ShowPriceCalculator")';t.VSSItemDetailsView=ut});
define("Gallery/Client/Pages/VSSItemDetails/VSSItemDetails.View",["require","exports","Gallery/Client/Controls/AcquireItemWizardError/AcquireItemWizardError.View","Gallery/Client/Controls/AcquireItemWizardError/AcquireItemWizardError.ViewModel","Gallery/Client/Pages/Common/Base.View","Gallery/Client/Common/Constants","Gallery/Client/Controls/FilterControl/FilterControl.View","Gallery/Client/Controls/FilterControl/FilterControl.ViewModel","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Client/Service/GitHubServiceProvider/GitHubServiceProvider","Gallery/Client/Pages/Common/ItemContext","Gallery/Client/Service/VSSItemHelper","Gallery/Client/Controls/ItemTile/Item.View","Gallery/Client/Controls/ItemTile/ItemTile.ViewModel","Gallery/Client/Controls/RatingControl/RatingControl.View","Gallery/Client/Controls/RatingControl/RatingControl.ViewModel","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Controls/VSCodeCopyCommand/VSCodeCopyCommand.View","Gallery/Client/Controls/VSCodeCopyCommand/VSCodeCopyCommand.ViewModel","Gallery/Client/Service/VSSCommerce/VSSCommerce","Gallery/Client/Service/VSSGallery/VSSGallery","Gallery/Client/Controls/VSSItemDetails/VSSItemDetails.View","Gallery/Client/Controls/VSSItemDetails/VSSItemDetails.ViewModel","Gallery/Client/Service/VSSItem","VSS/Context","VSS/Controls","VSS/Diag","VSS/Events/Action","VSS/Adapters/Knockout","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at){var pt=s.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ItemDetailsProperties,vt=s.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.VSSErrorProperties,wt=s.CustomerIntelligenceConstants.MarketPlaceIntelligencePropertyName,yt=function(n){function t(){var t=n.call(this)||this;return t.SelectedTabCookie="Market_SelectedTab",t._isHosted=et.getPageContext().webAccessConfiguration.isHosted,t}return __extends(t,n),t.prototype.initialize=function(){if(s.GalleryPerformance.startScenarioFromNavigation(s.PerformanceConstants.LoadVSSItemDetails),s.GalleryPerformance.split("VSSItemDetails.View.ScriptsLoaded"),n.prototype.initialize.call(this),st.logTracePoint("VSSItemDetails.loading.start"),this.unFixHeader(),this._showItem(),$.fn.button.noConflict){var t=$.fn.button.noConflict();$.fn.bootstrapBtn=t}$(window).on("beforeunload",function(){ht.getService().performAction(f.GalleryEvents.UNLOAD_DETAILS,null)})},t.prototype._showItem=function(){var n=this,o=function(t){var i=n._element;ct.TemplateControl.applyRegisteredBinding("item-details-view-template",i,t);st.logTracePoint("VSSItemDetails.loading.end");n._itemDetailsViewModel.onItemLoaded().then(function(){ht.getService().performAction(f.GalleryEvents.PAGE_LOAD)})},i;this._fullyQualifiedItemName=this._getItemNameFromUrl(location.href);var r=at.Uri.parse(location.href),c=k.GalleryURLs.isExternalInstall(location.search),e=a.getVSSJsonDataProviderInitOptions(),t=c&&!this._isHosted,y=e||t;y?(this._vssGallery=t?new it.VSSGalleryExternalProvider(d.UrlUtils.getExternalSourceUrl()):this._options.VSSDataProvider||new it.VSSCachingProvider(e),this._vssCommerce=this._options.VSSCommerce||new tt.VSSCommerce,this._gitHubServiceProvider=this._options.GitHubServiceProvider||new l.GitHubServiceProvider,this._vssGallery.getDetailedItem(this._fullyQualifiedItemName).then(function(i){var e;n._detailedItem=i;t&&(document.title=n._getPageTitle(i.title));e=v.VSSItemHelper.isItemDownloadable(i);i.itemType===ft.VSSItemType.VSCodeExtension?(u.BaseView.setSearchContext(f.SearchConstants.VSCodeProductText),n._setSelectedTabCookie(f.tabConstants.VSCodeTab)):i.itemType===ft.VSSItemType.VSIdeExtension?(u.BaseView.setSearchContext(f.SearchConstants.VSProductText),n._setSelectedTabCookie(f.tabConstants.VSTab)):(u.BaseView.setSearchContext(f.SearchConstants.VSTSProductText),n._setSelectedTabCookie(f.tabConstants.VSTSTab));var h=lt.ignoreCaseComparer(r.getQueryParam("download"),"true")===0,c=lt.ignoreCaseComparer(r.getQueryParam("install"),"true")===0,l={vssDetailedItem:i,vssGalleryProvider:n._vssGallery,gitHubServiceProvider:n._gitHubServiceProvider,vssDownloadVsixFlag:e,intiateDownloadOnPageLoad:h,intiateInstall:c,showMinimalView:t};o(l);s.GalleryPerformance.endScenario(s.PerformanceConstants.LoadVSSItemDetails)},function(t){var i={};i[vt.FailedAPI]="IVSSGallery.getDetailedItem";i[vt.ErrorMessage]="Error retrieving item details";i[vt.ItemName]=n._fullyQualifiedItemName;i[vt.Reason]=JSON.stringify(t);h.ErrorLog.logVSSError(i);n._showInvalidItemError()})):(this._showInvalidItemError(),i={},i[vt.FailedAPI]="VSSItemDetails._showItem",i[vt.ErrorMessage]="Retrieved item is invalid.",i[vt.ItemName]=this._fullyQualifiedItemName)},t.prototype._setSelectedTabCookie=function(n){var t=new Date;t.setTime(t.getTime()+63072e6);document.cookie=this.SelectedTabCookie+"="+n+"; expires="+t.toGMTString()},t.prototype._getPageTitle=function(n){return this._isHosted?lt.format("{0} | {1}",n,c.PageTitle):lt.format("{0} | {1}",n,c.OnPremGalleryPageTitle)},t.prototype._addClickHandlersForSocialLinks=function(){var i=this,n=this.getElement().find(".item-share-container .social-link");n&&n.length>0&&n.click(function(){var u=$(event.target),r="",n;u.hasClass(t.SHARE_TWITTER_CLASS)?r=s.CustomerIntelligenceConstants.SocialNetworkConstants.TWITTER:u.hasClass(t.SHARE_FACEBOOK_CLASS)?r=s.CustomerIntelligenceConstants.SocialNetworkConstants.FACEBOOK:u.hasClass(t.SHARE_EMAIL_CLASS)&&(r=s.CustomerIntelligenceConstants.SocialNetworkConstants.EMAIL);n={};n[pt.SectionName]=r;n[pt.Id]=i._fullyQualifiedItemName;n[pt.ProductType]=ft.ItemModelHelper.getItemTypeText(i._detailedItem.itemType);h.TelemetryHelper.publishEvent(s.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SOCIAL_EVENT_CLICK,n)})},t.prototype._getItemNameFromUrl=function(n){var t=at.Uri.parse(n);return t.getQueryParam("itemName")},t.prototype._showInvalidItemError=function(){this._element.empty();var n=d.HtmlHelper.getReturntoHomePageHtml(this._isHosted),t=lt.format(c.ErrorDiagnosisReturnToHome,n),i={errorText:c.ErrorPageNotAvailable,errorDiagnosisHtml:t};u.BaseView._showError(i,this._element)},t.prototype.registerControls=function(){var t=this;n.prototype.registerControls.call(this);ct.TemplateControl.registerBinding("item-details-view-template",rt.VSSItemDetailsView,function(n){var i=new ut.VSSItemDetailsViewModel(n);return t._itemDetailsViewModel=i,i});ct.TemplateControl.registerBinding("item-banner-template",y.ItemBannerView,function(n){return new p.ItemTileViewModel(n)});ct.TemplateControl.registerBinding("rating-control-page-template",w.RatingControlView,function(n){return new b.RatingControlViewModel(n)});ct.TemplateControl.registerBinding("vscode-copy-command-template",g.VSCodeCopyCommandView,function(n){return new nt.VSCodeCopyCommandViewModel(n)});ct.TemplateControl.registerBinding("acquire-item-wizard-error",i.AcquireItemWizardErrorView,function(n){return new r.AcquireItemWizardErrorViewModel(n)});ct.TemplateControl.registerBinding("filter-control-template",e.FilterControlView,function(n){return new o.FilterControlViewModel(n)})},t}(u.BaseView);yt.SHARE_TWITTER_CLASS="share-twitter-button";yt.SHARE_FACEBOOK_CLASS="share-facebook-button";yt.SHARE_EMAIL_CLASS="share-email-button";t.VSSItemDetails=yt;ot.Enhancement.registerEnhancement(yt,".item-details-main-content")});
if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-view'); }